{"version":3,"sources":["webpack:////var/www/source/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?3802","webpack:////var/www/source/node_modules/@ant-design/icons-svg/es/asn/InfoCircleOutlined.js","webpack:////var/www/source/node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js","webpack:///./components/Apply/ApplyPage.tsx","webpack:///./pages/apply.tsx"],"names":["window","__NEXT_P","push","props","ref","AntdIcon","Object","assign","icon","displayName","HalfFormItem","styled","Form","Item","Option","Select","ApplyPage","useState","submitted","setSubmitted","unauthorized","setUnauthorized","router","useRouter","useForm","form","semesters","useSWR","a","API","get","data","handleSubmit","validateFields","value","sections","replace","split","map","Number","password","keys","query","length","course","submitCourse","status","title","subTitle","href","extra","type","key","onClick","resetFields","style","padding","layout","initialValues","remember","semester","timezone","label","name","rules","required","message","placeholder","justify","validator","_","subject","test","validateCourseName","Promise","resolve","reject","Error","val","isNaN","validateSections","id","season","year","replaceAll","align","marginRight","target","rel","InfoCircleOutlined","htmlType","Apply"],"mappings":"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","file":"static/BuYOhnSMK8hlbpgsZbn2C/pages/apply.js","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/apply\",\n      function () {\n        return require(\"private-next-pages/apply.tsx\");\n      }\n    ]);\n  ","// This icon file is generated automatically.\nvar InfoCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"info-circle\", \"theme\": \"outlined\" };\nexport default InfoCircleOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport InfoCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/InfoCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar InfoCircleOutlined = function InfoCircleOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: InfoCircleOutlinedSvg\n  }));\n};\n\nInfoCircleOutlined.displayName = 'InfoCircleOutlined';\nexport default React.forwardRef(InfoCircleOutlined);","import { SubmitCourseParams } from \"@koh/common\";\nimport { API } from \"@koh/api-client\";\nimport React, { ReactElement, useState } from \"react\";\nimport { Form, Input, Tooltip, Row, Select, Button, Result } from \"antd\";\nimport { InfoCircleOutlined } from \"@ant-design/icons\";\nimport styled from \"styled-components\";\nimport useSWR from \"swr\";\nimport { useRouter } from \"next/router\";\n\nconst HalfFormItem = styled(Form.Item)`\n  width: 48%;\n`;\n\nconst { Option } = Select;\n\nexport default function ApplyPage(): ReactElement {\n  const [submitted, setSubmitted] = useState(false);\n  const [unauthorized, setUnauthorized] = useState(false);\n  const router = useRouter();\n  const [form] = Form.useForm();\n  const { data: semesters } = useSWR(\"/api/v1/semesters\", async () =>\n    API.semesters.get()\n  );\n\n  const handleSubmit = async () => {\n    const value = await form.validateFields();\n    value.sections = value.sections.replace(/\\s+/g, \"\").split(\",\").map(Number);\n    value.password =\n      Object.keys(router.query).length == 1 ? Object.keys(router.query)[0] : \"\";\n\n    try {\n      await API.course.submitCourse(value as SubmitCourseParams);\n    } catch (error) {\n      setUnauthorized(true);\n    }\n\n    setSubmitted(true);\n  };\n\n  const resubmit = () => {\n    form.resetFields();\n    setSubmitted(false);\n  };\n\n  const validateSections = (value: string): boolean => {\n    const values = value.replace(/\\s+/g, \"\").split(\",\");\n    for (const val of values) {\n      if (isNaN(Number(val))) return false;\n    }\n    return true;\n  };\n\n  const validateCourseName = (value: string): boolean => {\n    const split = value.split(\" \");\n    const subject =\n      split[0] == \"CS\" ||\n      split[0] == \"DS\" ||\n      split[0] == \"CY\" ||\n      split[0] == \"IS\";\n    return split.length == 2 && subject && /^\\d+$/.test(split[1]);\n  };\n\n  if (unauthorized) {\n    return (\n      <Result\n        status=\"403\"\n        title=\"403\"\n        subTitle={\n          <div>\n            Sorry, you are not authorized to submit an application.\n            <br />\n            Please email{\" \"}\n            <a href=\"mailto:help@khouryofficehours.com\">\n              help@khouryofficehours.com\n            </a>{\" \"}\n            for the correct URL.\n          </div>\n        }\n      />\n    );\n  }\n\n  if (submitted) {\n    return (\n      <Result\n        status=\"success\"\n        title=\"Application successfully submitted!\"\n        subTitle={\n          <div>\n            Thanks for applying to use Khoury Office Hours, we&apos;ll email you\n            with next steps as the semester gets closer.\n            <br />\n            If you have any questions, feel free to email us at{\" \"}\n            <a href=\"mailto:help@khouryofficehours.com\">\n              help@khouryofficehours.com\n            </a>\n            .\n          </div>\n        }\n        extra={[\n          <Button\n            type=\"primary\"\n            key=\"info\"\n            href=\"https://info.khouryofficehours.com\"\n          >\n            Go to Info Site\n          </Button>,\n          <Button key=\"submit\" onClick={resubmit}>\n            Submit another course\n          </Button>,\n        ]}\n      />\n    );\n  }\n\n  return (\n    <div style={{ padding: \"3% 12%\" }}>\n      <h1>Apply for Khoury Office Hours</h1>\n\n      <div>\n        Please submit an application for each course you want to use Khoury\n        Office Hours for.\n      </div>\n      <br />\n      <Form\n        form={form}\n        layout=\"vertical\"\n        initialValues={{\n          remember: true,\n          semester: \"Summer_1 2021\",\n          timezone: \"America/New_York\",\n        }}\n      >\n        <Form.Item\n          label=\"Email\"\n          name=\"coordinator_email\"\n          rules={[\n            {\n              required: true,\n              type: \"email\",\n              message: \"Please input your email.\",\n            },\n          ]}\n        >\n          <Input placeholder=\"example@northeastern.edu\" />\n        </Form.Item>\n\n        <Row justify=\"space-between\">\n          <HalfFormItem\n            label=\"Course Name\"\n            name=\"name\"\n            rules={[\n              { required: true, message: \"Please input your course name.\" },\n              {\n                validator: (_, value) =>\n                  validateCourseName(value)\n                    ? Promise.resolve()\n                    : Promise.reject(\n                        new Error(\n                          \"Please enter a valid course format (e.g. CS 2500).\"\n                        )\n                      ),\n              },\n            ]}\n          >\n            <Input placeholder=\"Ex: CS 2500\" />\n          </HalfFormItem>\n\n          <HalfFormItem\n            label=\"Section Number(s)\"\n            name=\"sections\"\n            rules={[\n              {\n                required: true,\n                message: \"Please input your section number(s).\",\n              },\n              {\n                validator: (_, value) =>\n                  validateSections(value)\n                    ? Promise.resolve()\n                    : Promise.reject(\n                        new Error(\n                          \"Please enter a comma separated list of section numbers.\"\n                        )\n                      ),\n              },\n            ]}\n          >\n            <Input placeholder=\"Ex: 1, 2, 3\" />\n          </HalfFormItem>\n        </Row>\n\n        <Row justify=\"space-between\">\n          <HalfFormItem\n            label=\"Semester\"\n            name=\"semester\"\n            rules={[{ required: true, message: \"Please select a semester.\" }]}\n          >\n            <Select>\n              {semesters &&\n                semesters.map((semester) => (\n                  <Option\n                    key={semester.id}\n                    value={`${semester.season} ${semester.year}`}\n                  >\n                    {`${semester.season} ${semester.year}`.replaceAll(\"_\", \" \")}\n                  </Option>\n                ))}\n            </Select>\n          </HalfFormItem>\n\n          <HalfFormItem\n            label=\"Campus\"\n            name=\"timezone\"\n            rules={[\n              {\n                required: true,\n                message:\n                  \"Please select a Northeastern campus (for purpose of timezone).\",\n              },\n            ]}\n          >\n            <Select>\n              <Option value=\"America/New_York\">Boston / Charlotte</Option>\n              <Option value=\"America/Los_Angeles\">\n                San Francisco / Seattle\n              </Option>\n              <Option value=\"America/Toronto\">Toronto</Option>\n              <Option value=\"America/Vancouver\">Vancouver</Option>\n            </Select>\n          </HalfFormItem>\n        </Row>\n\n        <Form.Item\n          label={\n            <Row align=\"middle\">\n              <span style={{ marginRight: 8 }}>Office Hours Calendar URL</span>{\" \"}\n              <Tooltip\n                title={\n                  <div>\n                    See{\" \"}\n                    <a\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      href=\"https://info.khouryofficehours.com/coordinators-manual\"\n                    >\n                      here\n                    </a>{\" \"}\n                    to create your office hours calendar\n                  </div>\n                }\n              >\n                <InfoCircleOutlined />\n              </Tooltip>\n            </Row>\n          }\n          name=\"icalURL\"\n          rules={[\n            {\n              required: true,\n              type: \"url\",\n              message: \"Please input your office hours calendar URL.\",\n            },\n          ]}\n        >\n          <Input placeholder=\"https://calendar.google.com/calendar/ical/.../basic.ics\" />\n        </Form.Item>\n\n        <br />\n\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" onClick={handleSubmit}>\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n}\n","import Head from \"next/head\";\nimport React, { ReactElement } from \"react\";\nimport { StandardPageContainer } from \"../components/common/PageContainer\";\nimport ApplyPage from \"../components/Apply/ApplyPage\";\n\nexport default function Apply(): ReactElement {\n  return (\n    <StandardPageContainer>\n      <Head>\n        <title>Apply | Khoury Office Hours</title>\n      </Head>\n      <ApplyPage />\n    </StandardPageContainer>\n  );\n}\n"],"sourceRoot":""}