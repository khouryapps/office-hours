{"version":3,"sources":["webpack:////var/www/source/node_modules/@ant-design/icons/CloseCircleFilled.js","webpack:///./hooks/useDefaultCourseRedirect.ts","webpack:////var/www/source/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?f106","webpack:////var/www/source/node_modules/@ant-design/icons/lib/icons/CloseCircleFilled.js","webpack:////var/www/source/node_modules/@ant-design/icons/lib/icons/ExclamationCircleFilled.js","webpack:////var/www/source/node_modules/@ant-design/icons-svg/lib/asn/CloseCircleFilled.js","webpack:///./hooks/useProfile.ts","webpack:////var/www/source/node_modules/@ant-design/icons-svg/lib/asn/ExclamationCircleFilled.js","webpack:////var/www/source/node_modules/@ant-design/icons-svg/lib/asn/CheckCircleFilled.js","webpack:///./hooks/useLocalStorage.ts","webpack:////var/www/source/node_modules/@ant-design/icons/ExclamationCircleFilled.js","webpack:////var/www/source/node_modules/@ant-design/icons/CheckCircleFilled.js","webpack:////var/www/source/node_modules/@ant-design/icons/lib/icons/CheckCircleFilled.js","webpack:///./pages/nocourses.tsx"],"names":["obj","Object","defineProperty","exports","value","default","_default","__esModule","module","useDefaultCourseRedirect","profile","useProfile","useLocalStorage","defaultCourse","courses","length","isUserInDefaultCourse","some","c","course","id","Router","push","window","__NEXT_P","_interopRequireDefault","_interopRequireWildcard","React","_CloseCircleFilled","_AntdIcon","CloseCircleFilled","props","ref","createElement","assign","icon","displayName","forwardRef","_ExclamationCircleFilled","ExclamationCircleFilled","pathname","useRouter","useSWR","a","API","index","data","error","response","status","isWindow","key","initialValue","useState","item","localStorage","getItem","JSON","parse","console","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","removeItem","_CheckCircleFilled","CheckCircleFilled","NoCourses","selfEnrollCourses","title","subTitle","style","textAlign","map","i","onClick","createSelfEnrollOverride","name"],"mappings":"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","file":"static/BuYOhnSMK8hlbpgsZbn2C/pages/nocourses.js","sourcesContent":["'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _CloseCircleFilled = _interopRequireDefault(require('./lib/icons/CloseCircleFilled'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _CloseCircleFilled;\n  exports.default = _default;\n  module.exports = _default;","import { User } from \"@koh/common\";\nimport Router from \"next/router\";\nimport { useLocalStorage } from \"./useLocalStorage\";\nimport { useProfile } from \"./useProfile\";\n\nexport function useDefaultCourseRedirect(): boolean {\n  const profile: User = useProfile();\n  const [defaultCourse] = useLocalStorage(\"defaultCourse\", null);\n  if (profile && profile.courses.length > 0) {\n    /// defaultCourse can get out-of-sync with the user's actual registered course (dropped class etc)\n    const isUserInDefaultCourse =\n      !!defaultCourse &&\n      profile.courses.some((c) => c.course.id === defaultCourse?.id);\n    Router.push(\n      \"/course/[cid]/today\",\n      `/course/${\n        isUserInDefaultCourse ? defaultCourse.id : profile.courses[0].course.id\n      }/today`\n    );\n    return true;\n  }\n  return false;\n}\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/nocourses\",\n      function () {\n        return require(\"private-next-pages/nocourses.tsx\");\n      }\n    ]);\n  ","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/CloseCircleFilled\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar CloseCircleFilled = function CloseCircleFilled(props, ref) {\n  return React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _CloseCircleFilled.default\n  }));\n};\n\nCloseCircleFilled.displayName = 'CloseCircleFilled';\n\nvar _default = React.forwardRef(CloseCircleFilled);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ExclamationCircleFilled = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/ExclamationCircleFilled\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar ExclamationCircleFilled = function ExclamationCircleFilled(props, ref) {\n  return React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _ExclamationCircleFilled.default\n  }));\n};\n\nExclamationCircleFilled.displayName = 'ExclamationCircleFilled';\n\nvar _default = React.forwardRef(ExclamationCircleFilled);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CloseCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z\" } }] }, \"name\": \"close-circle\", \"theme\": \"filled\" };\nexports.default = CloseCircleFilled;\n","import useSWR from \"swr\";\nimport { API } from \"@koh/api-client\";\nimport Router, { useRouter } from \"next/router\";\nimport { User } from \"@koh/common\";\n\ntype Hook = () => User;\n\nexport const useProfile: Hook = () => {\n  const { pathname } = useRouter();\n  const { data, error } = useSWR(\n    `api/v1/profile`,\n    async () => await API.profile.index()\n  );\n\n  // Redirect to login page (later Khoury Admin login) if API request returns an error or empty object\n  if (error?.response?.status === 401 && pathname !== \"/login\") {\n    Router.push(\"/login\");\n  } else if (data) {\n    return data;\n  }\n};\n","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ExclamationCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"filled\" };\nexports.default = ExclamationCircleFilled;\n","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CheckCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\" } }] }, \"name\": \"check-circle\", \"theme\": \"filled\" };\nexports.default = CheckCircleFilled;\n","import { useState, Dispatch, SetStateAction } from \"react\";\n\nconst isWindow = typeof window !== \"undefined\";\n\nexport function useLocalStorage<T>(\n  key: string,\n  initialValue: T\n): [T, Dispatch<SetStateAction<T>>, Dispatch<SetStateAction<void>>] {\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      const item = isWindow && window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value: T) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n\n      isWindow &&\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const removeValue = () => {\n    try {\n      setStoredValue(null);\n\n      isWindow && window.localStorage.removeItem(key);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue, removeValue];\n}\n","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _ExclamationCircleFilled = _interopRequireDefault(require('./lib/icons/ExclamationCircleFilled'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _ExclamationCircleFilled;\n  exports.default = _default;\n  module.exports = _default;","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _CheckCircleFilled = _interopRequireDefault(require('./lib/icons/CheckCircleFilled'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _CheckCircleFilled;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _CheckCircleFilled = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/CheckCircleFilled\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar CheckCircleFilled = function CheckCircleFilled(props, ref) {\n  return React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _CheckCircleFilled.default\n  }));\n};\n\nCheckCircleFilled.displayName = 'CheckCircleFilled';\n\nvar _default = React.forwardRef(CheckCircleFilled);\n\nexports.default = _default;","import { API } from \"@koh/api-client\";\nimport { Button, Result } from \"antd\";\nimport Router from \"next/router\";\nimport { ReactElement } from \"react\";\nimport useSWR from \"swr\";\nimport { useDefaultCourseRedirect } from \"../hooks/useDefaultCourseRedirect\";\n\nexport default function NoCourses(): ReactElement {\n  useDefaultCourseRedirect();\n\n  const { data } = useSWR(\"/api/v1/courses/self_enroll_courses\", async () =>\n    API.course.selfEnrollCourses()\n  );\n\n  return (\n    <div>\n      <Result\n        status=\"info\"\n        title=\"None of your courses are using the Khoury Office Hours App.\"\n        subTitle=\"If you expected your course to be here, try logging in again. If it still does not appear, please reach out to your course coordinator or professor.\"\n      />\n      {data?.courses.length > 0 ? (\n        <div style={{ textAlign: \"center\" }}>\n          One of our data sources for student-enrollment is currently\n          experiencing an outage. If you think you belong to a class, please\n          click on your corresponding class below.\n          <div>\n            {data?.courses.map((course, i) => {\n              return (\n                <Button\n                  key={i}\n                  onClick={async () => {\n                    await API.course.createSelfEnrollOverride(course.id);\n                    Router.push(\"/login\");\n                  }}\n                >\n                  {course.name}\n                </Button>\n              );\n            })}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"],"sourceRoot":""}