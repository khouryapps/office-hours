(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"3kVu":function(e,t,n){e.exports=n("iQU9")},CKrD:function(e,t,n){"use strict";var r=n("ERkP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"},o=n("vspj"),i=function(e,t){return r.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName="BellOutlined";t.a=r.forwardRef(i)},DuHN:function(e,t,n){"use strict";var r,a,o,i,c=n("97Jx"),l=n.n(c),u=n("KEM+"),s=n.n(u),d=n("ERkP"),f=n("O94r"),p=n.n(f),m=n("msMj"),v=n("4RO4"),h=n.n(v),g=n("g+9h"),y=n.n(g),C=n("+O3j"),O=n.n(C),b=n("pKF9"),k=n.n(b),w=n("naMz"),x=3,E=1,S="ant-message",j="move-up",I=!1;var R={info:n.n(w).a,success:k.a,error:O.a,warning:y.a,loading:h.a};var T={open:function(e){var t,n=void 0!==e.duration?e.duration:x,c=R[e.type],l=p()("".concat(S,"-custom-content"),(t={},s()(t,"".concat(S,"-").concat(e.type),e.type),s()(t,"".concat(S,"-rtl"),!0===I),t)),u=e.key||E++,f=new Promise((function(t){var s=function(){return"function"===typeof e.onClose&&e.onClose(),t(!0)};!function(e){a?e(a):m.default.newInstance({prefixCls:S,transitionName:j,style:{top:r},getContainer:o,maxCount:i},(function(t){a?e(a):(a=t,e(t))}))}((function(t){t.notice({key:u,duration:n,style:e.style||{},className:e.className,content:d.createElement("div",{className:l},e.icon||c&&d.createElement(c,null),d.createElement("span",null,e.content)),onClose:s})}))})),v=function(){a&&a.removeNotice(u)};return v.then=function(e,t){return f.then(e,t)},v.promise=f,v},config:function(e){void 0!==e.top&&(r=e.top,a=null),void 0!==e.duration&&(x=e.duration),void 0!==e.prefixCls&&(S=e.prefixCls),void 0!==e.getContainer&&(o=e.getContainer),void 0!==e.transitionName&&(j=e.transitionName,a=null),void 0!==e.maxCount&&(i=e.maxCount,a=null),void 0!==e.rtl&&(I=e.rtl)},destroy:function(){a&&(a.destroy(),a=null)}};["success","info","warning","error","loading"].forEach((function(e){T[e]=function(t,n,r){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(t)?T.open(l()(l()({},t),{type:e})):("function"===typeof n&&(r=n,n=void 0),T.open({content:t,duration:n,type:e,onClose:r}))}})),T.warn=T.warning,t.a=T},SZc8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[cid]/course_admin_panel",function(){return n("s59K")}])},UmCv:function(e,t,n){"use strict";var r=n("ERkP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},o=n("vspj"),i=function(e,t){return r.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName="DeleteOutlined";t.a=r.forwardRef(i)},iQU9:function(e,t,n){"use strict";var r=n("zQIG"),a=n("8mBC"),o=n("I/kN"),i=n("cMav"),c=n("pSQP");function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}var u=n("Y3ZS");t.__esModule=!0,t.default=void 0;var s=u(n("ERkP")),d=u(n("ysqo")),f={400:"Bad Request",404:"This page could not be found",405:"Method Not Allowed",500:"Internal Server Error"};function p(e){var t=e.res,n=e.err;return{statusCode:t&&t.statusCode?t.statusCode:n?n.statusCode:404}}var m=function(e){o(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.props.statusCode,t=this.props.title||f[e]||"An unexpected error has occurred";return s.default.createElement("div",{style:v.error},s.default.createElement(d.default,null,s.default.createElement("title",null,e,": ",t)),s.default.createElement("div",null,s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body { margin: 0 }"}}),e?s.default.createElement("h1",{style:v.h1},e):null,s.default.createElement("div",{style:v.desc},s.default.createElement("h2",{style:v.h2},t,"."))))}}]),n}(s.default.Component);t.default=m,m.displayName="ErrorPage",m.getInitialProps=p,m.origGetInitialProps=p;var v={error:{color:"#000",background:"#fff",fontFamily:'-apple-system, BlinkMacSystemFont, Roboto, "Segoe UI", "Fira Sans", Avenir, "Helvetica Neue", "Lucida Grande", sans-serif',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block",textAlign:"left",lineHeight:"49px",height:"49px",verticalAlign:"middle"},h1:{display:"inline-block",borderRight:"1px solid rgba(0, 0, 0,.3)",margin:0,marginRight:"20px",padding:"10px 23px 10px 0",fontSize:"24px",fontWeight:500,verticalAlign:"top"},h2:{fontSize:"14px",fontWeight:"normal",lineHeight:"inherit",margin:0,padding:0}}},"s+7e":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ERkP"),a=n.n(r),o=n("FRUG"),i=a.a.createElement;function c(e){var t=e.avatarSize;return i(o.b,{size:t,style:{marginTop:t/6,marginBottom:t/12,marginLeft:t/6,marginRight:t/6}})}},s59K:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ce}));var r=n("wPNs"),a=n("3kVu"),o=n.n(a),i=n("ysqo"),c=n.n(i),l=n("7xIC"),u=n("ERkP"),s=n.n(u),d=n("NabS"),f=n("s9Vj"),p=n("LxhF"),m=n("xdJY"),v=n("CKrD"),h=n("S7b9"),g=n("VKn7"),y=n("9xBf"),C=n("S0yW"),O=n("vVVv"),b=n("j/s1"),k=n("Ogf2"),w=n("zjfJ"),x=n("VtSi"),E=n.n(x),S=n("QsI/"),j=n("UmCv"),I=n("zTld"),R=n("dVZ9"),T=n("SCaQ"),N=n("DuHN"),P=n("wb8e"),D=n("JbCn"),A=n("dppZ"),_=n("BmDy"),H=n("x2dm"),z=s.a.createElement,V=b.a.div.withConfig({displayName:"AddOverrideInput__OverrideInput",componentId:"wmncc1-0"})(["display:flex;margin-bottom:20px;"]);function M(e){var t=e.courseId,n=e.onAddOverride,a=Object(u.useState)(""),o=a[0],i=a[1],c=Object(u.useState)(r.r.STUDENT),l=c[0],s=c[1],d=function(){var e=Object(S.a)(E.a.mark((function e(){var r,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.course.addOverride(t,{email:o,role:l});case 3:r=e.sent,n(r),i(""),N.a.success("Successfully added an override for "+r.name),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),N.a.error(null===(a=e.t0.response)||void 0===a?void 0:null===(c=a.data)||void 0===c?void 0:c.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return z("div",null,z(V,null,z(_.a,{placeholder:"Email",style:{marginRight:10},value:o,onChange:function(e){return i(e.target.value)}}),z(H.a,{style:{width:120,marginRight:10},value:l,onChange:function(e){return s(e)}},z(H.a.Option,{value:r.r.STUDENT},"Student"),z(H.a.Option,{value:r.r.TA},"TA"),z(H.a.Option,{value:r.r.PROFESSOR},"Professor")),z(T.a,{type:"primary",onClick:d},"Add Override")))}var K=s.a.createElement;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=R.a.Column,q=b.a.div.withConfig({displayName:"CourseOverrideSettings__OverrideContents",componentId:"sc-18esdfc-0"})(["width:90%;margin-left:auto;margin-right:auto;padding-top:50px;"]);function F(e){var t=e.courseId,n=Object(D.a)("/api/v1/courses/course_override",Object(S.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.course.getCourseOverrides(t));case 1:case"end":return e.stop()}}),e)})))),r=n.data,a=n.mutate,o=Object(A.a)(t),i=o.course,c=o.mutateCourse,l={student:"Student",ta:"TA",professor:"Professor"};return K(q,null,K(M,{courseId:t,onAddOverride:function(){return a()}}),K(R.a,{dataSource:null===r||void 0===r?void 0:r.data.map((function(e,t){return L(L({},e),{},{key:t,role:l[e.role]})}))},K(U,{title:"Name",dataIndex:"name",key:"name"}),K(U,{title:"Email",dataIndex:"email",key:"email"}),K(U,{title:"Role",dataIndex:"role",key:"role"}),K(U,{title:"Delete",key:"delete",render:function(e,n){return K(T.a,{onClick:Object(S.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.course.deleteOverride(t,{email:n.email,role:n.role});case 2:N.a.success("Successfully deleted the override for "+n.name),a();case 4:case"end":return e.stop()}}),e)}))),type:"link",style:{textAlign:"center"},icon:K(j.a,{style:{color:"red"}})})}})),K("div",null,"Is Khoury Admin/Banner down? Toggle this to temporarily allow students to join your class."," ",K(P.a,{onChange:Object(S.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.course.toggleSelfEnroll(t);case 2:c();case 3:case"end":return e.stop()}}),e)}))),defaultChecked:null===i||void 0===i?void 0:i.selfEnroll})),K("b",null,"You must manually toggle this feature off later, or any student will be allowed to join your class."))}var J=n("s+7e"),Q=n("wgY5"),Y=n.n(Q),G=n("0ebU"),Z=s.a.createElement,W=Object(b.a)(G.a).withConfig({displayName:"TACheckInCheckOutTimes__TACheckInCheckOutCalendar",componentId:"q2bv8j-0"})(["height:70vh;padding-top:36px;padding-left:36px;"]),X=b.a.h1.withConfig({displayName:"TACheckInCheckOutTimes__CheckinHeader",componentId:"q2bv8j-1"})(["margin-top:12px;margin-bottom:0;padding-left:36px;"]);function $(e){var t,n=e.courseId,r=new Date;r.setDate(r.getDate()-r.getDay()),r.setHours(0,0,0,0);var a=new Date;a.setDate(r.getDate()+7),a.setHours(0,0,0,0);var o=Object(u.useState)(r),i=o[0],c=o[1],l=Object(u.useState)(a),s=l[0],d=l[1],f=Object(D.a)(["/api/v1/course/getTACheckinCheckoutTimes",i,s],(function(e,t,r){return I.a.course.getTACheckinTimes(n,t.toISOString(),r.toISOString())})),p=f.data,m=f.mutate,v=null===p||void 0===p?void 0:p.taCheckinTimes.filter((function(e){return e.forced})),h=null===p||void 0===p?void 0:p.taCheckinTimes.filter((function(e){return e.inProgress})),g=null!==(t=null===p||void 0===p?void 0:p.taCheckinTimes.map((function(e){return{start:e.checkinTime,end:e.checkoutTime?e.checkoutTime:new Date,title:e.inProgress?"TA currently holding office hours: ".concat(e.name):e.forced?"TA forgot to check out: ".concat(e.name):e.name,resource:e.numHelped}})))&&void 0!==t?t:[];return Z("div",null,Z(X,null,"TA Check-In Check-Out Times"),Z(W,{events:g,localizer:Object(G.b)(Y.a),showMultiDayTimes:!0,defaultView:"week",onRangeChange:function(e){Array.isArray(e)?(c(e[0]),d(e[e.length-1])):(c(new Date(e.start)),d(new Date(e.end))),m()},onSelectEvent:function(e){alert("".concat(e.title," helped ").concat(e.resource," students in their office hours"))}}),(null===h||void 0===h?void 0:h.length)?Z("div",null,Z("h3",null,"People currently holding office hours:"),h.map((function(e){return Z("p",{key:e.name},e.name)}))):null,(null===v||void 0===v?void 0:v.length)?Z("div",null,Z("h3",{style:{color:"red"}},"The following course staff forgot to check out:"),v.map((function(e){return Z("p",{key:e.name},e.name)})),Z("p",{style:{width:"800px"}},"Please remind course staff to check out at the end of their office hours. This way students don't join a queue thinking that there are still office hours when the course staff has already left")):null)}var ee,te=s.a.createElement;!function(e){e.CHECK_IN="CHECK_IN",e.OVERRIDES="OVERRIDES"}(ee||(ee={}));var ne=b.a.div.withConfig({displayName:"CourseAdminPanel__VerticalDivider",componentId:"sc-1e59smu-0"})(["@media (min-width:767px){border-right:1px solid #cfd6de;margin-right:32px;}"]),re=b.a.p.withConfig({displayName:"CourseAdminPanel__CenteredText",componentId:"sc-1e59smu-1"})(["text-align:center;"]);function ae(e){var t=e.defaultPage,n=e.courseId,r=Object(k.a)(),a=Object(u.useState)(t||ee.CHECK_IN),o=a[0],i=a[1],c=Object(l.useRouter)();return te(h.a,null,te(g.a,{span:4,style:{textAlign:"center"}},te(J.a,{avatarSize:20}),te(re,null,"Welcome back",te("br",null),null===r||void 0===r?void 0:r.firstName," ",null===r||void 0===r?void 0:r.lastName,!(null===r||void 0===r?void 0:r.photoURL)&&te(y.a,{title:"You should consider uploading a profile picture to make yourself more recognizable to students"},te("span",null,te(p.a,{style:{marginLeft:"5px"},onClick:function(){c.push("/settings?cid=".concat(n))}})))),te(C.a,{defaultSelectedKeys:[o],onClick:function(e){return i(e.key)},style:{background:"#f8f9fb",paddingTop:"20px"}},te(C.a.Item,{key:ee.CHECK_IN,icon:te(m.a,null)},"TA Check In/Out Times"),te(C.a.Item,{key:ee.OVERRIDES,icon:te(v.a,null)},"Course Overrides"))),te(ne,null),te(O.a,{direction:"vertical",size:40,style:{flexGrow:1}},te(g.a,{span:20},o===ee.CHECK_IN&&te($,{courseId:n}),o===ee.OVERRIDES&&te(F,{courseId:n}))))}var oe=n("nXdl"),ie=s.a.createElement;function ce(){var e=Object(l.useRouter)(),t=e.query.cid,n=Object(oe.a)(Number(t)),a=e.query.defaultPage;return n!==r.r.PROFESSOR?ie(o.a,{statusCode:404}):ie("div",null,ie(d.a,null,ie(c.a,null,ie("title",null,"Course Admin Panel | Khoury Office Hours")),ie(f.a,{courseId:Number(t)}),t&&ie(ae,{courseId:Number(t),defaultPage:a})))}},xdJY:function(e,t,n){"use strict";var r=n("ERkP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},o=n("vspj"),i=function(e,t){return r.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName="EditOutlined";t.a=r.forwardRef(i)}},[["SZc8",1,2,16,23,0,3,5,4,8,6,7,9,10,11,14,12,13,15,17,21]]]);
//# sourceMappingURL=course_admin_panel.js.map