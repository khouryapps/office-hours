_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{"3kVu":function(e,t,n){e.exports=n("iQU9")},CKrD:function(e,t,n){"use strict";var r=n("Czhu"),c=n("ERkP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"},i=n("vspj"),o=function(e,t){return c.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};o.displayName="BellOutlined";t.a=c.forwardRef(o)},SZc8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[cid]/course_admin_panel",function(){return n("s59K")}])},UmCv:function(e,t,n){"use strict";var r=n("Czhu"),c=n("ERkP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=n("vspj"),o=function(e,t){return c.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};o.displayName="DeleteOutlined";t.a=c.forwardRef(o)},iQU9:function(e,t,n){"use strict";var r=n("zQIG"),c=n("8mBC"),a=n("I/kN"),i=n("cMav"),o=n("pSQP");function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var c=o(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return i(this,n)}}var l=n("Y3ZS");t.__esModule=!0,t.default=void 0;var u=l(n("ERkP")),d=l(n("ysqo")),f={400:"Bad Request",404:"This page could not be found",405:"Method Not Allowed",500:"Internal Server Error"};function h(e){var t=e.res,n=e.err;return{statusCode:t&&t.statusCode?t.statusCode:n?n.statusCode:404}}var j=function(e){a(n,e);var t=s(n);function n(){return r(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props.statusCode,t=this.props.title||f[e]||"An unexpected error has occurred";return u.default.createElement("div",{style:p.error},u.default.createElement(d.default,null,u.default.createElement("title",null,e,": ",t)),u.default.createElement("div",null,u.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body { margin: 0 }"}}),e?u.default.createElement("h1",{style:p.h1},e):null,u.default.createElement("div",{style:p.desc},u.default.createElement("h2",{style:p.h2},t,"."))))}}]),n}(u.default.Component);t.default=j,j.displayName="ErrorPage",j.getInitialProps=h,j.origGetInitialProps=h;var p={error:{color:"#000",background:"#fff",fontFamily:'-apple-system, BlinkMacSystemFont, Roboto, "Segoe UI", "Fira Sans", Avenir, "Helvetica Neue", "Lucida Grande", sans-serif',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block",textAlign:"left",lineHeight:"49px",height:"49px",verticalAlign:"middle"},h1:{display:"inline-block",borderRight:"1px solid rgba(0, 0, 0,.3)",margin:0,marginRight:"20px",padding:"10px 23px 10px 0",fontSize:"24px",fontWeight:500,verticalAlign:"top"},h2:{fontSize:"14px",fontWeight:"normal",lineHeight:"inherit",margin:0,padding:0}}},"s+7e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("jg1C"),c=(n("ERkP"),n("FRUG"));function a(e){var t=e.avatarSize;return Object(r.jsx)(c.b,{size:t,style:{marginTop:t/6,marginBottom:t/12,marginLeft:t/6,marginRight:t/6}})}},s59K:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ne}));var r=n("jg1C"),c=n("wPNs"),a=n("3kVu"),i=n.n(a),o=n("vpUC"),s=n.n(o),l=n("Bkb1"),u=n("ERkP"),d=n("NabS"),f=n("s9Vj"),h=n("LxhF"),j=n("xdJY"),p=n("CKrD"),m=n("S7b9"),v=n("VKn7"),b=n("9xBf"),O=n("S0yW"),g=n("vVVv"),x=n("j/s1"),y=n("Ogf2"),C=n("LHL8"),w=n("IebI"),k=n.n(w),I=n("O+IG"),S=n("UmCv"),E=n("zTld"),T=n("dVZ9"),R=n("SCaQ"),P=n("DuHN"),_=n("wb8e"),N=n("JbCn"),A=n("dppZ"),D=n("BmDy"),z=n("x2dm"),H=x.a.div.withConfig({displayName:"AddOverrideInput__OverrideInput",componentId:"sc-wmncc1-0"})(["display:flex;margin-bottom:20px;"]);function V(e){var t=e.courseId,n=e.onAddOverride,a=Object(u.useState)(""),i=a[0],o=a[1],s=Object(u.useState)(c.r.STUDENT),l=s[0],d=s[1],f=function(){var e=Object(I.a)(k.a.mark((function e(){var r,c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.course.addOverride(t,{email:i,role:l});case 3:r=e.sent,n(r),o(""),P.b.success("Successfully added an override for "+r.name),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P.b.error(null===(c=e.t0.response)||void 0===c||null===(a=c.data)||void 0===a?void 0:a.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{children:Object(r.jsxs)(H,{children:[Object(r.jsx)(D.a,{placeholder:"Email",style:{marginRight:10},value:i,onChange:function(e){return o(e.target.value)}}),Object(r.jsxs)(z.a,{style:{width:120,marginRight:10},value:l,onChange:function(e){return d(e)},children:[Object(r.jsx)(z.a.Option,{value:c.r.STUDENT,children:"Student"}),Object(r.jsx)(z.a.Option,{value:c.r.TA,children:"TA"}),Object(r.jsx)(z.a.Option,{value:c.r.PROFESSOR,children:"Professor"})]}),Object(r.jsx)(R.a,{type:"primary",onClick:f,children:"Add Override"})]})})}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=T.a.Column,L=x.a.div.withConfig({displayName:"CourseOverrideSettings__OverrideContents",componentId:"sc-18esdfc-0"})(["width:90%;margin-left:auto;margin-right:auto;padding-top:50px;"]);function U(e){var t=e.courseId,n=Object(N.a)("/api/v1/courses/course_override",Object(I.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.course.getCourseOverrides(t));case 1:case"end":return e.stop()}}),e)})))),c=n.data,a=n.mutate,i=Object(A.a)(t),o=i.course,s=i.mutateCourse,l={student:"Student",ta:"TA",professor:"Professor"};return Object(r.jsxs)(L,{children:[Object(r.jsx)(V,{courseId:t,onAddOverride:function(){return a()}}),Object(r.jsxs)(T.a,{dataSource:null===c||void 0===c?void 0:c.data.map((function(e,t){return M(M({},e),{},{key:t,role:l[e.role]})})),children:[Object(r.jsx)(B,{title:"Name",dataIndex:"name"},"name"),Object(r.jsx)(B,{title:"Email",dataIndex:"email"},"email"),Object(r.jsx)(B,{title:"Role",dataIndex:"role"},"role"),Object(r.jsx)(B,{title:"Delete",render:function(e,n){return Object(r.jsx)(R.a,{onClick:Object(I.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.course.deleteOverride(t,{email:n.email,role:n.role});case 2:P.b.success("Successfully deleted the override for "+n.name),a();case 4:case"end":return e.stop()}}),e)}))),type:"link",style:{textAlign:"center"},icon:Object(r.jsx)(S.a,{style:{color:"red"}})})}},"delete")]}),Object(r.jsxs)("div",{children:["Is Khoury Admin/Banner down? Toggle this to temporarily allow students to join your class."," ",Object(r.jsx)(_.a,{onChange:Object(I.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.course.toggleSelfEnroll(t);case 2:s();case 3:case"end":return e.stop()}}),e)}))),defaultChecked:null===o||void 0===o?void 0:o.selfEnroll})]}),Object(r.jsx)("b",{children:"You must manually toggle this feature off later, or any student will be allowed to join your class."})]})}var q,F=n("s+7e"),G=n("wgY5"),Y=n.n(G),J=n("0ebU"),Q=Object(x.a)(J.a).withConfig({displayName:"TACheckInCheckOutTimes__TACheckInCheckOutCalendar",componentId:"sc-q2bv8j-0"})(["height:70vh;padding-top:36px;padding-left:36px;"]),Z=x.a.h1.withConfig({displayName:"TACheckInCheckOutTimes__CheckinHeader",componentId:"sc-q2bv8j-1"})(["margin-top:12px;margin-bottom:0;padding-left:36px;"]);function W(e){var t,n=e.courseId,c=new Date;c.setDate(c.getDate()-c.getDay()),c.setHours(0,0,0,0);var a=new Date;a.setDate(c.getDate()+7),a.setHours(0,0,0,0);var i=Object(u.useState)(c),o=i[0],s=i[1],l=Object(u.useState)(a),d=l[0],f=l[1],h=Object(N.a)(["/api/v1/course/getTACheckinCheckoutTimes",o,d],(function(e,t,r){return E.a.course.getTACheckinTimes(n,t.toISOString(),r.toISOString())})),j=h.data,p=h.mutate,m=null===j||void 0===j?void 0:j.taCheckinTimes.filter((function(e){return e.forced})),v=null===j||void 0===j?void 0:j.taCheckinTimes.filter((function(e){return e.inProgress})),b=null!==(t=null===j||void 0===j?void 0:j.taCheckinTimes.map((function(e){return{start:e.checkinTime,end:e.checkoutTime?e.checkoutTime:new Date,title:e.inProgress?"TA currently holding office hours: ".concat(e.name):e.forced?"TA forgot to check out: ".concat(e.name):e.name,resource:e.numHelped}})))&&void 0!==t?t:[];return Object(r.jsxs)("div",{children:[Object(r.jsx)(Z,{children:"TA Check-In Check-Out Times"}),Object(r.jsx)(Q,{events:b,localizer:Object(J.b)(Y.a),showMultiDayTimes:!0,defaultView:"week",onRangeChange:function(e){Array.isArray(e)?(s(e[0]),f(e[e.length-1])):(s(new Date(e.start)),f(new Date(e.end))),p()},onSelectEvent:function(e){alert("".concat(e.title," helped ").concat(e.resource," students in their office hours"))}}),null!==v&&void 0!==v&&v.length?Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"People currently holding office hours:"}),v.map((function(e){return Object(r.jsx)("p",{children:e.name},e.name)}))]}):null,null!==m&&void 0!==m&&m.length?Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{color:"red"},children:"The following course staff forgot to check out:"}),m.map((function(e){return Object(r.jsx)("p",{children:e.name},e.name)})),Object(r.jsx)("p",{style:{width:"800px"},children:"Please remind course staff to check out at the end of their office hours. This way students don't join a queue thinking that there are still office hours when the course staff has already left"})]}):null]})}!function(e){e.CHECK_IN="CHECK_IN",e.OVERRIDES="OVERRIDES"}(q||(q={}));var X=x.a.div.withConfig({displayName:"CourseAdminPanel__VerticalDivider",componentId:"sc-1e59smu-0"})(["@media (min-width:767px){border-right:1px solid #cfd6de;margin-right:32px;}"]),$=x.a.p.withConfig({displayName:"CourseAdminPanel__CenteredText",componentId:"sc-1e59smu-1"})(["text-align:center;"]);function ee(e){var t=e.defaultPage,n=e.courseId,c=Object(y.a)(),a=Object(u.useState)(t||q.CHECK_IN),i=a[0],o=a[1],s=Object(l.useRouter)();return Object(r.jsxs)(m.a,{children:[Object(r.jsxs)(v.a,{span:4,style:{textAlign:"center"},children:[Object(r.jsx)(F.a,{avatarSize:20}),Object(r.jsxs)($,{children:["Welcome back",Object(r.jsx)("br",{}),null===c||void 0===c?void 0:c.firstName," ",null===c||void 0===c?void 0:c.lastName,!(null!==c&&void 0!==c&&c.photoURL)&&Object(r.jsx)(b.a,{title:"You should consider uploading a profile picture to make yourself more recognizable to students",children:Object(r.jsx)("span",{children:Object(r.jsx)(h.a,{style:{marginLeft:"5px"},onClick:function(){s.push("/settings?cid=".concat(n))}})})})]}),Object(r.jsxs)(O.a,{defaultSelectedKeys:[i],onClick:function(e){return o(e.key)},style:{background:"#f8f9fb",paddingTop:"20px"},children:[Object(r.jsx)(O.a.Item,{icon:Object(r.jsx)(j.a,{}),children:"TA Check In/Out Times"},q.CHECK_IN),Object(r.jsx)(O.a.Item,{icon:Object(r.jsx)(p.a,{}),children:"Course Overrides"},q.OVERRIDES)]})]}),Object(r.jsx)(X,{}),Object(r.jsx)(g.b,{direction:"vertical",size:40,style:{flexGrow:1},children:Object(r.jsxs)(v.a,{span:20,children:[i===q.CHECK_IN&&Object(r.jsx)(W,{courseId:n}),i===q.OVERRIDES&&Object(r.jsx)(U,{courseId:n})]})})]})}var te=n("nXdl");function ne(){var e=Object(l.useRouter)(),t=e.query.cid,n=Object(te.a)(Number(t)),a=e.query.defaultPage;return n!==c.r.PROFESSOR?Object(r.jsx)(i.a,{statusCode:404}):Object(r.jsx)("div",{children:Object(r.jsxs)(d.a,{children:[Object(r.jsx)(s.a,{children:Object(r.jsx)("title",{children:"Course Admin Panel | Khoury Office Hours"})}),Object(r.jsx)(f.a,{courseId:Number(t)}),t&&Object(r.jsx)(ee,{courseId:Number(t),defaultPage:a})]})})}},xdJY:function(e,t,n){"use strict";var r=n("Czhu"),c=n("ERkP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=n("vspj"),o=function(e,t){return c.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};o.displayName="EditOutlined";t.a=c.forwardRef(o)}},[["SZc8",1,2,13,21,0,3,5,4,6,7,8,9,12,10,11,15,14,20]]]);