_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[39],{"D+6G":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[cid]/queue/[qid]",function(){return n("k4G0")}])},k4G0:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ni}));var o=n("jg1C"),i=n("wPNs"),r=n("vpUC"),a=n.n(r),c=n("Bkb1"),s=n.n(c),u=n("ERkP"),l=n("j/s1"),d=n("NabS"),p=n("s9Vj"),f=n("d7jh"),b=n("LHL8"),j=n("IebI"),h=n.n(j),m=n("O+IG"),v=n("mstN"),x=n("zTld"),O=n("jMRu"),g=n("S7b9"),y=n("Mob5"),w=n("cxan"),C=n("zygG"),_=n("O94r"),q=n.n(_),k=n("MSM+"),N=n("+Gah"),I=n("tmJt"),Q=n("9xBf"),S=n("SCaQ"),T=n("BVSD"),E=n("spb8"),A=n("bu23"),P=n("tb/6"),D=n("jj3b"),z=n("oFrK"),L=n("3O2j"),B=void 0,R=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},F=u.forwardRef((function(e,t){var n=Object(k.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),o=Object(C.a)(n,2),i=o[0],r=o[1],a=function(t,n){var o;r(t),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t,n)},c=function(t){var n;a(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(B,t)},s=function(t){var n;a(!1,t),null===(n=e.onCancel)||void 0===n||n.call(B,t)},l=u.useContext(P.b).getPrefixCls,d=e.prefixCls,p=e.placement,f=e.children,b=e.overlayClassName,j=R(e,["prefixCls","placement","children","overlayClassName"]),h=l("popover",d),m=l("popconfirm",d),v=q()(m,b),x=u.createElement(E.a,{componentName:"Popconfirm",defaultLocale:A.a.Popconfirm},(function(t){return function(t,n){var o=e.okButtonProps,i=e.cancelButtonProps,r=e.title,a=e.cancelText,l=e.okText,d=e.okType,p=e.icon;return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},p,u.createElement("div",{className:"".concat(t,"-message-title")},Object(D.a)(r))),u.createElement("div",{className:"".concat(t,"-buttons")},u.createElement(S.a,Object(w.a)({onClick:s,size:"small"},i),a||n.cancelText),u.createElement(S.a,Object(w.a)({onClick:c},Object(T.a)(d),{size:"small"},o),l||n.okText)))}(h,t)})),O=l();return u.createElement(Q.a,Object(w.a)({},j,{prefixCls:h,placement:p,onVisibleChange:function(t){e.disabled||a(t)},visible:i,overlay:x,overlayClassName:v,ref:t,transitionName:Object(L.b)(O,"zoom-big",e.transitionName)}),Object(z.a)(f,{onKeyDown:function(e){var t,n;u.isValidElement(f)&&(null===(n=null===f||void 0===f?void 0:(t=f.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===I.a.ESC&&i&&a(!1,e)}(e)}}))}));F.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:u.createElement(N.a,null),disabled:!1};var H=F,M=n("VKn7"),U=n("JbCn"),Y=n("Xccw");var G=n("lPv2"),V=n("w5NM"),J=n.n(V),K={},W=function(e,t,n){var o=Object(u.useState)(!1),i=o[0],r=o[1];return Object(u.useEffect)((function(){if(e){var o;e in K?o=K[e]:(o={eventSource:new J.a(e),listeners:{},isLiveSetters:new Set},K[e]=o,o.eventSource.onmessage=function(e){var t=Object.values(o.listeners),n=JSON.parse(e.data);t.forEach((function(e){return e.listener(n)}))},o.eventSource.onopen=function(){return o.isLiveSetters.forEach((function(e){return e(!0)}))},o.eventSource.onerror=function(){return o.isLiveSetters.forEach((function(e){return e(!1)}))}),r(o.eventSource.readyState===EventSource.OPEN),o.isLiveSetters.add(r);var i=o.listeners[t];return o.listeners[t]?i.count++:(i={listener:n,count:1},o.listeners[t]=i),function(){i.count--,o.isLiveSetters.delete(r),0===i.count&&(delete o.listeners[t],0===Object.values(o.listeners).length&&(o.eventSource.close(),delete K[e]))}}}),[e,n,t]),i};function Z(e){var t=e&&"/api/v1/queues/".concat(e,"/questions"),n=W(e&&"/api/v1/queues/".concat(e,"/sse"),"question",Object(u.useCallback)((function(e){e.questions&&Object(U.b)(t,Object(G.plainToClass)(i.n,e.questions),!1)}),[t])),o=Object(U.a)(t,Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x.a.questions.index(Number(e)));case 1:case"end":return t.stop()}}),t)}))),{refreshInterval:n?0:1e4});return{questions:o.data,questionsError:o.error,mutateQuestions:o.mutate}}var X={};function $(e){var t=X[e];t.onUpdates.forEach((function(e){return e(t.lastUpdated)}))}function ee(e,t){var n=e&&"/api/v1/queues/".concat(e);n in X||(X[n]={lastUpdated:null,onUpdates:new Set}),Object(u.useEffect)((function(){if(t){var e=X[n];return e.onUpdates.add(t),t(e.lastUpdated),function(){e.onUpdates.delete(t)}}}),[t,n]);var o=W(e&&"/api/v1/queues/".concat(e,"/sse"),"queue",Object(u.useCallback)((function(e){e.queue&&(Object(U.b)(n,Object(G.plainToClass)(i.k,e.queue),!1),X[n].lastUpdated=new Date,$(n))}),[n])),r=Object(U.a)(n,Object(u.useCallback)(Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x.a.queues.get(Number(e)));case 1:case"end":return t.stop()}}),t)}))),[e]),{refreshInterval:o?0:1e4,onSuccess:function(e,t){X[t].lastUpdated=new Date,$(t)}});return{queue:r.data,queueError:r.error,mutateQueue:r.mutate,isLive:o}}var te=n("Ogf2");function ne(e){var t=Object(te.a)(),n=Z(e),o=n.questions,i=n.questionsError,r=t&&o&&(null===o||void 0===o?void 0:o.yourQuestion),a=r&&o.queue.findIndex((function(e){return r.id===e.id}));return{studentQuestion:r,studentQuestionIndex:a,studentQuestionError:i}}var oe=n("+Hko"),ie=n("PJfV"),re=n("UWkG"),ae=n("Czhu"),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"},se=n("vspj"),ue=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:ce}))};ue.displayName="CloudSyncOutlined";var le=u.forwardRef(ue),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},pe=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:de}))};pe.displayName="FrownOutlined";var fe=u.forwardRef(pe),be=n("/zI6"),je=n("DuHN"),he=n("d+ro"),me=n("uZk3"),ve=n.n(me),xe=n("wgY5"),Oe=n.n(xe);function ge(e){var t=e.render,n=e.interval,i=Object(u.useState)({})[1],r=Object(u.useCallback)((function(){return i({})}),[]);return Object(u.useEffect)((function(){var e=setInterval((function(){r()}),n);return function(){clearInterval(e)}}),[r,n]),Object(o.jsx)(o.Fragment,{children:t()})}var ye=n("zjfJ"),we=n("4wDe"),Ce=n("B5SY");function _e(e){var t,n=e.prefixCls,o=e.value,i=e.current,r=e.offset,a=void 0===r?0:r;return a&&(t={position:"absolute",top:"".concat(a,"00%"),left:0}),u.createElement("span",{style:t,className:q()("".concat(n,"-only-unit"),{current:i})},o)}function qe(e,t,n){for(var o=e,i=0;(o+10)%10!==t;)o+=n,i+=n;return i}function ke(e){var t,n,o=e.prefixCls,i=e.count,r=e.value,a=Number(r),c=Math.abs(i),s=u.useState(a),l=Object(C.a)(s,2),d=l[0],p=l[1],f=u.useState(c),b=Object(C.a)(f,2),j=b[0],h=b[1],m=function(){p(a),h(c)};if(u.useEffect((function(){var e=setTimeout((function(){m()}),1e3);return function(){clearTimeout(e)}}),[a]),d===a||Number.isNaN(a)||Number.isNaN(d))t=[u.createElement(_e,Object(w.a)({},e,{key:a,current:!0}))],n={transition:"none"};else{t=[];for(var v=a+10,x=[],O=a;O<=v;O+=1)x.push(O);var g=x.findIndex((function(e){return e%10===d}));t=x.map((function(t,n){var o=t%10;return u.createElement(_e,Object(w.a)({},e,{key:t,value:o,offset:n-g,current:n===g}))})),n={transform:"translateY(".concat(-qe(d,a,j<c?1:-1),"00%)")}}return u.createElement("span",{className:"".concat(o,"-only"),style:n,onTransitionEnd:m},t)}var Ne=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Ie=function(e){var t=e.prefixCls,n=e.count,o=e.className,i=e.motionClassName,r=e.style,a=e.title,c=e.show,s=e.component,l=void 0===s?"sup":s,d=e.children,p=Ne(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),f=(0,u.useContext(P.b).getPrefixCls)("scroll-number",t),b=Object(w.a)(Object(w.a)({},p),{"data-show":c,style:r,className:q()(f,o,i),title:a}),j=n;if(n&&Number(n)%1===0){var h=String(n).split("");j=h.map((function(e,t){return u.createElement(ke,{prefixCls:f,count:Number(n),value:e,key:h.length-t})}))}return r&&r.borderColor&&(b.style=Object(w.a)(Object(w.a)({},r),{boxShadow:"0 0 0 1px ".concat(r.borderColor," inset")})),d?Object(z.a)(d,(function(e){return{className:q()("".concat(f,"-custom-component"),null===e||void 0===e?void 0:e.className,i)}})):u.createElement(l,b,j)},Qe=n("VhZz");function Se(e){return-1!==Qe.a.indexOf(e)}var Te=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Ee=function(e){var t,n,o=e.prefixCls,i=e.scrollNumberPrefixCls,r=e.children,a=e.status,c=e.text,s=e.color,l=e.count,d=void 0===l?null:l,p=e.overflowCount,f=void 0===p?99:p,b=e.dot,j=void 0!==b&&b,h=e.size,m=void 0===h?"default":h,v=e.title,x=e.offset,O=e.style,g=e.className,y=e.showZero,C=void 0!==y&&y,_=Te(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),k=u.useContext(P.b),N=k.getPrefixCls,I=k.direction,Q=N("badge",o),S=d>f?"".concat(f,"+"):d,T=null!==a&&void 0!==a||null!==s&&void 0!==s,E="0"===S||0===S,A=j&&!E,D=A?"":S,L=Object(u.useMemo)((function(){return(null===D||void 0===D||""===D||E&&!C)&&!A}),[D,E,C,A]),B=Object(u.useRef)(d);L||(B.current=d);var R=B.current,F=Object(u.useRef)(D);L||(F.current=D);var H=F.current,M=Object(u.useRef)(A);L||(M.current=A);var U=Object(u.useMemo)((function(){if(!x)return Object(w.a)({},O);var e={marginTop:x[1]};return"rtl"===I?e.left=parseInt(x[0],10):e.right=-parseInt(x[0],10),Object(w.a)(Object(w.a)({},e),O)}),[I,x,O]),Y=null!==v&&void 0!==v?v:"string"===typeof R||"number"===typeof R?R:void 0,G=L||!c?null:u.createElement("span",{className:"".concat(Q,"-status-text")},c),V=R&&"object"===Object(we.a)(R)?Object(z.a)(R,(function(e){return{style:Object(w.a)(Object(w.a)({},U),e.style)}})):void 0,J=q()((t={},Object(ye.a)(t,"".concat(Q,"-status-dot"),T),Object(ye.a)(t,"".concat(Q,"-status-").concat(a),!!a),Object(ye.a)(t,"".concat(Q,"-status-").concat(s),Se(s)),t)),K={};s&&!Se(s)&&(K.background=s);var W=q()(Q,(n={},Object(ye.a)(n,"".concat(Q,"-status"),T),Object(ye.a)(n,"".concat(Q,"-not-a-wrapper"),!r),Object(ye.a)(n,"".concat(Q,"-rtl"),"rtl"===I),n),g);if(!r&&T){var Z=U.color;return u.createElement("span",Object(w.a)({},_,{className:W,style:U}),u.createElement("span",{className:J,style:K}),u.createElement("span",{style:{color:Z},className:"".concat(Q,"-status-text")},c))}return u.createElement("span",Object(w.a)({},_,{className:W}),r,u.createElement(Ce.default,{visible:!L,motionName:"".concat(Q,"-zoom"),motionAppear:!1},(function(e){var t,n=e.className,o=N("scroll-number",i),r=M.current,c=q()((t={},Object(ye.a)(t,"".concat(Q,"-dot"),r),Object(ye.a)(t,"".concat(Q,"-count"),!r),Object(ye.a)(t,"".concat(Q,"-count-sm"),"small"===m),Object(ye.a)(t,"".concat(Q,"-multiple-words"),!r&&H&&H.toString().length>1),Object(ye.a)(t,"".concat(Q,"-status-").concat(a),!!a),Object(ye.a)(t,"".concat(Q,"-status-").concat(s),Se(s)),t)),l=Object(w.a)({},U);return s&&!Se(s)&&((l=l||{}).background=s),u.createElement(Ie,{prefixCls:o,show:!L,motionClassName:n,className:c,count:H,title:Y,style:l,key:"scrollNumber"},V)})),G)};Ee.Ribbon=function(e){var t,n=e.className,o=e.prefixCls,i=e.style,r=e.color,a=e.children,c=e.text,s=e.placement,l=void 0===s?"end":s,d=u.useContext(P.b),p=d.getPrefixCls,f=d.direction,b=p("ribbon",o),j=Se(r),h=q()(b,"".concat(b,"-placement-").concat(l),(t={},Object(ye.a)(t,"".concat(b,"-rtl"),"rtl"===f),Object(ye.a)(t,"".concat(b,"-color-").concat(r),j),t),n),m={},v={};return r&&!j&&(m.background=r,v.color=r),u.createElement("div",{className:"".concat(b,"-wrapper")},a,u.createElement("div",{className:h,style:Object(w.a)(Object(w.a)({},m),i)},u.createElement("span",{className:"".concat(b,"-text")},c),u.createElement("div",{className:"".concat(b,"-corner"),style:v})))};var Ae=Ee,Pe=n("jPdq"),De=n("FRUG");function ze(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Be(e){var t=e.queueId,n=Z(t).questions,i=ee(t).queue.staffList;if(!n)return null;var r,a={},c=i.map((function(e){return e.id})),s=n.questionsGettingHelp,u=n.groups,l=ze(s);try{for(l.s();!(r=l.n()).done;){var d,p=r.value;c.includes(null===(d=p.taHelped)||void 0===d?void 0:d.id)&&(a[p.taHelped.id]=p)}}catch(f){l.e(f)}finally{l.f()}return Object(o.jsx)(M.a,{style:{marginBottom:"16px"},children:i.map((function(e){var t,n,i;return Object(o.jsx)(M.a,{children:Object(o.jsx)(Ue,{taName:e.name,taPhotoURL:e.photoURL,studentName:null===(t=a[e.id])||void 0===t||null===(n=t.creator)||void 0===n?void 0:n.name,helpedAt:null===(i=a[e.id])||void 0===i?void 0:i.helpedAt,grouped:u.some((function(t){return t.creator.id===e.id}))})},e.id)}))})}var Re=l.a.div.withConfig({displayName:"TAStatuses__StyledCard",componentId:"sc-1buidjq-0"})(["background:#ffffff;box-shadow:0px 2px 8px rgba(0,0,0,0.15);border-radius:6px;padding:16px;display:flex;margin-bottom:16px;"]),Fe=l.a.div.withConfig({displayName:"TAStatuses__CardContent",componentId:"sc-1buidjq-1"})(["margin-left:16px;flex-grow:1;"]),He=l.a.div.withConfig({displayName:"TAStatuses__TAName",componentId:"sc-1buidjq-2"})(["font-weight:bold;color:#212934;"]),Me=l.a.div.withConfig({displayName:"TAStatuses__HelpingInfo",componentId:"sc-1buidjq-3"})(["margin-top:5px;font-style:italic;"]);function Ue(e){var t=e.taName,n=e.taPhotoURL,i=e.studentName,r=e.helpedAt,a=e.grouped,c=!!r;return Object(o.jsxs)(Re,{"data-cy":"ta-status-card",children:[Object(o.jsx)(De.a,{size:48,name:t,photoURL:n,style:{flexShrink:0}}),Object(o.jsxs)(Fe,{children:[Object(o.jsxs)(g.a,{justify:"space-between",children:[Object(o.jsx)(He,{children:t}),Object(o.jsxs)("span",{children:[Object(o.jsx)(Ae,{status:c?"processing":"success"}),c?"Busy":"Available"]})]}),Object(o.jsx)(Me,{children:a?"Helping a group":c?Object(o.jsx)(Ge,{studentName:i,helpedAt:r}):"Looking for my next student..."})]})]})}var Ye=l.a.span.withConfig({displayName:"TAStatuses__BlueSpan",componentId:"sc-1buidjq-4"})(["color:#66a3d6;"]);function Ge(e){var t=e.studentName,n=e.helpedAt;return Object(o.jsx)(ge,{render:function(){return Object(o.jsxs)("span",{children:["Helping ",Object(o.jsx)(Ye,{children:null!==t&&void 0!==t?t:"a student"})," for"," ",Object(o.jsx)(Ye,{children:Object(Pe.a)((Date.now()-n.getTime())/6e4)})]})},interval:6e4})}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}l.a.div.withConfig({displayName:"QueueListSharedComponents__Container",componentId:"sc-1abq9vy-0"})(["display:flex;flex-direction:row;align-items:center;"]);var Je=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueTitle",componentId:"sc-1abq9vy-1"})(["font-weight:500;font-size:24px;color:#212934;"]),Ke=(l.a.div.withConfig({displayName:"QueueListSharedComponents__NotesText",componentId:"sc-1abq9vy-2"})(["font-size:16px;color:#5f6b79;"]),l.a.div.withConfig({displayName:"QueueListSharedComponents__InfoColumnContainer",componentId:"sc-1abq9vy-3"})(["flex-shrink:0;padding-bottom:30px;position:relative;display:flex;flex-direction:column;@media (min-width:650px){margin-top:32px;width:290px;}"])),We=Object(l.a)(S.a).withConfig({displayName:"QueueListSharedComponents__QueueInfoColumnButtonStyle",componentId:"sc-1abq9vy-4"})(["font-weight:500;font-size:14px;border:1px solid #cfd6de;border-radius:6px;margin-bottom:12px;"]),Ze=be.a.confirm,Xe=function(e){return Object(o.jsx)(We,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:"large",block:!0},e))},$e=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyRow",componentId:"sc-1abq9vy-5"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:20px;color:#5f6b79;font-size:20px;"]),et=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyText",componentId:"sc-1abq9vy-6"})(["margin-left:12px;font-size:16px;min-width:0;overflow-wrap:break-word;white-space:pre-wrap;"]),tt=l.a.h2.withConfig({displayName:"QueueListSharedComponents__StaffH2",componentId:"sc-1abq9vy-7"})(["margin-top:32px;"]),nt=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueRoomGroup",componentId:"sc-1abq9vy-8"})(["display:flex;flex-direction:row;align-items:center;"]),ot=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueInfo",componentId:"sc-1abq9vy-9"})(["margin-bottom:24px;"]),it=Object(l.a)(Xe).withConfig({displayName:"QueueListSharedComponents__DisableQueueButton",componentId:"sc-1abq9vy-10"})(["color:white;background:#da3236;&:hover,&:focus{color:#da3236;background:#fff;border-color:#da3236;}"]),rt=Object(l.a)(Xe).withConfig({displayName:"QueueListSharedComponents__ClearQueueButton",componentId:"sc-1abq9vy-11"})(["background-color:#ff8c00;color:white;&:hover,&:focus{color:#ff8c00;background:#fff;border-color:#ff8c00;}"]),at=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueManagementBox",componentId:"sc-1abq9vy-12"})(["display:flex;flex-direction:column;justify-content:flex-end;color:white;width:100%;height:100%;bottom:0;"]);function ct(e){var t=e.queueId,n=e.isStaff,i=e.buttons,r=ee(t),a=r.queue,c=r.mutateQueue,u=function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.queues.disable(t);case 2:return e.next=4,c();case 4:return je.b.success("Successfully disabled queue: "+a.room),e.next=7,s.a.push("/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.queues.clean(t);case 2:return e.next=4,c();case 4:je.b.success("Successfully cleaned queue: "+a.room);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(Ke,{children:[Object(o.jsxs)(ot,{children:[Object(o.jsxs)(nt,{children:[Object(o.jsxs)(Je,{"data-cy":"room-title",children:[null===a||void 0===a?void 0:a.room," ",(null===a||void 0===a?void 0:a.isDisabled)&&Object(o.jsx)("b",{children:"(disabled)"})]}),!a.allowQuestions&&Object(o.jsx)(Q.a,{title:"This queue is no longer accepting questions",children:Object(o.jsx)(ie.a,{"data-cy":"stopQuestions",style:{color:"red",fontSize:"24px",marginLeft:"8px"}})})]}),(null===a||void 0===a?void 0:a.isProfessorQueue)&&Object(o.jsx)($e,{children:Object(o.jsx)(he.a,{color:"blue",children:"Professor Queue"})})]}),(null===a||void 0===a?void 0:a.notes)&&Object(o.jsxs)($e,{children:[Object(o.jsx)(re.a,{}),Object(o.jsx)(ve.a,{componentDecorator:function(e,t,n){return Object(o.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e,children:t},n)},children:Object(o.jsx)(et,{children:a.notes})})]}),Object(o.jsx)(st,{queueId:t}),i,Object(o.jsx)(tt,{children:"Staff"}),Object(o.jsx)(Be,{queueId:t}),n&&Object(o.jsxs)(at,{children:[Object(o.jsx)(H,{title:"Are you sure you want to clear all students from the queue?",okText:"Yes",cancelText:"No",placement:"top",arrowPointAtCenter:!0,onConfirm:l,children:Object(o.jsx)(rt,{children:"Clear Queue"})}),Object(o.jsx)(it,{onClick:function(){Ze({title:"Please Confirm!",icon:Object(o.jsx)(oe.a,{}),style:{whiteSpace:"pre-wrap"},content:"Please confirm that you want to disable the queue: ".concat(a.room,".\n\n      This queue will no longer appear in the app, and any students currently in the queue will be removed."),onOk:function(){u()}})},"data-cy":"queue-disable-button",disabled:null===a||void 0===a?void 0:a.isDisabled,children:null!==a&&void 0!==a&&a.isDisabled?"Queue deleted":"Delete Queue"})]})]})}function st(e){var t=e.queueId,n=Object(u.useState)(null),i=n[0],r=ee(t,n[1]).isLive;return Object(o.jsxs)($e,{className:"hide-in-percy",children:[r||i?Object(o.jsx)(le,{}):Object(o.jsx)(fe,{}),Object(o.jsx)(et,{className:"hide-in-percy",children:r?"Queue up to date":i?Object(o.jsx)(ge,{render:function(){var e=(Date.now()-i.getTime())/1e3;return"Queue updated ".concat(e<60?Math.ceil(e)+"s":Oe()(i).fromNow(!0)," ago")},interval:1e3}):"Queue may be out of date"})]})}var ut=n("Sp6C"),lt=n("5ouU"),dt=n("TyQ8"),pt=n("r8k/"),ft=n("CZO1"),bt=n("dRg2"),jt=n("+RZ0"),ht=n("D28v"),mt=n("9fIP"),vt=n("MMYH"),xt=n("8K1b"),Ot=n("AqVP"),gt=function(e){Object(xt.a)(n,e);var t=Object(Ot.a)(n);function n(){var e;return Object(mt.a)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return Object(vt.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,o=e.children,i=this.state,r=i.error,a=i.info,c=a&&a.componentStack?a.componentStack:null,s="undefined"===typeof t?(r||"").toString():t,l="undefined"===typeof n?c:n;return r?u.createElement(qt,{type:"error",message:s,description:u.createElement("pre",null,l)}):o}}]),n}(u.Component),yt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},wt={success:ft.a,info:bt.a,error:jt.a,warning:N.a},Ct={success:lt.a,info:dt.a,error:pt.a,warning:oe.a},_t=function(e){var t,n=e.description,o=e.prefixCls,i=e.message,r=e.banner,a=e.className,c=void 0===a?"":a,s=e.style,l=e.onMouseEnter,d=e.onMouseLeave,p=e.onClick,f=e.afterClose,b=e.showIcon,j=e.closable,h=e.closeText,m=e.action,v=yt(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),x=u.useState(!1),O=Object(C.a)(x,2),g=O[0],y=O[1],_=u.useRef(),k=u.useContext(P.b),N=k.getPrefixCls,I=k.direction,Q=N("alert",o),S=function(e){var t;y(!0),null===(t=v.onClose)||void 0===t||t.call(v,e)},T=!!h||j,E=function(){var e=v.type;return void 0!==e?e:r?"warning":"info"}(),A=!(!r||void 0!==b)||b,D=q()(Q,"".concat(Q,"-").concat(E),(t={},Object(ye.a)(t,"".concat(Q,"-with-description"),!!n),Object(ye.a)(t,"".concat(Q,"-no-icon"),!A),Object(ye.a)(t,"".concat(Q,"-banner"),!!r),Object(ye.a)(t,"".concat(Q,"-rtl"),"rtl"===I),t),c),L=Object(ht.a)(v);return u.createElement(Ce.default,{visible:!g,motionName:"".concat(Q,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:f},(function(e){var t=e.className,o=e.style;return u.createElement("div",Object(w.a)({ref:_,"data-show":!g,className:q()(D,t),style:Object(w.a)(Object(w.a)({},s),o),onMouseEnter:l,onMouseLeave:d,onClick:p,role:"alert"},L),A?function(){var e=v.icon,t=(n?Ct:wt)[E]||null;return e?Object(z.c)(e,u.createElement("span",{className:"".concat(Q,"-icon")},e),(function(){return{className:q()("".concat(Q,"-icon"),Object(ye.a)({},e.props.className,e.props.className))}})):u.createElement(t,{className:"".concat(Q,"-icon")})}():null,u.createElement("div",{className:"".concat(Q,"-content")},u.createElement("div",{className:"".concat(Q,"-message")},i),u.createElement("div",{className:"".concat(Q,"-description")},n)),m?u.createElement("div",{className:"".concat(Q,"-action")},m):null,T?u.createElement("button",{type:"button",onClick:S,className:"".concat(Q,"-close-icon"),tabIndex:0},h?u.createElement("span",{className:"".concat(Q,"-close-text")},h):u.createElement(ut.a,null)):null)}))};_t.ErrorBoundary=gt;var qt=_t,kt=n("NwOV"),Nt=n("BmDy");function It(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=l.a.div.withConfig({displayName:"QuestionForm__Container",componentId:"sc-1wkgpcq-0"})(["max-width:960px;"]),Et=l.a.div.withConfig({displayName:"QuestionForm__QuestionText",componentId:"sc-1wkgpcq-1"})(["font-weight:normal;font-size:14px;line-height:22px;margin-bottom:4px;"]),At=l.a.div.withConfig({displayName:"QuestionForm__QuestionCaption",componentId:"sc-1wkgpcq-2"})(["font-weight:300;font-size:14px;line-height:22px;color:#8c8c8c;margin-bottom:32px;"]),Pt=Object(l.a)(S.a).withConfig({displayName:"QuestionForm__FormButton",componentId:"sc-1wkgpcq-3"})(["margin-left:8px;"]),Dt=Object(l.a)(S.a).withConfig({displayName:"QuestionForm__SaveChangesButton",componentId:"sc-1wkgpcq-4"})(["margin-left:8px;background:#3684c6;"]);function zt(e){var t=e.visible,n=e.question,r=e.leaveQueue,a=e.finishQuestion,s=e.position,l=e.cancel,d=Object(Y.a)("draftQuestion",null),p=Object(v.a)(d,2),f=p[0],b=p[1],j=Object(c.useRouter)(),h=j.query.cid,m=(null===n||void 0===n?void 0:n.status)===i.o.Drafting,x=(null===n||void 0===n?void 0:n.status)===i.o.Helping,O=Object(u.useState)((null===n||void 0===n?void 0:n.questionType)||null),g=O[0],y=O[1],w=Object(u.useState)((null===n||void 0===n?void 0:n.text)||""),C=w[0],_=w[1],q=Object(u.useState)(void 0!==(null===n||void 0===n?void 0:n.groupable)&&(null===n||void 0===n?void 0:n.groupable)),k=q[0],N=q[1];Object(u.useEffect)((function(){n&&!t&&(_(n.text),y(n.questionType))}),[n,t]);return Object(o.jsx)(be.a,{visible:t,closable:!0,onCancel:function(){b(n),l()},title:m?"Describe your question":"Edit your question",footer:Object(o.jsxs)("div",{children:[m?Object(o.jsx)(Pt,{danger:!0,onClick:r,children:"Leave Queue"}):Object(o.jsx)(Pt,{onClick:l,children:"Cancel"}),Object(o.jsx)(Dt,{"data-cy":"finishQuestion",type:"primary",disabled:!g||!C||""===C,onClick:function(){g&&C&&""!==C&&a(C,g,k,j,Number(h))},children:m?"Finish":"Save Changes"})]}),children:Object(o.jsxs)(Tt,{children:[m&&Object(o.jsx)(qt,{style:{marginBottom:"32px"},message:"You are currently ".concat(It(s)," in queue"),description:"Your spot in queue has been temporarily reserved. Please describe your question to finish joining the queue.",type:"success",showIcon:!0}),x&&Object(o.jsx)(qt,{style:{marginBottom:"32px"},message:"A TA is coming to help you",description:"Please click 'Save Changes' to submit what you've filled out",type:"info",showIcon:!0}),Object(o.jsx)(Et,{children:"What category does your question fall under?"}),Object(o.jsxs)(kt.a.Group,{value:g,onChange:function(e){y(e.target.value);var t=null!==f&&void 0!==f?f:{};b(St(St({id:null===n||void 0===n?void 0:n.id},t),{},{questionType:e.target.value}))},buttonStyle:"solid",style:{marginBottom:48},children:[Object(o.jsx)(kt.a.Button,{value:i.q.Concept,children:"Concept"}),Object(o.jsx)(kt.a.Button,{value:i.q.Clarification,children:"Clarification"}),Object(o.jsx)(kt.a.Button,{value:i.q.Testing,children:"Testing"}),Object(o.jsx)(kt.a.Button,{value:i.q.Bug,children:"Bug"}),Object(o.jsx)(kt.a.Button,{value:i.q.Setup,children:"Setup"}),Object(o.jsx)(kt.a.Button,{value:i.q.Other,children:"Other"})]}),Object(o.jsx)(Et,{children:"What do you need help with?"}),Object(o.jsx)(Nt.a.TextArea,{"data-cy":"questionText",value:C,placeholder:"I\u2019m having trouble understanding list abstractions, particularly in Assignment 5.",autoSize:{minRows:3,maxRows:6},onChange:function(e){_(e.target.value);var t=null!==f&&void 0!==f?f:{};b(St(St({id:null===n||void 0===n?void 0:n.id},t),{},{text:e.target.value}))}}),Object(o.jsx)(At,{children:"Be as descriptive and specific as possible in your answer. Your name will be hidden to other students, but your question will be visible so don't frame your question in a way that gives away the answer."}),Object(o.jsx)(Et,{children:"Would you like the option of being helped in a group session?"}),Object(o.jsxs)(kt.a.Group,{value:k,onChange:function(e){N(e.target.value);var t=null!==f&&void 0!==f?f:{};b(St(St({id:null===n||void 0===n?void 0:n.id},t),{},{groupable:e.target.value}))},style:{marginBottom:5},children:[Object(o.jsx)(kt.a,{value:!0,children:"Yes"}),Object(o.jsx)(kt.a,{value:!1,children:"No"})]}),Object(o.jsx)(At,{children:"Clicking Yes may result in a shorter wait time if others have the same question as you."})]})})}var Lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M819.8 512l102.4-122.9a8.06 8.06 0 00-6.1-13.2h-54.7c-2.4 0-4.6 1.1-6.1 2.9L782 466.7l-73.1-87.8a8.1 8.1 0 00-6.1-2.9H648c-1.9 0-3.7.7-5.1 1.9a7.97 7.97 0 00-1 11.3L744.2 512 641.8 634.9a8.06 8.06 0 006.1 13.2h54.7c2.4 0 4.6-1.1 6.1-2.9l73.1-87.8 73.1 87.8a8.1 8.1 0 006.1 2.9h55c1.9 0 3.7-.7 5.1-1.9 3.4-2.8 3.9-7.9 1-11.3L819.8 512zM536 464H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h416c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-84 204h-60c-3.3 0-6 2.7-6 6v166H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6h292c16.6 0 30-13.4 30-30V674c0-3.3-2.7-6-6-6zM136 184h250v166c0 3.3 2.7 6 6 6h60c3.3 0 6-2.7 6-6V142c0-16.6-13.4-30-30-30H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6z"}}]},name:"delete-row",theme:"outlined"},Bt=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:Lt}))};Bt.displayName="DeleteRowOutlined";var Rt=u.forwardRef(Bt),Ft=n("xdJY"),Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},Mt=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:Ht}))};Mt.displayName="TeamOutlined";var Ut=u.forwardRef(Mt),Yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},Gt=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:Yt}))};Gt.displayName="UndoOutlined";var Vt=u.forwardRef(Gt),Jt=n("Szl1");function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Zt=l.a.div.withConfig({displayName:"Banner__BannerContainer",componentId:"sc-13za7xs-0"})(["width:100%;"]),Xt=l.a.div.withConfig({displayName:"Banner__TitleContainer",componentId:"sc-13za7xs-1"})(["background:",";padding-left:24px;padding-right:16px;min-height:60px;border-radius:6px 6px 0 0;position:relative;box-shadow:0px 2px 8px rgba(0,0,0,0.15);display:flex;align-items:center;justify-content:space-between;"],(function(e){return e.color||"#8895A6"})),$t=l.a.div.withConfig({displayName:"Banner__Title",componentId:"sc-13za7xs-2"})(["font-weight:300;font-size:24px;color:white;"]),en=l.a.div.withConfig({displayName:"Banner__ButtonContainer",componentId:"sc-13za7xs-3"})(["display:flex;flex-flow:row wrap;margin-right:10px;"]),tn=l.a.div.withConfig({displayName:"Banner__ContentContainer",componentId:"sc-13za7xs-4"})(["background:",";padding:12px 24px;border-radius:0 0 6px 6px;"],(function(e){return e.color||"#CFD6DE"}));function nn(e){return Object(o.jsxs)(Zt,{"data-cy":"banner",children:[Object(o.jsxs)(Xt,{color:e.titleColor,children:[Object(o.jsx)($t,{children:e.title}),Object(o.jsx)(en,{children:e.buttons})]}),Object(o.jsx)(tn,{color:e.contentColor,children:e.content})]})}var on=Object(l.a)((function(e){var t=Kt({},e);return Object(o.jsx)(S.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:"large",shape:"circle"},t))})).withConfig({displayName:"Banner__BannerButton",componentId:"sc-13za7xs-5"})(["margin-left:16px;border:0;background:#fff;"]),rn=Object(l.a)(on).withConfig({displayName:"Banner__BannerPrimaryButton",componentId:"sc-13za7xs-6"})(["",";background:#3684c6;color:#fff;&:hover,&:focus{background:#3c93dd;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),an=Object(l.a)(on).withConfig({displayName:"Banner__BannerDangerButton",componentId:"sc-13za7xs-7"})(["",";background:#e26567;color:#fff;&:hover,&:focus{background:#fc7f81;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),cn=Object(l.a)(on).withConfig({displayName:"Banner__BannerOrangeButton",componentId:"sc-13za7xs-8"})(["",";background:#ff8c00;color:#fff;&:hover,&:focus{background:#ffa700;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),sn=Object(l.a)(on).withConfig({displayName:"Banner__FinishHelpingButton",componentId:"sc-13za7xs-9"})(["border:0;background:#66bb6a;color:#fff;&:hover,&:focus{background:#82c985;color:#fff;}"]),un=Object(l.a)(on).withConfig({displayName:"Banner__CantFindButton",componentId:"sc-13za7xs-10"})(["background:#fff;border:1px solid #e26567;color:#e26567;&:hover,&:focus{background:#fc7f81;color:#fff;}"]),ln=Object(l.a)(on).withConfig({displayName:"Banner__RequeueButton",componentId:"sc-13za7xs-11"})(["background:#ffffff;border:1px solid #f0f0f0;color:#000000;&:hover,&:focus{background:#f0f0f0;color:#000000;}"]),dn=l.a.span.withConfig({displayName:"StudentBanner__BoldNumber",componentId:"sc-znqvhq-0"})(["font-weight:bold;"]),pn=l.a.div.withConfig({displayName:"StudentBanner__QuestionDetails",componentId:"sc-znqvhq-1"})(["display:flex;"]),fn=l.a.div.withConfig({displayName:"StudentBanner__InfoHeader",componentId:"sc-znqvhq-2"})(["font-weight:bold;font-size:14px;font-variant:small-caps;"]),bn=l.a.ul.withConfig({displayName:"StudentBanner__Bullets",componentId:"sc-znqvhq-3"})(["color:#000;"]),jn=Object(l.a)(M.a).withConfig({displayName:"StudentBanner__ColWithRightMargin",componentId:"sc-znqvhq-4"})(["margin-right:32px;"]),hn=l.a.span.withConfig({displayName:"StudentBanner__PriorityQueuedBanner",componentId:"sc-znqvhq-5"})(["display:flex;flex-direction:column;margin:12px 0;"]);function mn(e){var t,n=e.queueId,r=e.editQuestion,a=e.leaveQueue,c=ne(n),s=c.studentQuestion,u=c.studentQuestionIndex,l=null===(t=ee(n).queue)||void 0===t?void 0:t.room.startsWith("Online");switch(null===s||void 0===s?void 0:s.status){case"Drafting":return Object(o.jsx)(nn,{titleColor:"#faad14",contentColor:"#ffd666",title:"Please finish writing your question",content:"Your spot in queue has been temporarily reserved. Please finish describing your question to receive help and finish joining the queue.",buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Q.a,{title:"Delete Draft",children:Object(o.jsx)(on,{icon:Object(o.jsx)(Rt,{}),onClick:a})}),Object(o.jsx)(Q.a,{title:"Finish Draft",children:Object(o.jsx)(on,{"data-cy":"edit-question",icon:Object(o.jsx)(Ft.a,{}),onClick:Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))})})]})});case"Queued":return Object(o.jsx)(nn,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Object(o.jsxs)("span",{children:["You are"," ",Object(o.jsx)(dn,{children:It(u+1)})," in queue"]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(vn,{leaveQueue:a}),Object(o.jsx)(Q.a,{title:"Edit Question",children:Object(o.jsx)(on,{"data-cy":"edit-question",icon:Object(o.jsx)(Ft.a,{}),onClick:r})})]}),content:Object(o.jsx)(xn,{studentQuestion:s})});case"Helping":return Object(o.jsx)(nn,{titleColor:"#66BB6A",contentColor:"#82C985",title:Object(o.jsxs)("span",{children:[Object(o.jsx)(dn,{children:s.taHelped.name})," is coming to help you"]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(vn,{leaveQueue:a}),l&&Object(o.jsx)(Q.a,{title:"Open Teams DM",children:Object(o.jsx)(on,{icon:Object(o.jsx)(Ut,{}),onClick:function(){window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(s.taHelped.email))}})})]}),content:Object(o.jsxs)(bn,{children:[Object(o.jsx)("li",{children:"Please be dressed appropriately"}),Object(o.jsx)("li",{children:"Be respectful of the TA\u2019s time"}),Object(o.jsx)("li",{children:"Come prepared with your question!"})]})});case"ReQueueing":return Object(o.jsx)(nn,{titleColor:"#66BB6A",contentColor:"#82C985",title:Object(o.jsx)("span",{children:"Are you ready to re-join the queue?"}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(vn,{leaveQueue:a}),Object(o.jsx)(Q.a,{title:"Rejoin Queue",children:Object(o.jsx)(S.a,{shape:"circle",style:{marginLeft:"16px",border:0},icon:Object(o.jsx)(Vt,{}),onClick:Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(s.id,{status:i.o.PriorityQueued});case 2:case"end":return e.stop()}}),e)}))),type:"primary","data-cy":"re-join-queue",size:"large"})})]}),content:Object(o.jsxs)(bn,{children:[Object(o.jsx)("li",{children:"Have you finished doing what the TA has told you?"}),Object(o.jsx)("li",{children:"Once you hit requeue, you will be placed at the top of the queue"})]})});case"PriorityQueued":return Object(o.jsx)(nn,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Object(o.jsxs)(hn,{children:["You are now in a priority queue, you will be helped soon. ",Object(o.jsx)("br",{}),Object(o.jsxs)("span",{style:{fontSize:16},children:["You were last helped by"," ",Object(o.jsx)("span",{style:{fontWeight:"bold"},children:s.taHelped.name}),"."]})]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(vn,{leaveQueue:a}),Object(o.jsx)(Q.a,{title:"Edit Question",children:Object(o.jsx)(on,{"data-cy":"edit-question",icon:Object(o.jsx)(Ft.a,{}),onClick:r})})]}),content:Object(o.jsx)(xn,{studentQuestion:s})});default:return Object(o.jsx)("div",{})}}function vn(e){var t=e.leaveQueue;return Object(o.jsx)(H,{title:"Are you sure you want to leave the queue?",okText:"Yes",cancelText:"No",onConfirm:t,children:Object(o.jsx)(Q.a,{title:"Leave Queue",children:Object(o.jsx)(an,{"data-cy":"leave-queue",icon:Object(o.jsx)(Rt,{})})})})}function xn(e){var t=e.studentQuestion;return Object(o.jsxs)(pn,{children:[Object(o.jsxs)(jn,{flex:"4 4",children:[Object(o.jsx)(fn,{children:"question"}),Object(o.jsx)("div",{children:t.text})]}),Object(o.jsxs)(M.a,{flex:"0.5 0.5 95px",children:[Object(o.jsx)(fn,{children:"type"}),Object(o.jsx)("div",{children:t.questionType})]}),Object(o.jsxs)(M.a,{flex:"0 0 89px",children:[Object(o.jsx)(fn,{children:"groupable"}),Object(o.jsx)("div",{children:t.groupable?Object(o.jsx)(Jt.a,{}):Object(o.jsx)(ut.a,{})})]})]})}var On=n("9RnG"),gn=n.n(On);function yn(e){return Object(o.jsx)(gn.a,{visible:e.visible,footer:[Object(o.jsx)(S.a,{danger:!0,onClick:e.leaveQueue,children:"Leave Queue"},"leave"),Object(o.jsx)(S.a,{type:"primary",onClick:e.rejoinQueue,children:"Rejoin Queue"},"rejoin")],closable:!1,title:"You couldn't be found!",children:"A TA tried to help you, but couldn't reach you. Are you still in the queue? If you are, make sure you have Teams open, and rejoin the queue."})}var wn=n("5oqr"),Cn=(Object(l.a)(O.a).withConfig({displayName:"QueueCardSharedComponents__HorizontalTACard",componentId:"sc-3faov6-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;color:#595959;&:hover{cursor:pointer;}"]),Object(l.a)(wn.a).withConfig({displayName:"QueueCardSharedComponents__Photo",componentId:"sc-3faov6-1"})(["margin-right:16px;@media (max-width:992px){display:none;}"]),l.a.div.withConfig({displayName:"QueueCardSharedComponents__Rank",componentId:"sc-3faov6-2"})(["font-size:14px;line-height:22px;font-weight:500;color:#595959;"]),l.a.div.withConfig({displayName:"QueueCardSharedComponents__Text",componentId:"sc-3faov6-3"})(["font-size:14px;line-height:22px;color:#595959;"])),_n=(Object(l.a)(he.a).withConfig({displayName:"QueueCardSharedComponents__StatusTag",componentId:"sc-3faov6-4"})(["width:96px;text-align:center;float:right;margin-right:0;border:1px solid;box-sizing:border-box;border-radius:4px;"]),Object(l.a)(g.a).withConfig({displayName:"QueueCardSharedComponents__CenterRow",componentId:"sc-3faov6-5"})(["align-items:center;"]));function qn(e,t){return e.length>t?e.substring(0,t-3)+"...":e}var kn=Object(l.a)(O.a).withConfig({displayName:"StudentQueueCard__HorizontalStudentCard",componentId:"sc-1ct7xlx-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;padding-left:8px;padding-right:8px;color:#595959;"]),Nn={backgroundColor:"#F6FFED"};function In(e){var t=e.question,n=e.rank,i=e.highlighted;return Object(o.jsx)(kn,{style:i?Nn:{},bordered:!i,children:Object(o.jsxs)(_n,{children:[Object(o.jsx)(M.a,{flex:"0 0 64px",children:Object(o.jsx)(Cn,{children:n})}),Object(o.jsx)(M.a,{flex:"1 1",children:Object(o.jsx)(Cn,{children:qn(t.text,150)})}),Object(o.jsx)(M.a,{flex:"0 0 80px",children:Object(o.jsx)(Cn,{children:Object(Pe.b)(t)})})]})})}function Qn(e){var t;return Object(o.jsx)(gn.a,{visible:(null===(t=e.question)||void 0===t?void 0:t.status)===i.m.TADeleted,footer:[Object(o.jsx)(S.a,{danger:!0,onClick:e.leaveQueue,children:"Leave Queue"},"leave"),Object(o.jsx)(S.a,{type:"primary",onClick:e.joinQueue,children:"Rejoin Queue"},"rejoin")],closable:!1,children:"You've been removed from the queue by a TA. If you have any questions, please reach out to the TA. If you'd like to join back into the queue with your previous question, click Rejoin Queue, otherwise click Leave Queue."})}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=l.a.div.withConfig({displayName:"StudentQueue__Container",componentId:"sc-1qu48se-0"})(["flex:1;display:flex;flex-direction:column;margin-top:10px;@media (min-width:650px){margin-top:0;flex-direction:row;height:100%;}"]),An=l.a.div.withConfig({displayName:"StudentQueue__QueueListContainer",componentId:"sc-1qu48se-1"})(["flex-grow:1;@media (min-width:650px){margin-top:32px;}"]),Pn=Object(l.a)(Xe).withConfig({displayName:"StudentQueue__JoinButton",componentId:"sc-1qu48se-2"})(["background-color:#3684c6;color:white;"]),Dn=l.a.div.withConfig({displayName:"StudentQueue__VerticalDivider",componentId:"sc-1qu48se-3"})(["@media (min-width:650px){border-right:1px solid #cfd6de;margin:0 16px;}@media (min-width:1000px){margin:0 32px;}"]),zn=Object(l.a)(O.a).withConfig({displayName:"StudentQueue__StudentHeaderCard",componentId:"sc-1qu48se-4"})(["height:64px;padding-left:8px;padding-right:8px;background:inherit;"]),Ln=l.a.div.withConfig({displayName:"StudentQueue__HeaderText",componentId:"sc-1qu48se-5"})(["font-size:14px;font-weight:500;line-height:22px;color:#8895a6;font-variant:small-caps;"]),Bn=l.a.div.withConfig({displayName:"StudentQueue__PopConfirmTitle",componentId:"sc-1qu48se-6"})(["max-width:400px;"]),Rn=Object(l.a)(g.a).withConfig({displayName:"StudentQueue__CenterRow",componentId:"sc-1qu48se-7"})(["align-items:center;"]);function Fn(e){var t=e.qid,n=e.cid,r=ee(t).queue,a=Z(t),s=a.questions,l=a.mutateQuestions,d=ne(t),p=d.studentQuestion,b=d.studentQuestionIndex,j=Object(Y.a)("isFirstQuestion",!0),O=Object(v.a)(j,2),g=O[0],w=O[1],C=Object(u.useState)(!1),_=C[0],q=C[1],k=function(){var e=Object(Y.a)("draftQuestion",null),t=Object(v.a)(e,3),n=t[0],o=t[1],i=t[2];return{draftQuestion:n,setDraftQuestion:o,deleteDraftQuestion:function(){return i()}}}().deleteDraftQuestion,N=Object(u.useState)(s&&p&&(null===p||void 0===p?void 0:p.status)!==i.o.Queued),I=N[0],Q=N[1],S=Object(u.useState)(!1),T=S[0],E=S[1],A=Object(c.useRouter)(),P=Boolean(A.query.edit_question);Object(u.useEffect)((function(){P&&p&&(Object(U.b)("/api/v1/queues/".concat(t,"/questions")),E(!0),A.push("/course/".concat(n,"/queue/").concat(t)))}),[P,t,p]);var D=null===p||void 0===p?void 0:p.id,z=null===p||void 0===p?void 0:p.status,L=Object(u.useCallback)(Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(D,{status:i.b.ConfirmedDeleted});case 2:return Q(!1),e.next=5,l();case 5:case"end":return e.stop()}}),e)}))),[l,D]),B=Object(u.useCallback)(Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(D,{status:i.o.PriorityQueued});case 2:return e.next=4,l();case 4:case"end":return e.stop()}}),e)}))),[l,D]),R=Object(u.useCallback)(function(){var e=Object(m.a)(h.a.mark((function e(t,n,o){var r,a,c,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={text:t,questionType:n,groupable:o,status:z===i.o.Drafting?i.o.Queued:z},e.next=3,x.a.questions.update(D,a);case 3:c=e.sent,u=null===s||void 0===s||null===(r=s.queue)||void 0===r?void 0:r.map((function(e){return e.id===D?c:e})),l(Tn(Tn({},s),{},{yourQuestion:c,queue:u}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),[z,D,s,l]),F=Object(u.useCallback)(Object(m.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(null===p||void 0===p?void 0:p.id,{status:i.b.ConfirmedDeleted});case 2:return e.next=4,l();case 4:return e.next=6,x.a.questions.create({text:p.text,questionType:null===p||void 0===p?void 0:p.questionType,queueId:t,location:null===p||void 0===p?void 0:p.location,force:!0,groupable:!1});case 6:return n=e.sent,e.next=9,x.a.questions.update(n.id,{status:i.o.Queued});case 9:return e.next=11,l();case 11:case"end":return e.stop()}}),e)}))),[l,t,p]),M=Object(u.useCallback)(Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(U.b)("/api/v1/queues/".concat(t,"/questions")),E(!0);case 2:case"end":return e.stop()}}),e)}))),[t]),G=Object(u.useCallback)((function(){E(!1),Q(!1)}),[]),V=Object(u.useCallback)((function(){k(),L(),G()}),[k,L,G]),J=Object(u.useCallback)(function(){var e=Object(m.a)(h.a.mark((function e(n){var o,r,a,c,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.questions.create({queueId:Number(t),text:"",force:n,questionType:null,groupable:!1});case 3:return o=e.sent,r=[].concat(Object(f.a)(null===s||void 0===s?void 0:s.queue),[o]),e.next=7,l(Tn(Tn({},s),{},{queue:r}));case 7:return E(!0),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(0),null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c||null===(u=c.message)||void 0===u||!u.includes(i.f.questionController.createQuestion.oneQuestionAtATime)){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[l,t,s]),K=Object(u.useCallback)((function(e,t,n,o,i){k(),R(e,t,n),G(),g&&y.a.warn({style:{cursor:"pointer"},message:"Enable Notifications",className:"hide-in-percy",description:"Turn on notifications for when it's almost your turn to get help.",placement:"bottomRight",duration:0,onClick:function(){y.a.destroy(),w(!1),o.push("/settings?cid=".concat(i))}})}),[k,R,G,g,w]);return r&&s?r.isOpen?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(En,{children:[Object(o.jsx)(yn,{visible:(null===p||void 0===p?void 0:p.status)===i.m.CantFind,leaveQueue:L,rejoinQueue:B}),Object(o.jsx)(Qn,{question:p,leaveQueue:L,joinQueue:F}),Object(o.jsx)(ct,{queueId:t,isStaff:!1,buttons:!p&&Object(o.jsx)(H,{title:Object(o.jsx)(Bn,{children:"You already have a question in a queue for this course, so your previous question will be deleted in order to join this queue. Do you want to continue?"}),onConfirm:function(){return J(!0)},okText:"Yes",cancelText:"No",disabled:!0,visible:_,onVisibleChange:q,children:Object(o.jsx)(Pn,{type:"primary",disabled:!(null!==r&&void 0!==r&&r.allowQuestions)||(null===r||void 0===r?void 0:r.isDisabled),"data-cy":"join-queue-button",onClick:Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,J(!1);case 3:return e.t1=!e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),children:"Join Queue"})})}),Object(o.jsx)(Dn,{}),Object(o.jsxs)(An,{children:[p&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(mn,{queueId:t,editQuestion:M,leaveQueue:L}),Object(o.jsx)("div",{style:{marginTop:"40px"}})]}),Object(o.jsx)(Un,{questions:null===s||void 0===s?void 0:s.queue,studentQuestion:p})]})]}),Object(o.jsx)(zt,{visible:s&&!p&&I||T,question:p,leaveQueue:V,finishQuestion:K,position:b+1,cancel:G})]}):Object(o.jsx)("h1",{style:{marginTop:"50px"},children:"The Queue is Closed!"}):Object(o.jsx)("div",{})}var Hn=l.a.h2.withConfig({displayName:"StudentQueue__QueueHeader",componentId:"sc-1qu48se-8"})(["font-weight:500;font-size:24px;color:#212934;margin-bottom:0;"]),Mn=l.a.div.withConfig({displayName:"StudentQueue__NoQuestionsText",componentId:"sc-1qu48se-9"})(["font-weight:500;font-size:24px;color:#212934;"]);function Un(e){var t=e.questions,n=e.studentQuestion;return Object(o.jsxs)("div",{"data-cy":"queueQuestions",children:[0===(null===t||void 0===t?void 0:t.length)?Object(o.jsx)(Mn,{children:"There are no questions in the queue"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Hn,{children:"Queue"}),Object(o.jsx)(zn,{bordered:!1,children:Object(o.jsxs)(Rn,{children:[Object(o.jsx)(M.a,{flex:"0 0 64px",children:Object(o.jsx)(Ln,{children:"#"})}),Object(o.jsx)(M.a,{flex:"1 1",children:Object(o.jsx)(Ln,{children:"question"})}),Object(o.jsx)(M.a,{flex:"0 0 80px",children:Object(o.jsx)(Ln,{children:"wait"})})]})})]}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(o.jsx)(In,{rank:t+1,question:e,highlighted:n===e},e.id)}))]})}var Yn=n("dppZ"),Gn=n("nXdl");function Vn(e){var t,n,o=Object(te.a)(),i=ee(e).queue,r=Z(e).questions,a=null===r||void 0===r||null===(t=r.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){var t;return(null===(t=e.taHelped)||void 0===t?void 0:t.id)===(null===o||void 0===o?void 0:o.id)})),c=null===r||void 0===r||null===(n=r.groups)||void 0===n?void 0:n.find((function(e){return e.creator.id===o.id}));return{helpingQuestions:a,helpingGroup:c,isHelping:(null===a||void 0===a?void 0:a.length)>0||!!c,isCheckedIn:null===i||void 0===i?void 0:i.staffList.some((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}))}}var Jn=n("Sccn"),Kn=n("UL5a"),Wn=n("wb8e"),Zn=n("nsO7");function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eo=Object(l.a)(Nt.a.TextArea).withConfig({displayName:"EditQueueModal__NotesInput",componentId:"sc-c8x0cn-0"})(["border-radius:6px;border:1px solid #b8c4ce;"]);function to(e){var t=e.queueId,n=e.visible,i=e.onClose,r=ee(t),a=r.queue,c=r.mutateQueue,s=Kn.a.useForm(),u=Object(v.a)(s,1)[0],l=function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$n($n({},a),t),c(n,!1),e.next=4,x.a.queues.update(n.id,Object(Zn.pick)(n,["notes","allowQuestions"]));case 4:c();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(gn.a,{title:"Edit Queue Details",visible:n,onCancel:i,onOk:Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.validateFields();case 2:return t=e.sent,e.next=5,l(t);case 5:i();case 6:case"end":return e.stop()}}),e)}))),children:a&&Object(o.jsxs)(Kn.a,{form:u,initialValues:a,children:[Object(o.jsx)(Kn.a.Item,{label:"Queue Notes",name:"notes",children:Object(o.jsx)(eo,{allowClear:!0,placeholder:""})}),Object(o.jsx)(Kn.a.Item,{label:"Allow New Questions",name:"allowQuestions",valuePropName:"checked",children:Object(o.jsx)(Wn.a,{"data-cy":"allow-questions-toggle"})})]})})}var no=n("LxhF"),oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},io=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:oo}))};io.displayName="ArrowLeftOutlined";var ro=u.forwardRef(io),ao=n("7hYp"),co=n("xq5O"),so=n("jvFD"),uo=n.n(so),lo=n("KQ9C"),po=n("Alrg"),fo=n("jqOo"),bo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},jo=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:bo}))};jo.displayName="QuestionOutlined";var ho=u.forwardRef(jo),mo=n("ibId"),vo=l.a.div.withConfig({displayName:"TAQueueListItem__Container",componentId:"sc-1nf4mks-0"})(["display:flex;align-items:center;width:100%;padding-top:16px;padding-bottom:12px;border-bottom:1px solid #cfd6de;background:",";cursor:pointer;&:hover{background:",";}"],(function(e){return e.selected?"#EFF8FF":"white"}),(function(e){return e.selected?"#EFF8FF":"#ECF0F3"})),xo=Object(l.a)(mo.a).withConfig({displayName:"TAQueueListItem__StyledCheckbox",componentId:"sc-1nf4mks-1"})(["margin-left:8px;"]),Oo=l.a.div.withConfig({displayName:"TAQueueListItem__BodyContainer",componentId:"sc-1nf4mks-2"})(["display:flex;align-items:flex-start;"]),go=l.a.div.withConfig({displayName:"TAQueueListItem__AvatarContainer",componentId:"sc-1nf4mks-3"})(["margin:10px 12px 0 25px;display:block;"]),yo=l.a.div.withConfig({displayName:"TAQueueListItem__QuestionInfoContainer",componentId:"sc-1nf4mks-4"})([""]),wo=l.a.div.withConfig({displayName:"TAQueueListItem__Name",componentId:"sc-1nf4mks-5"})(["color:#212934;"]),Co=l.a.div.withConfig({displayName:"TAQueueListItem__QuestionText",componentId:"sc-1nf4mks-6"})(["padding-right:8px;color:#595959;"]);function _o(e){var t=e.index,n=e.selected,r=e.question,a=e.onClick,c=e.showCheckbox,s=r.status===i.o.Drafting,u=[[Object(o.jsx)(fo.a,{},"h"),Object(Pe.b)(r)]];return s||u.push([Object(o.jsx)(ho,{},"q"),r.questionType]),Object(o.jsxs)(vo,{selected:n,"data-cy":"queue-list-item-".concat(r.id),onClick:a,children:[c&&Object(o.jsx)(xo,{checked:n}),Object(o.jsxs)(Oo,{children:[Object(o.jsx)(go,{children:Object(o.jsx)(Ae,{count:t?"#".concat(t):0,style:{backgroundColor:"#3684c6"},offset:[-40,0],children:Object(o.jsx)(De.a,{size:40,name:r.creator.name,photoURL:r.creator.photoURL})})}),Object(o.jsxs)(yo,{children:[Object(o.jsx)(wo,{children:r.creator.name}),Object(o.jsx)(Co,{children:s?Object(o.jsx)("i",{children:"Still Drafting..."}):qn(r.text,80)}),Object(o.jsx)(Io,{info:u})]})]})]})}var qo=l.a.div.withConfig({displayName:"TAQueueListItem__RowContainer",componentId:"sc-1nf4mks-7"})(["margin-top:8px;display:flex;align-items:center;color:#8895a6;"]),ko=l.a.div.withConfig({displayName:"TAQueueListItem__Divider",componentId:"sc-1nf4mks-8"})(["margin-left:12px;margin-right:8px;"]),No=l.a.div.withConfig({displayName:"TAQueueListItem__Spacer",componentId:"sc-1nf4mks-9"})(["margin-left:5px;"]);function Io(e){var t=e.info;return Object(o.jsx)(qo,{children:t.map((function(e,t){var n=Object(v.a)(e,2),i=n[0],r=n[1];return[t>0&&Object(o.jsx)(ko,{children:"|"},r),i,Object(o.jsx)(No,{},r+"space"),r]})).flat().filter((function(e){return!!e}))})}var Qo=Object(l.a)(vo).withConfig({displayName:"EmptyGroupList__EmptyGroupListContainer",componentId:"sc-uf0t1p-0"})(["display:flex;justify-content:space-between;align-items:center;"]),So=l.a.div.withConfig({displayName:"EmptyGroupList__EmptyGroupListText",componentId:"sc-uf0t1p-1"})(["font-weight:bold;padding:15px;padding-left:35px;font-size:16px;"]);function To(e){var t=e.onClick;return Object(o.jsxs)(Qo,{onClick:t,selected:!1,"data-cy":"queue-list-item-question-group",children:[Object(o.jsx)(So,{children:"Add Students"}),Object(o.jsx)(po.a,{style:{paddingRight:"16px"}})]})}var Eo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},Ao=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:Eo}))};Ao.displayName="PhoneOutlined";var Po=u.forwardRef(Ao);function Do(){var e=Object(te.a)();return(null===e||void 0===e?void 0:e.includeDefaultMessage)&&(null===e||void 0===e?void 0:e.defaultMessage)||""}var zo=n("UmCv");function Lo(e,t,n){var o,i=null===(o=ee(e).queue)||void 0===o?void 0:o.room.startsWith("Online");return function(){i&&window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(t,"&message=").concat(n))}}var Bo="This student has been temporarily removed from the queue. They must select to rejoin the queue and will then be placed in the Priority Queue.";function Ro(e){var t=e.courseId,n=e.queueId,r=e.question,a=e.hasUnresolvedRephraseAlert,c=Do(),s=Z(n).mutateQuestions,l=Object(u.useCallback)(function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(r.id,{status:t});case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r.id,s]),d=Vn(n),p=d.isCheckedIn,f=d.isHelping,b=Lo(n,r.creator.email,c),j=function(){var e=Object(m.a)(h.a.mark((function e(){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={queueId:n,questionId:r.id,courseId:t},e.prev=1,e.next=4,x.a.alerts.create({alertType:i.a.REPHRASE_QUESTION,courseId:t,payload:o,targetUserId:r.creator.id});case 4:return e.next=6,s();case 6:je.b.success("Successfully asked student to rephrase their question."),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();if(r.status===i.o.Helping)return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(H,{title:"Are you sure you want to send this student back to the queue?",okText:"Yes",cancelText:"No",onConfirm:Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je.b.success(Bo,2),e.next=3,l(i.m.ReQueueing);case 3:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(Q.a,{title:"Requeue Student",children:Object(o.jsx)(ln,{icon:Object(o.jsx)(Vt,{}),"data-cy":"requeue-student-button"})})}),Object(o.jsx)(H,{title:"Are you sure you can't find this student?",okText:"Yes",cancelText:"No",onConfirm:Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je.b.success(Bo,2),e.next=3,l(i.m.CantFind);case 3:return e.next=5,x.a.questions.notify(r.id);case 5:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(Q.a,{title:"Can't Find",children:Object(o.jsx)(un,{shape:"circle",icon:Object(o.jsx)(ut.a,{}),"data-cy":"cant-find-button"})})}),Object(o.jsx)(Q.a,{title:"Finish Helping",children:Object(o.jsx)(sn,{icon:Object(o.jsx)(Jt.a,{}),onClick:function(){return l(i.b.Resolved)},"data-cy":"finish-helping-button"})})]});var O=p?f?[!1,"You are already helping a student"]:[!0,"Help Student"]:[!1,"You must check in to help students!"],g=Object(v.a)(O,2),y=g[0],w=g[1],C=p?a?[!1,"The student has already been asked to rephrase their question"]:[!0,"Ask the student to add more detail to their question"]:[!1,"You must check in to ask this student to rephrase their question"],_=Object(v.a)(C,2),q=_[0],k=_[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(H,{title:"Are you sure you want to delete this question from the queue?",disabled:!p,okText:"Yes",cancelText:"No",onConfirm:Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(r.status===i.o.Drafting?i.b.DeletedDraft:i.m.TADeleted);case 2:return e.next=4,x.a.questions.notify(r.id);case 4:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(Q.a,{title:p?"Remove From Queue":"You must check in to remove students from the queue",children:Object(o.jsx)("span",{children:Object(o.jsx)(an,{shape:"circle",icon:Object(o.jsx)(zo.a,{}),"data-cy":"remove-from-queue",disabled:!p})})})}),Object(o.jsx)(Q.a,{title:k,children:Object(o.jsx)("span",{children:Object(o.jsx)(cn,{shape:"circle",icon:Object(o.jsx)(ho,{}),onClick:j,"data-cy":"request-rephrase-question",disabled:!q})})}),Object(o.jsx)(Q.a,{title:w,children:Object(o.jsx)("span",{children:Object(o.jsx)(rn,{icon:Object(o.jsx)(Po,{}),onClick:function(){return l(i.o.Helping),void b()},disabled:!y,"data-cy":"help-student"})})})]})}var Fo=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionCardBox",componentId:"sc-6bb15h-0"})(["display:flex;justify-content:space-between;align-items:center;margin:12px;padding:16px;background:#ecf0f3;"]),Ho=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__StillDrafting",componentId:"sc-6bb15h-1"})(["margin:12px 30px;text-align:center;font-size:16px;"]),Mo=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionHeader",componentId:"sc-6bb15h-2"})(["font-size:18px;color:#595959;margin-bottom:20px;"]),Uo=Object(l.a)(Mo).withConfig({displayName:"TAQueueDetailQuestion__QuestionAsker",componentId:"sc-6bb15h-3"})(["font-weight:600;margin-bottom:10px;"]),Yo=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionDetails",componentId:"sc-6bb15h-4"})(["font-size:14px;color:#595959;margin-bottom:20px;"]),Go=l.a.span.withConfig({displayName:"TAQueueDetailQuestion__QuestionTypePill",componentId:"sc-6bb15h-5"})(["color:#264359;background:#abd4f3;padding:3px 8px;border-radius:4px;"]);function Vo(e){var t=e.question,n=e.queueId,r=e.courseId,a=e.showName,c=e.showButtons,s=e.hasUnresolvedRephraseAlert;return t.status===i.o.Drafting?Object(o.jsxs)(Ho,{children:[t.creator.name," is drafting their question..."]}):Object(o.jsxs)(Fo,{children:[Object(o.jsx)("div",{children:t.text||t.questionType?Object(o.jsxs)(o.Fragment,{children:[a?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Uo,{children:t.creator.name}),Object(o.jsx)(Yo,{children:t.text})]}):Object(o.jsx)(Mo,{children:t.text}),Object(o.jsx)(Go,{children:t.questionType})]}):Object(o.jsx)("p",{children:"No question details"})}),Object(o.jsx)("div",{children:c&&Object(o.jsx)(Ro,{courseId:r,queueId:n,question:t,hasUnresolvedRephraseAlert:s})})]})}var Jo=l.a.div.withConfig({displayName:"TAQueueDetail__Container",componentId:"sc-kj4kru-0"})([""]),Ko=l.a.div.withConfig({displayName:"TAQueueDetail__Header",componentId:"sc-kj4kru-1"})(["display:flex;justify-content:space-between;align-items:center;height:60px;padding:0 12px;background:#e1e7ec;"]),Wo=l.a.div.withConfig({displayName:"TAQueueDetail__Email",componentId:"sc-kj4kru-2"})(["font-size:12px;color:#8895a6;"]);function Zo(e){var t=e.courseId,n=e.queueId,i=e.question,r=e.hasUnresolvedRephraseAlert;return Object(o.jsxs)(Jo,{children:[Object(o.jsxs)(Ko,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:i.creator.name}),Object(o.jsx)(Wo,{children:i.creator.email})]}),Object(o.jsx)("div",{children:Object(o.jsx)(Ro,{courseId:t,queueId:n,question:i,hasUnresolvedRephraseAlert:r})})]}),Object(o.jsx)(Vo,{courseId:t,question:i,queueId:n,hasUnresolvedRephraseAlert:r})]})}var Xo=l.a.div.withConfig({displayName:"AllQuestionsChecklist__Description",componentId:"sc-1m6wlb4-0"})(["font-size:12px;color:#8895a6;"]),$o=l.a.div.withConfig({displayName:"AllQuestionsChecklist__SelectAllContainer",componentId:"sc-1m6wlb4-1"})(["padding:3px 8px;border-bottom:1px solid #cfd6de;"]),ei=l.a.div.withConfig({displayName:"AllQuestionsChecklist__QuestionsList",componentId:"sc-1m6wlb4-2"})(["display:flex;flex-direction:column;"]),ti=l.a.span.withConfig({displayName:"AllQuestionsChecklist__RedText",componentId:"sc-1m6wlb4-3"})(["color:red;"]);function ni(e){var t=e.groupCreator,n=e.allQuestions,i=e.hasMissingQuestions,r=e.queueId,a=e.onStartCall,c=Object(u.useState)(new Set),s=c[0],l=c[1],d=Vn(r),p=d.isCheckedIn,f=d.isHelping,b=p?f?[!1,"You are already helping a student"]:[!0,"Create Group & Call"]:[!1,"You must check in to help students!"],j=Object(v.a)(b,2),h=j[0],m=j[1],O=Do(),g=n.filter((function(e){return s.has(e.id)})).map((function(e){return e.creator.email})).join(","),y=Lo(r,g,O);return Object(o.jsxs)("div",{children:[Object(o.jsxs)(Ko,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:"".concat(t.name,"'s Group Session")}),Object(o.jsxs)(Xo,{children:["Select Students to Create Group",i?Object(o.jsxs)("div",{children:[Object(o.jsx)(ti,{children:"Note:"})," some students may not show up, as they did not consent to being grouped"]}):null]})]}),Object(o.jsx)("div",{children:Object(o.jsx)(Q.a,{title:m,children:Object(o.jsx)("span",{children:Object(o.jsx)(rn,{icon:Object(o.jsx)(Po,{}),onClick:function(){x.a.questions.group({questionIds:Array.from(s),queueId:r}),a(),y()},disabled:!h||0===s.size,"data-cy":"help-student"})})})})]}),Object(o.jsx)($o,{children:Object(o.jsx)(mo.a,{checked:n.length===s.size,indeterminate:s.size&&s.size!==n.length,onChange:function(e){e.target.checked?l(new Set(n.map((function(e){return e.id})))):l(new Set)},children:Object(o.jsx)("span",{style:{paddingLeft:"9px"},children:"Select All"})})}),Object(o.jsx)(ei,{children:n.map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)(_o,{question:e,index:t+1,selected:s.has(e.id),onClick:function(){return function(e){s.has(e.id)?(s.delete(e.id),l(new Set(s))):l(new Set(s.add(e.id)))}(e)},showCheckbox:!0})},e.id)}))})]})}function oi(e){var t=e.group,n=e.queueId,i=e.courseId;return Object(o.jsxs)("div",{children:[Object(o.jsxs)(Ko,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:"".concat(null===t||void 0===t?void 0:t.creator.name,"'s Group Session")}),Object(o.jsx)(Xo,{children:null===t||void 0===t?void 0:t.questions.map((function(e){return e.creator.name})).join(", ")})]}),Object(o.jsx)("div",{children:Object(o.jsx)(Q.a,{title:"Finish Helping",children:Object(o.jsx)(sn,{icon:Object(o.jsx)(Jt.a,{}),onClick:function(){return x.a.questions.resolveGroup(null===t||void 0===t?void 0:t.id,n)},"data-cy":"finish-helping-button"})})})]}),null===t||void 0===t?void 0:t.questions.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsx)(Vo,{courseId:i,question:e,queueId:n,showName:!0,showButtons:!0,hasUnresolvedRephraseAlert:!1})},e.id)}))]})}function ii(e){var t=e.groupCreator,n=e.queueId,i=e.courseId,r=Z(n),a=r.questions,c=r.mutateQuestions,s=[].concat(Object(f.a)(a.queue),Object(f.a)(a.priorityQueue)),u=null===a||void 0===a?void 0:a.groups.find((function(e){return e.creator.id===t.id})),l=u?u.questions:[],d=s.filter((function(e){return e.groupable}));return l.length?Object(o.jsx)(oi,{courseId:i,group:u,queueId:n}):Object(o.jsx)(ni,{allQuestions:d,hasMissingQuestions:d.length!=s.length,groupCreator:t,queueId:n,onStartCall:function(){c()}})}var ri=n("ERsz"),ai=l.a.div.withConfig({displayName:"TAQueueListSection__OverrideCollapse",componentId:"sc-104de8n-0"})(["& .ant-collapse-header{padding-left:0 !important;padding-right:0 !important;border-bottom:1px solid #cfd6de;}& .ant-collapse-item-disabled > .ant-collapse-header{cursor:initial !important;}& .ant-collapse-content-box{padding:0 !important;}"]),ci=l.a.div.withConfig({displayName:"TAQueueListSection__Title",componentId:"sc-104de8n-1"})(["font-size:16px;color:#212934;margin-left:40px;"]);function si(e){var t=e.title,n=e.questions,i=e.onClickQuestion,r=e.selectedQuestionId,a=e.showNumbers,c=void 0!==a&&a,s=e.collapsible,u=void 0!==s&&s,l=e.emptyDisplay,d=void 0===l?null:l;return 0!==n.length||d?Object(o.jsx)(ai,{children:Object(o.jsx)(ri.a,{defaultActiveKey:[1],ghost:!0,expandIconPosition:"right",children:Object(o.jsx)(ri.a.Panel,{style:{padding:0},header:Object(o.jsxs)(ci,{children:[t,Object(o.jsx)("span",{children:" (".concat(n.length,")")})]}),showArrow:u,disabled:!u,children:0===n.length?d:Object(o.jsx)("div",{children:n.map((function(e,t){return Object(o.jsx)(_o,{question:e,index:c&&t+1,selected:r===e.id,onClick:function(){return i(e.id)}},e.id)}))})},1)})}):null}var ui=900,li=l.a.div.withConfig({displayName:"TAQueueListDetail__Container",componentId:"sc-1mkewun-0"})(["flex:1;background:white;border:1px solid #cfd6de;margin-bottom:30px;@media (min-width:","px){border:none;border-left:1px solid #cfd6de;margin-bottom:0px;display:flex;flex-direction:row;min-height:calc( 100vh - 46px - 67px );// - (height of footer) - (height of navbar)}"],ui),di=l.a.div.withConfig({displayName:"TAQueueListDetail__List",componentId:"sc-1mkewun-1"})(["@media (min-width:","px){width:320px;overflow-y:scroll;}"],ui),pi=Object(l.a)(no.a).withConfig({displayName:"TAQueueListDetail__PriorityQueueQuestionBubble",componentId:"sc-1mkewun-2"})(["margin-right:8px;"]),fi=l.a.div.withConfig({displayName:"TAQueueListDetail__Detail",componentId:"sc-1mkewun-3"})(["border-left:1px solid #cfd6de;border-right:1px solid #cfd6de;flex:1;@media (min-width:","px){overflow-y:scroll;}"],ui),bi=l.a.div.withConfig({displayName:"TAQueueListDetail__BackToQueue",componentId:"sc-1mkewun-4"})(["height:40px;display:flex;align-items:center;padding-left:12px;color:#1890ff;cursor:pointer;"]);function ji(e){var t,n,i=e.queueId,r=e.courseId,a=Object(te.a)(),c=Object(u.useState)(null),s=c[0],l=c[1],d=Z(i).questions,p=Object(u.useState)(!1),b=p[0],j=p[1],h=Object(ao.a)()>=ui,m=function(e){l(e),j(!1)},v=null===d||void 0===d||null===(t=d.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){return e.taHelped.id===a.id})),x=null===d||void 0===d?void 0:d.groups.find((function(e){return e.creator.id===a.id})),O=x?x.questions:[],g=d?[].concat(Object(f.a)(v),Object(f.a)(d.queue),Object(f.a)(d.priorityQueue),Object(f.a)(d.groups.flatMap((function(e){return e.questions})))):[],y=g.find((function(e){return e.id===s})),w=null===d||void 0===d||null===(n=d.unresolvedAlerts)||void 0===n?void 0:n.map((function(e){return e.questionId})).includes(s);if(s&&!y&&m(null),!s&&v.length&&m(v[0].id),!d)return Object(o.jsx)(co.a,{});if(0===g.length)return Object(o.jsxs)(hi,{children:[Object(o.jsx)(mi,{children:"There are no questions in the queue"}),!a.phoneNotifsEnabled&&!a.desktopNotifsEnabled&&Object(o.jsx)(xi,{courseId:r})]});var C=Object(o.jsxs)(di,{children:[Object(o.jsx)("div",{"data-cy":"list-helping",children:Object(o.jsx)(si,{title:"Currently Helping",questions:v,onClickQuestion:m,selectedQuestionId:s})}),Object(o.jsx)("div",{"data-cy":"list-group",children:Object(o.jsx)(si,{title:"Group Students",questions:O,onClickQuestion:function(){j(!0),l(null)},collapsible:!0,emptyDisplay:Object(o.jsx)(To,{onClick:function(){j(!0),l(null)}})})}),Object(o.jsx)("div",{"data-cy":"list-priority",children:Object(o.jsx)(si,{title:Object(o.jsxs)("span",{children:[Object(o.jsx)(Q.a,{title:"Students in the priority queue were at the top of the queue before for some reason (e.g. they were at the top but AFK, or a TA helped them previously, and then hit 'requeue student.' You should communicate with your fellow staff members to prioritize these students first.",children:Object(o.jsx)(pi,{})}),"Priority Queue"]}),questions:d.priorityQueue,onClickQuestion:m,selectedQuestionId:s,collapsible:!0})}),Object(o.jsx)("div",{"data-cy":"list-queue",children:Object(o.jsx)(si,{title:"Waiting In Line",questions:d.queue,onClickQuestion:m,selectedQuestionId:s,collapsible:!0,showNumbers:!0})})]}),_=Object(o.jsxs)(fi,{children:[y&&Object(o.jsx)(Zo,{courseId:r,queueId:i,question:y,hasUnresolvedRephraseAlert:w}),b&&Object(o.jsx)(ii,{courseId:r,queueId:i,groupCreator:a})]});return h?Object(o.jsxs)(li,{children:[C,_]}):s?Object(o.jsxs)(li,{children:[Object(o.jsx)(bi,{onClick:function(){return m(null)},children:Object(o.jsxs)("span",{children:[Object(o.jsx)(ro,{})," Back To Queue"]})}),_]}):Object(o.jsx)(li,{children:C})}var hi=l.a.div.withConfig({displayName:"TAQueueListDetail__EmptyQueueInfo",componentId:"sc-1mkewun-5"})(["flex:1;display:flex;flex-direction:column;align-items:center;margin-top:30px;"]),mi=l.a.div.withConfig({displayName:"TAQueueListDetail__NoQuestionsText",componentId:"sc-1mkewun-6"})(["font-weight:500;font-size:24px;color:#212934;"]),vi=Object(l.a)(S.a).withConfig({displayName:"TAQueueListDetail__NotifRemindButton",componentId:"sc-1mkewun-7"})(["margin-top:16px;border-radius:6px;background:#fff;"]);function xi(e){var t=e.courseId;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(uo.a,{href:{pathname:"/settings",query:{cid:t,defaultPage:lo.a.NOTIFICATIONS}},children:Object(o.jsx)(vi,{children:"Sign Up for Notifications"})})})}function Oi(e){return gi.apply(this,arguments)}function gi(){return(gi=Object(m.a)(h.a.mark((function e(t){var n,o,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.questions.update(t,{status:i.o.Helping});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),401===(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(null===(o=e.t0.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)===i.f.questionController.updateQuestion.otherTAHelping&&y.a.open({message:"Another TA is currently helping the student",description:"This happens when another TA clicks help at the exact same time",type:"error",duration:3,className:"hide-in-percy",style:{width:450}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var yi=l.a.div.withConfig({displayName:"TAQueue__Container",componentId:"sc-173p98z-0"})(["flex:1;display:flex;flex-direction:column;@media (min-width:650px){flex-direction:row;}"]),wi=Object(l.a)(Xe).withConfig({displayName:"TAQueue__HelpNextButton",componentId:"sc-173p98z-1"})(["color:white;background:#2a9187;&:hover,&:focus{color:white;background:#39aca1;}"]),Ci=Object(l.a)(Xe).withConfig({displayName:"TAQueue__EditQueueButton",componentId:"sc-173p98z-2"})(["color:#212934;"]),_i=l.a.div.withConfig({displayName:"TAQueue__MiddleSpacer",componentId:"sc-173p98z-3"})(["margin-left:20px;"]);function qi(e){var t,n=e.qid,r=e.courseId,a=Object(te.a)(),c=Object(Gn.a)(r),s=ee(n).queue,l=Z(n),d=l.questions,p=l.mutateQuestions,f=Vn(n),b=f.isCheckedIn,j=f.isHelping,v=Object(u.useState)(!1),x=v[0],O=v[1],g=Object(Yn.a)(r).course,y=null===g||void 0===g?void 0:g.queues.some((function(e){return e.id!==n&&e.staffList.some((function(e){return e.id===(null===a||void 0===a?void 0:a.id)}))})),w=(null===d||void 0===d?void 0:d.priorityQueue[0])||(null===d||void 0===d||null===(t=d.queue)||void 0===t?void 0:t.find((function(e){return e.status===i.p.Queued}))),C=Do(),_=Lo(n,null===w||void 0===w?void 0:w.creator.email,C),q=function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi(w.id);case 2:p(),_();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(yi,{children:[Object(o.jsx)(ct,{queueId:n,isStaff:!0,buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ci,{"data-cy":"editQueue",onClick:function(){return O(!0)},children:"Edit Queue Details"}),Object(o.jsx)(Q.a,{title:!b&&"You must check in to help students!",children:Object(o.jsx)(wi,{onClick:q,disabled:!b||!w||j,"data-cy":"help-next",children:"Help Next"})}),Object(o.jsx)("div",{style:{marginBottom:"12px"},children:Object(o.jsx)(Q.a,{title:s.isDisabled&&"Cannot check into a disabled queue!",children:Object(o.jsx)(Jn.b,{courseId:r,room:null===s||void 0===s?void 0:s.room,disabled:y||j||s.isProfessorQueue&&c!==i.s.PROFESSOR||s.isDisabled,state:b?"CheckedIn":"CheckedOut",block:!0})})})]})}),Object(o.jsx)(_i,{}),a&&d&&Object(o.jsx)(ji,{queueId:n,courseId:r})]}),Object(o.jsx)(to,{queueId:n,visible:x,onClose:function(){return O(!1)}})]}):Object(o.jsx)("div",{})}var ki=l.a.div.withConfig({displayName:"qid__Container",componentId:"sc-xy2cp0-0"})(["flex:1;display:flex;flex-direction:column;"]);function Ni(){var e=Object(c.useRouter)().query,t=e.cid,n=e.qid,r=Object(Gn.a)(Number(t)),s=ee(Number(n)).queue;return Object(o.jsx)(d.a,{children:Object(o.jsxs)(ki,{children:[Object(o.jsx)(a.a,{children:Object(o.jsxs)("title",{children:[null===s||void 0===s?void 0:s.room," Queue | Khoury Office Hours"]})}),Object(o.jsx)(p.a,{courseId:Number(t)}),i.s.STUDENT===r?Object(o.jsx)(Fn,{qid:Number(n),cid:Number(t)}):Object(o.jsx)(qi,{qid:Number(n),courseId:Number(t)})]})})}},w5NM:function(e,t){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=n(1))&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configuration=null!=n?Object.assign({},n):null,this._eventSource=null,this._lastEventId=null,this._timer=null,this._listeners={},this.url=t,this.readyState=0,this.max_retry_time=3e3,null!=this._configuration&&(this._configuration.lastEventId&&(this._lastEventId=this._configuration.lastEventId,delete this._configuration.lastEventId),this._configuration.max_retry_time&&(this.max_retry_time=this._configuration.max_retry_time,delete this._configuration.max_retry_time)),this._onevent_wrapped=function(e){o._onevent(e)},this._start()}return o(e,[{key:"_start",value:function(){var e=this,t=this.url;this._lastEventId&&(-1===t.indexOf("?")?t+="?":t+="&",t+="lastEventId="+encodeURIComponent(this._lastEventId)),this._eventSource=new EventSource(t,this._configuration),this._eventSource.onopen=function(t){e._onopen(t)},this._eventSource.onerror=function(t){e._onerror(t)},this._eventSource.onmessage=function(t){e.onmessage(t)};var n=!0,o=!1,i=void 0;try{for(var r,a=Object.keys(this._listeners)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var c=r.value;this._eventSource.addEventListener(c,this._onevent_wrapped)}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}}},{key:"_onopen",value:function(e){0===this.readyState&&(this.readyState=1,this.onopen(e))}},{key:"_onerror",value:function(e){var t=this;if(1===this.readyState&&(this.readyState=0,this.onerror(e)),this._eventSource&&2===this._eventSource.readyState){this._eventSource.close(),this._eventSource=null;var n=Math.round(this.max_retry_time*Math.random());this._timer=setTimeout((function(){return t._start()}),n)}}},{key:"_onevent",value:function(e){e.lastEventId&&(this._lastEventId=e.lastEventId);var t=this._listeners[e.type];if(null!=t)for(var n=[].concat(i(t)),o=0;o<n.length;o++)(0,n[o])(e);"message"===e.type&&this.onmessage(e)}},{key:"onopen",value:function(e){}},{key:"onerror",value:function(e){}},{key:"onmessage",value:function(e){}},{key:"close",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._eventSource&&(this._eventSource.close(),this._eventSource=null),this.readyState=2}},{key:"addEventListener",value:function(e,t){var n=e.toString();n in this._listeners||(this._listeners[n]=[],this._eventSource&&this._eventSource.addEventListener(n,this._onevent_wrapped));var o=this._listeners[n];o.includes(t)||(this._listeners[n]=[].concat(i(o),[t]))}},{key:"removeEventListener",value:function(e,t){var n=e.toString();if(n in this._listeners){var o=this._listeners[n].filter((function(e){return e!==t}));o.length>0?this._listeners[n]=o:(delete this._listeners[n],this._eventSource&&this._eventSource.removeEventListener(n,this._onevent_wrapped))}}}]),e}();t.default=r}])},xdJY:function(e,t,n){"use strict";var o=n("Czhu"),i=n("ERkP"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},a=n("vspj"),c=function(e,t){return i.createElement(a.a,Object(o.a)(Object(o.a)({},e),{},{ref:t,icon:r}))};c.displayName="EditOutlined";t.a=i.forwardRef(c)}},[["D+6G",1,2,17,20,0,3,4,6,5,7,8,9,11,10,12,13,15,14,18,19,16,22,21,28]]]);