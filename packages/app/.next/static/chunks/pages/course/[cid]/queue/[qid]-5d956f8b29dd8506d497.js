_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[35],{"D+6G":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[cid]/queue/[qid]",function(){return n("k4G0")}])},"d+ro":function(e,t,n){"use strict";var o=n("zjfJ"),i=n("cxan"),r=n("zygG"),a=n("ERkP"),c=n("O94r"),s=n.n(c),u=n("WSTu"),l=n("Sp6C"),d=n("tb/6"),p=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},f=function(e){var t,n=e.prefixCls,r=e.className,c=e.checked,u=e.onChange,l=e.onClick,f=p(e,["prefixCls","className","checked","onChange","onClick"]),b=(0,a.useContext(d.b).getPrefixCls)("tag",n),j=s()(b,(t={},Object(o.a)(t,"".concat(b,"-checkable"),!0),Object(o.a)(t,"".concat(b,"-checkable-checked"),c),t),r);return a.createElement("span",Object(i.a)({},f,{className:j,onClick:function(e){null===u||void 0===u||u(!c),null===l||void 0===l||l(e)}}))},b=n("VhZz"),j=n("gQzm"),h=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},m=new RegExp("^(".concat(b.a.join("|"),")(-inverse)?$")),v=new RegExp("^(".concat(b.b.join("|"),")$")),x=function(e,t){var n,c=e.prefixCls,p=e.className,f=e.style,b=e.children,x=e.icon,O=e.color,g=e.onClose,y=e.closeIcon,w=e.closable,C=void 0!==w&&w,_=h(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),q=a.useContext(d.b),k=q.getPrefixCls,N=q.direction,I=a.useState(!0),Q=Object(r.a)(I,2),S=Q[0],E=Q[1];a.useEffect((function(){"visible"in _&&E(_.visible)}),[_.visible]);var T=function(){return!!O&&(m.test(O)||v.test(O))},A=Object(i.a)({backgroundColor:O&&!T()?O:void 0},f),P=T(),z=k("tag",c),L=s()(z,(n={},Object(o.a)(n,"".concat(z,"-").concat(O),P),Object(o.a)(n,"".concat(z,"-has-color"),O&&!P),Object(o.a)(n,"".concat(z,"-hidden"),!S),Object(o.a)(n,"".concat(z,"-rtl"),"rtl"===N),n),p),D=function(e){e.stopPropagation(),null===g||void 0===g||g(e),e.defaultPrevented||"visible"in _||E(!1)},B="onClick"in _||b&&"a"===b.type,R=Object(u.a)(_,["visible"]),F=x||null,M=F?a.createElement(a.Fragment,null,F,a.createElement("span",null,b)):b,H=a.createElement("span",Object(i.a)({},R,{ref:t,className:L,style:A}),M,C?y?a.createElement("span",{className:"".concat(z,"-close-icon"),onClick:D},y):a.createElement(l.a,{className:"".concat(z,"-close-icon"),onClick:D}):null);return B?a.createElement(j.a,null,H):H},O=a.forwardRef(x);O.displayName="Tag",O.CheckableTag=f;t.a=O},k4G0:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return wi}));var o=n("jg1C"),i=n("wPNs"),r=n("vpUC"),a=n.n(r),c=n("Bkb1"),s=n("ERkP"),u=n("j/s1"),l=n("NabS"),d=n("s9Vj"),p=n("d7jh"),f=n("LHL8"),b=n("IebI"),j=n.n(b),h=n("O+IG"),m=n("mstN"),v=n("zTld"),x=n("jMRu"),O=n("S7b9"),g=n("Mob5"),y=n("cxan"),w=n("zygG"),C=n("O94r"),_=n.n(C),q=n("MSM+"),k=n("+Gah"),N=n("tmJt"),I=n("9xBf"),Q=n("SCaQ"),S=n("BVSD"),E=n("spb8"),T=n("bu23"),A=n("tb/6"),P=n("jj3b"),z=n("oFrK"),L=n("3O2j"),D=void 0,B=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},R=s.forwardRef((function(e,t){var n=Object(q.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),o=Object(w.a)(n,2),i=o[0],r=o[1],a=function(t,n){var o;r(t),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t,n)},c=function(t){var n;a(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(D,t)},u=function(t){var n;a(!1,t),null===(n=e.onCancel)||void 0===n||n.call(D,t)},l=s.useContext(A.b).getPrefixCls,d=e.prefixCls,p=e.placement,f=e.children,b=e.overlayClassName,j=B(e,["prefixCls","placement","children","overlayClassName"]),h=l("popover",d),m=l("popconfirm",d),v=_()(m,b),x=s.createElement(E.a,{componentName:"Popconfirm",defaultLocale:T.a.Popconfirm},(function(t){return function(t,n){var o=e.okButtonProps,i=e.cancelButtonProps,r=e.title,a=e.cancelText,l=e.okText,d=e.okType,p=e.icon;return s.createElement("div",{className:"".concat(t,"-inner-content")},s.createElement("div",{className:"".concat(t,"-message")},p,s.createElement("div",{className:"".concat(t,"-message-title")},Object(P.a)(r))),s.createElement("div",{className:"".concat(t,"-buttons")},s.createElement(Q.a,Object(y.a)({onClick:u,size:"small"},i),a||n.cancelText),s.createElement(Q.a,Object(y.a)({onClick:c},Object(S.a)(d),{size:"small"},o),l||n.okText)))}(h,t)})),O=l();return s.createElement(I.a,Object(y.a)({},j,{prefixCls:h,placement:p,onVisibleChange:function(t){e.disabled||a(t)},visible:i,overlay:x,overlayClassName:v,ref:t,transitionName:Object(L.b)(O,"zoom-big",e.transitionName)}),Object(z.a)(f,{onKeyDown:function(e){var t,n;s.isValidElement(f)&&(null===(n=null===f||void 0===f?void 0:(t=f.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===N.a.ESC&&i&&a(!1,e)}(e)}}))}));R.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:s.createElement(k.a,null),disabled:!1};var F=R,M=n("VKn7"),H=n("JbCn"),U=n("Xccw");var Y=n("lPv2"),G=n("w5NM"),V=n.n(G),J={},K=function(e,t,n){var o=Object(s.useState)(!1),i=o[0],r=o[1];return Object(s.useEffect)((function(){if(e){var o;e in J?o=J[e]:(o={eventSource:new V.a(e),listeners:{},isLiveSetters:new Set},J[e]=o,o.eventSource.onmessage=function(e){var t=Object.values(o.listeners),n=JSON.parse(e.data);t.forEach((function(e){return e.listener(n)}))},o.eventSource.onopen=function(){return o.isLiveSetters.forEach((function(e){return e(!0)}))},o.eventSource.onerror=function(){return o.isLiveSetters.forEach((function(e){return e(!1)}))}),r(o.eventSource.readyState===EventSource.OPEN),o.isLiveSetters.add(r);var i=o.listeners[t];return o.listeners[t]?i.count++:(i={listener:n,count:1},o.listeners[t]=i),function(){i.count--,o.isLiveSetters.delete(r),0===i.count&&(delete o.listeners[t],0===Object.values(o.listeners).length&&(o.eventSource.close(),delete J[e]))}}}),[e,n,t]),i};function Z(e){var t=e&&"/api/v1/queues/".concat(e,"/questions"),n=K(e&&"/api/v1/queues/".concat(e,"/sse"),"question",Object(s.useCallback)((function(e){e.questions&&Object(H.b)(t,Object(Y.plainToClass)(i.n,e.questions),!1)}),[t])),o=Object(H.a)(t,Object(h.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v.a.questions.index(Number(e)));case 1:case"end":return t.stop()}}),t)}))),{refreshInterval:n?0:1e4});return{questions:o.data,questionsError:o.error,mutateQuestions:o.mutate}}var W={};function X(e){var t=W[e];t.onUpdates.forEach((function(e){return e(t.lastUpdated)}))}function $(e,t){var n=e&&"/api/v1/queues/".concat(e);n in W||(W[n]={lastUpdated:null,onUpdates:new Set}),Object(s.useEffect)((function(){if(t){var e=W[n];return e.onUpdates.add(t),t(e.lastUpdated),function(){e.onUpdates.delete(t)}}}),[t,n]);var o=K(e&&"/api/v1/queues/".concat(e,"/sse"),"queue",Object(s.useCallback)((function(e){e.queue&&(Object(H.b)(n,Object(Y.plainToClass)(i.k,e.queue),!1),W[n].lastUpdated=new Date,X(n))}),[n])),r=Object(H.a)(n,Object(s.useCallback)(Object(h.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v.a.queues.get(Number(e)));case 1:case"end":return t.stop()}}),t)}))),[e]),{refreshInterval:o?0:1e4,onSuccess:function(e,t){W[t].lastUpdated=new Date,X(t)}});return{queue:r.data,queueError:r.error,mutateQueue:r.mutate,isLive:o}}var ee=n("Ogf2");function te(e){var t=Object(ee.a)(),n=Z(e),o=n.questions,i=n.questionsError,r=t&&o&&(null===o||void 0===o?void 0:o.yourQuestion),a=r&&o.queue.findIndex((function(e){return r.id===e.id}));return{studentQuestion:r,studentQuestionIndex:a,studentQuestionError:i}}var ne=n("PJfV"),oe=n("QsUr"),ie=n("Czhu"),re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112c-3.8 0-7.7.7-11.6 2.3L292 345.9H128c-8.8 0-16 7.4-16 16.6v299c0 9.2 7.2 16.6 16 16.6h101.7c-3.7 11.6-5.7 23.9-5.7 36.4 0 65.9 53.8 119.5 120 119.5 55.4 0 102.1-37.6 115.9-88.4l408.6 164.2c3.9 1.5 7.8 2.3 11.6 2.3 16.9 0 32-14.2 32-33.2V145.2C912 126.2 897 112 880 112zM344 762.3c-26.5 0-48-21.4-48-47.8 0-11.2 3.9-21.9 11-30.4l84.9 34.1c-2 24.6-22.7 44.1-47.9 44.1zm496 58.4L318.8 611.3l-12.9-5.2H184V417.9h121.9l12.9-5.2L840 203.3v617.4z"}}]},name:"notification",theme:"outlined"},ae=n("vspj"),ce=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:re}))};ce.displayName="NotificationOutlined";var se=s.forwardRef(ce),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"},le=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:ue}))};le.displayName="CloudSyncOutlined";var de=s.forwardRef(le),pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},fe=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:pe}))};fe.displayName="FrownOutlined";var be=s.forwardRef(fe),je=n("uZk3"),he=n.n(je),me=n("wgY5"),ve=n.n(me),xe=n("jPdq");function Oe(e){var t=e.render,n=e.interval,i=Object(s.useState)({})[1],r=Object(s.useCallback)((function(){return i({})}),[]);return Object(s.useEffect)((function(){var e=setInterval((function(){r()}),n);return function(){clearInterval(e)}}),[r,n]),Object(o.jsx)(o.Fragment,{children:t()})}var ge=n("zjfJ"),ye=n("4wDe"),we=n("B5SY");function Ce(e){var t,n=e.prefixCls,o=e.value,i=e.current,r=e.offset,a=void 0===r?0:r;return a&&(t={position:"absolute",top:"".concat(a,"00%"),left:0}),s.createElement("span",{style:t,className:_()("".concat(n,"-only-unit"),{current:i})},o)}function _e(e,t,n){for(var o=e,i=0;(o+10)%10!==t;)o+=n,i+=n;return i}function qe(e){var t,n,o=e.prefixCls,i=e.count,r=e.value,a=Number(r),c=Math.abs(i),u=s.useState(a),l=Object(w.a)(u,2),d=l[0],p=l[1],f=s.useState(c),b=Object(w.a)(f,2),j=b[0],h=b[1],m=function(){p(a),h(c)};if(s.useEffect((function(){var e=setTimeout((function(){m()}),1e3);return function(){clearTimeout(e)}}),[a]),d===a||Number.isNaN(a)||Number.isNaN(d))t=[s.createElement(Ce,Object(y.a)({},e,{key:a,current:!0}))],n={transition:"none"};else{t=[];for(var v=a+10,x=[],O=a;O<=v;O+=1)x.push(O);var g=x.findIndex((function(e){return e%10===d}));t=x.map((function(t,n){var o=t%10;return s.createElement(Ce,Object(y.a)({},e,{key:t,value:o,offset:n-g,current:n===g}))})),n={transform:"translateY(".concat(-_e(d,a,j<c?1:-1),"00%)")}}return s.createElement("span",{className:"".concat(o,"-only"),style:n,onTransitionEnd:m},t)}var ke=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Ne=function(e){var t=e.prefixCls,n=e.count,o=e.className,i=e.motionClassName,r=e.style,a=e.title,c=e.show,u=e.component,l=void 0===u?"sup":u,d=e.children,p=ke(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),f=(0,s.useContext(A.b).getPrefixCls)("scroll-number",t),b=Object(y.a)(Object(y.a)({},p),{"data-show":c,style:r,className:_()(f,o,i),title:a}),j=n;if(n&&Number(n)%1===0){var h=String(n).split("");j=h.map((function(e,t){return s.createElement(qe,{prefixCls:f,count:Number(n),value:e,key:h.length-t})}))}return r&&r.borderColor&&(b.style=Object(y.a)(Object(y.a)({},r),{boxShadow:"0 0 0 1px ".concat(r.borderColor," inset")})),d?Object(z.a)(d,(function(e){return{className:_()("".concat(f,"-custom-component"),null===e||void 0===e?void 0:e.className,i)}})):s.createElement(l,b,j)},Ie=n("VhZz");function Qe(e){return-1!==Ie.a.indexOf(e)}var Se=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Ee=function(e){var t,n,o=e.prefixCls,i=e.scrollNumberPrefixCls,r=e.children,a=e.status,c=e.text,u=e.color,l=e.count,d=void 0===l?null:l,p=e.overflowCount,f=void 0===p?99:p,b=e.dot,j=void 0!==b&&b,h=e.size,m=void 0===h?"default":h,v=e.title,x=e.offset,O=e.style,g=e.className,w=e.showZero,C=void 0!==w&&w,q=Se(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),k=s.useContext(A.b),N=k.getPrefixCls,I=k.direction,Q=N("badge",o),S=d>f?"".concat(f,"+"):d,E=null!==a&&void 0!==a||null!==u&&void 0!==u,T="0"===S||0===S,P=j&&!T,L=P?"":S,D=Object(s.useMemo)((function(){return(null===L||void 0===L||""===L||T&&!C)&&!P}),[L,T,C,P]),B=Object(s.useRef)(d);D||(B.current=d);var R=B.current,F=Object(s.useRef)(L);D||(F.current=L);var M=F.current,H=Object(s.useRef)(P);D||(H.current=P);var U=Object(s.useMemo)((function(){if(!x)return Object(y.a)({},O);var e={marginTop:x[1]};return"rtl"===I?e.left=parseInt(x[0],10):e.right=-parseInt(x[0],10),Object(y.a)(Object(y.a)({},e),O)}),[I,x,O]),Y=null!==v&&void 0!==v?v:"string"===typeof R||"number"===typeof R?R:void 0,G=D||!c?null:s.createElement("span",{className:"".concat(Q,"-status-text")},c),V=R&&"object"===Object(ye.a)(R)?Object(z.a)(R,(function(e){return{style:Object(y.a)(Object(y.a)({},U),e.style)}})):void 0,J=_()((t={},Object(ge.a)(t,"".concat(Q,"-status-dot"),E),Object(ge.a)(t,"".concat(Q,"-status-").concat(a),!!a),Object(ge.a)(t,"".concat(Q,"-status-").concat(u),Qe(u)),t)),K={};u&&!Qe(u)&&(K.background=u);var Z=_()(Q,(n={},Object(ge.a)(n,"".concat(Q,"-status"),E),Object(ge.a)(n,"".concat(Q,"-not-a-wrapper"),!r),Object(ge.a)(n,"".concat(Q,"-rtl"),"rtl"===I),n),g);if(!r&&E){var W=U.color;return s.createElement("span",Object(y.a)({},q,{className:Z,style:U}),s.createElement("span",{className:J,style:K}),s.createElement("span",{style:{color:W},className:"".concat(Q,"-status-text")},c))}return s.createElement("span",Object(y.a)({},q,{className:Z}),r,s.createElement(we.default,{visible:!D,motionName:"".concat(Q,"-zoom"),motionAppear:!1},(function(e){var t,n=e.className,o=N("scroll-number",i),r=H.current,c=_()((t={},Object(ge.a)(t,"".concat(Q,"-dot"),r),Object(ge.a)(t,"".concat(Q,"-count"),!r),Object(ge.a)(t,"".concat(Q,"-count-sm"),"small"===m),Object(ge.a)(t,"".concat(Q,"-multiple-words"),!r&&M&&M.toString().length>1),Object(ge.a)(t,"".concat(Q,"-status-").concat(a),!!a),Object(ge.a)(t,"".concat(Q,"-status-").concat(u),Qe(u)),t)),l=Object(y.a)({},U);return u&&!Qe(u)&&((l=l||{}).background=u),s.createElement(Ne,{prefixCls:o,show:!D,motionClassName:n,className:c,count:M,title:Y,style:l,key:"scrollNumber"},V)})),G)};Ee.Ribbon=function(e){var t,n=e.className,o=e.prefixCls,i=e.style,r=e.color,a=e.children,c=e.text,u=e.placement,l=void 0===u?"end":u,d=s.useContext(A.b),p=d.getPrefixCls,f=d.direction,b=p("ribbon",o),j=Qe(r),h=_()(b,"".concat(b,"-placement-").concat(l),(t={},Object(ge.a)(t,"".concat(b,"-rtl"),"rtl"===f),Object(ge.a)(t,"".concat(b,"-color-").concat(r),j),t),n),m={},v={};return r&&!j&&(m.background=r,v.color=r),s.createElement("div",{className:"".concat(b,"-wrapper")},a,s.createElement("div",{className:h,style:Object(y.a)(Object(y.a)({},m),i)},s.createElement("span",{className:"".concat(b,"-text")},c),s.createElement("div",{className:"".concat(b,"-corner"),style:v})))};var Te=Ee,Ae=n("FRUG");function Pe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Le(e){var t=e.queueId,n=Z(t).questions,i=$(t).queue.staffList;if(!n)return null;var r,a={},c=i.map((function(e){return e.id})),s=n.questionsGettingHelp,u=n.groups,l=Pe(s);try{for(l.s();!(r=l.n()).done;){var d,p=r.value;c.includes(null===(d=p.taHelped)||void 0===d?void 0:d.id)&&(a[p.taHelped.id]=p)}}catch(f){l.e(f)}finally{l.f()}return Object(o.jsx)(M.a,{children:i.map((function(e){var t,n,i;return Object(o.jsx)(M.a,{children:Object(o.jsx)(Me,{taName:e.name,taPhotoURL:e.photoURL,studentName:null===(t=a[e.id])||void 0===t||null===(n=t.creator)||void 0===n?void 0:n.name,helpedAt:null===(i=a[e.id])||void 0===i?void 0:i.helpedAt,grouped:u.some((function(t){return t.creator.id===e.id}))})},e.id)}))})}var De=u.a.div.withConfig({displayName:"TAStatuses__StyledCard",componentId:"sc-1buidjq-0"})(["background:#ffffff;box-shadow:0px 2px 8px rgba(0,0,0,0.15);border-radius:6px;padding:16px;display:flex;margin-bottom:16px;"]),Be=u.a.div.withConfig({displayName:"TAStatuses__CardContent",componentId:"sc-1buidjq-1"})(["margin-left:16px;flex-grow:1;"]),Re=u.a.div.withConfig({displayName:"TAStatuses__TAName",componentId:"sc-1buidjq-2"})(["font-weight:bold;color:#212934;"]),Fe=u.a.div.withConfig({displayName:"TAStatuses__HelpingInfo",componentId:"sc-1buidjq-3"})(["margin-top:5px;font-style:italic;"]);function Me(e){var t=e.taName,n=e.taPhotoURL,i=e.studentName,r=e.helpedAt,a=e.grouped,c=!!r;return Object(o.jsxs)(De,{"data-cy":"ta-status-card",children:[Object(o.jsx)(Ae.a,{size:48,name:t,photoURL:n,style:{flexShrink:0}}),Object(o.jsxs)(Be,{children:[Object(o.jsxs)(O.a,{justify:"space-between",children:[Object(o.jsx)(Re,{children:t}),Object(o.jsxs)("span",{children:[Object(o.jsx)(Te,{status:c?"processing":"success"}),c?"Busy":"Available"]})]}),Object(o.jsx)(Fe,{children:a?"Helping a group":c?Object(o.jsx)(Ue,{studentName:i,helpedAt:r}):"Looking for my next student..."})]})]})}var He=u.a.span.withConfig({displayName:"TAStatuses__BlueSpan",componentId:"sc-1buidjq-4"})(["color:#66a3d6;"]);function Ue(e){var t=e.studentName,n=e.helpedAt;return Object(o.jsx)(Oe,{render:function(){return Object(o.jsxs)("span",{children:["Helping ",Object(o.jsx)(He,{children:null!==t&&void 0!==t?t:"a student"})," for"," ",Object(o.jsx)(He,{children:Object(xe.b)((Date.now()-n.getTime())/6e4)})]})},interval:6e4})}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}u.a.div.withConfig({displayName:"QueueListSharedComponents__Container",componentId:"sc-1abq9vy-0"})(["display:flex;flex-direction:row;align-items:center;"]);var Ge=u.a.div.withConfig({displayName:"QueueListSharedComponents__QueueTitle",componentId:"sc-1abq9vy-1"})(["font-weight:500;font-size:24px;color:#212934;"]),Ve=(u.a.div.withConfig({displayName:"QueueListSharedComponents__NotesText",componentId:"sc-1abq9vy-2"})(["font-size:16px;color:#5f6b79;"]),u.a.div.withConfig({displayName:"QueueListSharedComponents__InfoColumnContainer",componentId:"sc-1abq9vy-3"})(["flex-shrink:0;padding-bottom:30px;@media (min-width:650px){margin-top:32px;width:290px;}"])),Je=Object(u.a)(Q.a).withConfig({displayName:"QueueListSharedComponents__QueueInfoColumnButtonStyle",componentId:"sc-1abq9vy-4"})(["font-weight:500;font-size:14px;border:1px solid #cfd6de;border-radius:6px;margin-bottom:12px;"]),Ke=function(e){return Object(o.jsx)(Je,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:"large",block:!0},e))},Ze=u.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyRow",componentId:"sc-1abq9vy-5"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:20px;color:#5f6b79;font-size:20px;"]),We=u.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyText",componentId:"sc-1abq9vy-6"})(["margin-left:12px;font-size:16px;min-width:0;overflow-wrap:break-word;white-space:pre-wrap;"]),Xe=u.a.h2.withConfig({displayName:"QueueListSharedComponents__StaffH2",componentId:"sc-1abq9vy-7"})(["margin-top:32px;"]),$e=u.a.div.withConfig({displayName:"QueueListSharedComponents__QueueRoomGroup",componentId:"sc-1abq9vy-8"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:24px;"]);function et(e){var t=e.queueId,n=e.buttons,i=$(t).queue;return Object(o.jsxs)(Ve,{children:[Object(o.jsxs)($e,{children:[Object(o.jsx)(Ge,{children:null===i||void 0===i?void 0:i.room}),!i.allowQuestions&&Object(o.jsx)(I.a,{title:"This queue is no longer accepting questions",children:Object(o.jsx)(ne.a,{"data-cy":"stopQuestions",style:{color:"red",fontSize:"24px",marginLeft:"8px"}})})]}),i.startTime&&i.endTime&&Object(o.jsxs)(Ze,{children:[Object(o.jsx)(oe.a,{}),Object(o.jsx)(We,{className:"hide-in-percy",children:Object(xe.a)(i)})]}),(null===i||void 0===i?void 0:i.notes)&&Object(o.jsxs)(Ze,{children:[Object(o.jsx)(se,{}),Object(o.jsx)(he.a,{componentDecorator:function(e,t,n){return Object(o.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e,children:t},n)},children:Object(o.jsx)(We,{children:i.notes})})]}),Object(o.jsx)(tt,{queueId:t}),n,Object(o.jsx)(Xe,{children:"Staff"}),Object(o.jsx)(Le,{queueId:t})]})}function tt(e){var t=e.queueId,n=Object(s.useState)(null),i=n[0],r=$(t,n[1]).isLive;return Object(o.jsxs)(Ze,{className:"hide-in-percy",children:[r||i?Object(o.jsx)(de,{}):Object(o.jsx)(be,{}),Object(o.jsx)(We,{className:"hide-in-percy",children:r?"Queue up to date":i?Object(o.jsx)(Oe,{render:function(){var e=(Date.now()-i.getTime())/1e3;return"Queue updated ".concat(e<60?Math.ceil(e)+"s":ve()(i).fromNow(!0)," ago")},interval:1e3}):"Queue may be out of date"})]})}var nt=n("/zI6"),ot=n("Sp6C"),it=n("5ouU"),rt=n("+Hko"),at=n("TyQ8"),ct=n("r8k/"),st=n("CZO1"),ut=n("dRg2"),lt=n("+RZ0"),dt=n("D28v"),pt=n("9fIP"),ft=n("MMYH"),bt=n("8K1b"),jt=n("AqVP"),ht=function(e){Object(bt.a)(n,e);var t=Object(jt.a)(n);function n(){var e;return Object(pt.a)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return Object(ft.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,o=e.children,i=this.state,r=i.error,a=i.info,c=a&&a.componentStack?a.componentStack:null,u="undefined"===typeof t?(r||"").toString():t,l="undefined"===typeof n?c:n;return r?s.createElement(gt,{type:"error",message:u,description:s.createElement("pre",null,l)}):o}}]),n}(s.Component),mt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},vt={success:st.a,info:ut.a,error:lt.a,warning:k.a},xt={success:it.a,info:at.a,error:ct.a,warning:rt.a},Ot=function(e){var t,n=e.description,o=e.prefixCls,i=e.message,r=e.banner,a=e.className,c=void 0===a?"":a,u=e.style,l=e.onMouseEnter,d=e.onMouseLeave,p=e.onClick,f=e.afterClose,b=e.showIcon,j=e.closable,h=e.closeText,m=e.action,v=mt(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),x=s.useState(!1),O=Object(w.a)(x,2),g=O[0],C=O[1],q=s.useRef(),k=s.useContext(A.b),N=k.getPrefixCls,I=k.direction,Q=N("alert",o),S=function(e){var t;C(!0),null===(t=v.onClose)||void 0===t||t.call(v,e)},E=!!h||j,T=function(){var e=v.type;return void 0!==e?e:r?"warning":"info"}(),P=!(!r||void 0!==b)||b,L=_()(Q,"".concat(Q,"-").concat(T),(t={},Object(ge.a)(t,"".concat(Q,"-with-description"),!!n),Object(ge.a)(t,"".concat(Q,"-no-icon"),!P),Object(ge.a)(t,"".concat(Q,"-banner"),!!r),Object(ge.a)(t,"".concat(Q,"-rtl"),"rtl"===I),t),c),D=Object(dt.a)(v);return s.createElement(we.default,{visible:!g,motionName:"".concat(Q,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:f},(function(e){var t=e.className,o=e.style;return s.createElement("div",Object(y.a)({ref:q,"data-show":!g,className:_()(L,t),style:Object(y.a)(Object(y.a)({},u),o),onMouseEnter:l,onMouseLeave:d,onClick:p,role:"alert"},D),P?function(){var e=v.icon,t=(n?xt:vt)[T]||null;return e?Object(z.c)(e,s.createElement("span",{className:"".concat(Q,"-icon")},e),(function(){return{className:_()("".concat(Q,"-icon"),Object(ge.a)({},e.props.className,e.props.className))}})):s.createElement(t,{className:"".concat(Q,"-icon")})}():null,s.createElement("div",{className:"".concat(Q,"-content")},s.createElement("div",{className:"".concat(Q,"-message")},i),s.createElement("div",{className:"".concat(Q,"-description")},n)),m?s.createElement("div",{className:"".concat(Q,"-action")},m):null,E?s.createElement("button",{type:"button",onClick:S,className:"".concat(Q,"-close-icon"),tabIndex:0},h?s.createElement("span",{className:"".concat(Q,"-close-text")},h):s.createElement(ot.a,null)):null)}))};Ot.ErrorBoundary=ht;var gt=Ot,yt=n("NwOV"),wt=n("BmDy");function Ct(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=u.a.div.withConfig({displayName:"QuestionForm__Container",componentId:"sc-1wkgpcq-0"})(["max-width:960px;"]),Nt=u.a.div.withConfig({displayName:"QuestionForm__QuestionText",componentId:"sc-1wkgpcq-1"})(["font-weight:normal;font-size:14px;line-height:22px;margin-bottom:4px;"]),It=u.a.div.withConfig({displayName:"QuestionForm__QuestionCaption",componentId:"sc-1wkgpcq-2"})(["font-weight:300;font-size:14px;line-height:22px;color:#8c8c8c;margin-bottom:32px;"]),Qt=Object(u.a)(Q.a).withConfig({displayName:"QuestionForm__FormButton",componentId:"sc-1wkgpcq-3"})(["margin-left:8px;"]),St=Object(u.a)(Q.a).withConfig({displayName:"QuestionForm__SaveChangesButton",componentId:"sc-1wkgpcq-4"})(["margin-left:8px;background:#3684c6;"]);function Et(e){var t=e.visible,n=e.question,r=e.leaveQueue,a=e.finishQuestion,u=e.position,l=e.cancel,d=Object(U.a)("draftQuestion",null),p=Object(m.a)(d,2),f=p[0],b=p[1],j=Object(c.useRouter)(),h=j.query.cid,v=(null===n||void 0===n?void 0:n.status)===i.o.Drafting,x=(null===n||void 0===n?void 0:n.status)===i.o.Helping,O=Object(s.useState)((null===n||void 0===n?void 0:n.questionType)||null),g=O[0],y=O[1],w=Object(s.useState)((null===n||void 0===n?void 0:n.text)||""),C=w[0],_=w[1],q=Object(s.useState)(void 0!==(null===n||void 0===n?void 0:n.groupable)&&(null===n||void 0===n?void 0:n.groupable)),k=q[0],N=q[1];Object(s.useEffect)((function(){n&&!t&&(_(n.text),y(n.questionType))}),[n,t]);return Object(o.jsx)(nt.a,{visible:t,closable:!0,onCancel:function(){b(n),l()},title:v?"Describe your question":"Edit your question",footer:Object(o.jsxs)("div",{children:[v?Object(o.jsx)(Qt,{danger:!0,onClick:r,children:"Leave Queue"}):Object(o.jsx)(Qt,{onClick:l,children:"Cancel"}),Object(o.jsx)(St,{"data-cy":"finishQuestion",type:"primary",disabled:!g||!C||""===C,onClick:function(){g&&C&&""!==C&&a(C,g,k,j,Number(h))},children:v?"Finish":"Save Changes"})]}),children:Object(o.jsxs)(kt,{children:[v&&Object(o.jsx)(gt,{style:{marginBottom:"32px"},message:"You are currently ".concat(Ct(u)," in queue"),description:"Your spot in queue has been temporarily reserved. Please describe your question to finish joining the queue.",type:"success",showIcon:!0}),x&&Object(o.jsx)(gt,{style:{marginBottom:"32px"},message:"A TA is coming to help you",description:"Please click 'Save Changes' to submit what you've filled out",type:"info",showIcon:!0}),Object(o.jsx)(Nt,{children:"What category does your question fall under?"}),Object(o.jsxs)(yt.a.Group,{value:g,onChange:function(e){y(e.target.value);var t=null!==f&&void 0!==f?f:{};b(qt(qt({id:null===n||void 0===n?void 0:n.id},t),{},{questionType:e.target.value}))},buttonStyle:"solid",style:{marginBottom:48},children:[Object(o.jsx)(yt.a.Button,{value:i.q.Concept,children:"Concept"}),Object(o.jsx)(yt.a.Button,{value:i.q.Clarification,children:"Clarification"}),Object(o.jsx)(yt.a.Button,{value:i.q.Testing,children:"Testing"}),Object(o.jsx)(yt.a.Button,{value:i.q.Bug,children:"Bug"}),Object(o.jsx)(yt.a.Button,{value:i.q.Setup,children:"Setup"}),Object(o.jsx)(yt.a.Button,{value:i.q.Other,children:"Other"})]}),Object(o.jsx)(Nt,{children:"What do you need help with?"}),Object(o.jsx)(wt.a.TextArea,{"data-cy":"questionText",value:C,placeholder:"I\u2019m having trouble understanding list abstractions, particularly in Assignment 5.",autoSize:{minRows:3,maxRows:6},onChange:function(e){_(e.target.value);var t=null!==f&&void 0!==f?f:{};b(qt(qt({id:null===n||void 0===n?void 0:n.id},t),{},{text:e.target.value}))}}),Object(o.jsx)(It,{children:"Be as descriptive and specific as possible in your answer. Your name will be hidden to other students, but your question will be visible so don't frame your question in a way that gives away the answer."}),Object(o.jsx)(Nt,{children:"Would you like the option of being helped in a group session?"}),Object(o.jsxs)(yt.a.Group,{value:k,onChange:function(e){N(e.target.value);var t=null!==f&&void 0!==f?f:{};b(qt(qt({id:null===n||void 0===n?void 0:n.id},t),{},{groupable:e.target.value}))},style:{marginBottom:5},children:[Object(o.jsx)(yt.a,{value:!0,children:"Yes"}),Object(o.jsx)(yt.a,{value:!1,children:"No"})]}),Object(o.jsx)(It,{children:"Clicking Yes may result in a shorter wait time if others have the same question as you."})]})})}var Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M819.8 512l102.4-122.9a8.06 8.06 0 00-6.1-13.2h-54.7c-2.4 0-4.6 1.1-6.1 2.9L782 466.7l-73.1-87.8a8.1 8.1 0 00-6.1-2.9H648c-1.9 0-3.7.7-5.1 1.9a7.97 7.97 0 00-1 11.3L744.2 512 641.8 634.9a8.06 8.06 0 006.1 13.2h54.7c2.4 0 4.6-1.1 6.1-2.9l73.1-87.8 73.1 87.8a8.1 8.1 0 006.1 2.9h55c1.9 0 3.7-.7 5.1-1.9 3.4-2.8 3.9-7.9 1-11.3L819.8 512zM536 464H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h416c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-84 204h-60c-3.3 0-6 2.7-6 6v166H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6h292c16.6 0 30-13.4 30-30V674c0-3.3-2.7-6-6-6zM136 184h250v166c0 3.3 2.7 6 6 6h60c3.3 0 6-2.7 6-6V142c0-16.6-13.4-30-30-30H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6z"}}]},name:"delete-row",theme:"outlined"},At=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:Tt}))};At.displayName="DeleteRowOutlined";var Pt=s.forwardRef(At),zt=n("xdJY"),Lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},Dt=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:Lt}))};Dt.displayName="TeamOutlined";var Bt=s.forwardRef(Dt),Rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},Ft=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:Rt}))};Ft.displayName="UndoOutlined";var Mt=s.forwardRef(Ft),Ht=n("Szl1");function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Gt=u.a.div.withConfig({displayName:"Banner__BannerContainer",componentId:"sc-13za7xs-0"})(["width:100%;"]),Vt=u.a.div.withConfig({displayName:"Banner__TitleContainer",componentId:"sc-13za7xs-1"})(["background:",";padding-left:24px;padding-right:16px;min-height:60px;border-radius:6px 6px 0 0;position:relative;box-shadow:0px 2px 8px rgba(0,0,0,0.15);display:flex;align-items:center;justify-content:space-between;"],(function(e){return e.color||"#8895A6"})),Jt=u.a.div.withConfig({displayName:"Banner__Title",componentId:"sc-13za7xs-2"})(["font-weight:300;font-size:24px;color:white;"]),Kt=u.a.div.withConfig({displayName:"Banner__ButtonContainer",componentId:"sc-13za7xs-3"})(["display:flex;flex-flow:row wrap;margin-right:10px;"]),Zt=u.a.div.withConfig({displayName:"Banner__ContentContainer",componentId:"sc-13za7xs-4"})(["background:",";padding:12px 24px;border-radius:0 0 6px 6px;"],(function(e){return e.color||"#CFD6DE"}));function Wt(e){return Object(o.jsxs)(Gt,{"data-cy":"banner",children:[Object(o.jsxs)(Vt,{color:e.titleColor,children:[Object(o.jsx)(Jt,{children:e.title}),Object(o.jsx)(Kt,{children:e.buttons})]}),Object(o.jsx)(Zt,{color:e.contentColor,children:e.content})]})}var Xt=Object(u.a)((function(e){var t=Ut({},e);return Object(o.jsx)(Q.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:"large",shape:"circle"},t))})).withConfig({displayName:"Banner__BannerButton",componentId:"sc-13za7xs-5"})(["margin-left:16px;border:0;background:#fff;"]),$t=Object(u.a)(Xt).withConfig({displayName:"Banner__BannerPrimaryButton",componentId:"sc-13za7xs-6"})(["",";background:#3684c6;color:#fff;&:hover,&:focus{background:#3c93dd;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),en=Object(u.a)(Xt).withConfig({displayName:"Banner__BannerDangerButton",componentId:"sc-13za7xs-7"})(["",";background:#e26567;color:#fff;&:hover,&:focus{background:#fc7f81;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),tn=Object(u.a)(Xt).withConfig({displayName:"Banner__BannerOrangeButton",componentId:"sc-13za7xs-8"})(["",";background:#ff8c00;color:#fff;&:hover,&:focus{background:#ffa700;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),nn=Object(u.a)(Xt).withConfig({displayName:"Banner__FinishHelpingButton",componentId:"sc-13za7xs-9"})(["border:0;background:#66bb6a;color:#fff;&:hover,&:focus{background:#82c985;color:#fff;}"]),on=Object(u.a)(Xt).withConfig({displayName:"Banner__CantFindButton",componentId:"sc-13za7xs-10"})(["background:#fff;border:1px solid #e26567;color:#e26567;&:hover,&:focus{background:#fc7f81;color:#fff;}"]),rn=Object(u.a)(Xt).withConfig({displayName:"Banner__RequeueButton",componentId:"sc-13za7xs-11"})(["background:#ffffff;border:1px solid #f0f0f0;color:#000000;&:hover,&:focus{background:#f0f0f0;color:#000000;}"]),an=u.a.span.withConfig({displayName:"StudentBanner__BoldNumber",componentId:"sc-znqvhq-0"})(["font-weight:bold;"]),cn=u.a.div.withConfig({displayName:"StudentBanner__QuestionDetails",componentId:"sc-znqvhq-1"})(["display:flex;"]),sn=u.a.div.withConfig({displayName:"StudentBanner__InfoHeader",componentId:"sc-znqvhq-2"})(["font-weight:bold;font-size:14px;font-variant:small-caps;"]),un=u.a.ul.withConfig({displayName:"StudentBanner__Bullets",componentId:"sc-znqvhq-3"})(["color:#000;"]),ln=Object(u.a)(M.a).withConfig({displayName:"StudentBanner__ColWithRightMargin",componentId:"sc-znqvhq-4"})(["margin-right:32px;"]),dn=u.a.span.withConfig({displayName:"StudentBanner__PriorityQueuedBanner",componentId:"sc-znqvhq-5"})(["display:flex;flex-direction:column;margin:12px 0;"]);function pn(e){var t=e.queueId,n=e.editQuestion,r=e.leaveQueue,a=te(t),c=a.studentQuestion,s=a.studentQuestionIndex;switch(null===c||void 0===c?void 0:c.status){case"Drafting":return Object(o.jsx)(Wt,{titleColor:"#faad14",contentColor:"#ffd666",title:"Please finish writing your question",content:"Your spot in queue has been temporarily reserved. Please finish describing your question to receive help and finish joining the queue.",buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(I.a,{title:"Delete Draft",children:Object(o.jsx)(Xt,{icon:Object(o.jsx)(Pt,{}),onClick:r})}),Object(o.jsx)(I.a,{title:"Finish Draft",children:Object(o.jsx)(Xt,{"data-cy":"edit-question",icon:Object(o.jsx)(zt.a,{}),onClick:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))})})]})});case"Queued":return Object(o.jsx)(Wt,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Object(o.jsxs)("span",{children:["You are"," ",Object(o.jsx)(an,{children:Ct(s+1)})," in queue"]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(fn,{leaveQueue:r}),Object(o.jsx)(I.a,{title:"Edit Question",children:Object(o.jsx)(Xt,{"data-cy":"edit-question",icon:Object(o.jsx)(zt.a,{}),onClick:n})})]}),content:Object(o.jsx)(bn,{studentQuestion:c})});case"Helping":return Object(o.jsx)(Wt,{titleColor:"#66BB6A",contentColor:"#82C985",title:Object(o.jsxs)("span",{children:[Object(o.jsx)(an,{children:c.taHelped.name})," is coming to help you"]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(fn,{leaveQueue:r}),c.isOnline&&Object(o.jsx)(I.a,{title:"Open Teams DM",children:Object(o.jsx)(Xt,{icon:Object(o.jsx)(Bt,{}),onClick:function(){window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(c.taHelped.email))}})})]}),content:Object(o.jsxs)(un,{children:[Object(o.jsx)("li",{children:"Please be dressed appropriately"}),Object(o.jsx)("li",{children:"Be respectful of the TA\u2019s time"}),Object(o.jsx)("li",{children:"Come prepared with your question!"})]})});case"ReQueueing":return Object(o.jsx)(Wt,{titleColor:"#66BB6A",contentColor:"#82C985",title:Object(o.jsx)("span",{children:"Are you ready to re-join the queue?"}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(fn,{leaveQueue:r}),Object(o.jsx)(I.a,{title:"Rejoin Queue",children:Object(o.jsx)(Q.a,{shape:"circle",style:{marginLeft:"16px",border:0},icon:Object(o.jsx)(Mt,{}),onClick:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.questions.update(c.id,{status:i.o.PriorityQueued});case 2:case"end":return e.stop()}}),e)}))),type:"primary","data-cy":"re-join-queue",size:"large"})})]}),content:Object(o.jsxs)(un,{children:[Object(o.jsx)("li",{children:"Have you finished doing what the TA has told you?"}),Object(o.jsx)("li",{children:"Once you hit requeue, you will be placed at the top of the queue"})]})});case"PriorityQueued":return Object(o.jsx)(Wt,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Object(o.jsxs)(dn,{children:["You are now in a priority queue, you will be helped soon. ",Object(o.jsx)("br",{}),Object(o.jsxs)("span",{style:{fontSize:16},children:["You were last helped by"," ",Object(o.jsx)("span",{style:{fontWeight:"bold"},children:c.taHelped.name}),"."]})]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(fn,{leaveQueue:r}),Object(o.jsx)(I.a,{title:"Edit Question",children:Object(o.jsx)(Xt,{"data-cy":"edit-question",icon:Object(o.jsx)(zt.a,{}),onClick:n})})]}),content:Object(o.jsx)(bn,{studentQuestion:c})});default:return Object(o.jsx)("div",{})}}function fn(e){var t=e.leaveQueue;return Object(o.jsx)(F,{title:"Are you sure you want to leave the queue?",okText:"Yes",cancelText:"No",onConfirm:t,children:Object(o.jsx)(I.a,{title:"Leave Queue",children:Object(o.jsx)(en,{"data-cy":"leave-queue",icon:Object(o.jsx)(Pt,{})})})})}function bn(e){var t=e.studentQuestion;return Object(o.jsxs)(cn,{children:[Object(o.jsxs)(ln,{flex:"4 4",children:[Object(o.jsx)(sn,{children:"question"}),Object(o.jsx)("div",{children:t.text})]}),Object(o.jsxs)(M.a,{flex:"0.5 0.5 95px",children:[Object(o.jsx)(sn,{children:"type"}),Object(o.jsx)("div",{children:t.questionType})]}),Object(o.jsxs)(M.a,{flex:"0 0 89px",children:[Object(o.jsx)(sn,{children:"groupable"}),Object(o.jsx)("div",{children:t.groupable?Object(o.jsx)(Ht.a,{}):Object(o.jsx)(ot.a,{})})]})]})}var jn=n("9RnG"),hn=n.n(jn);function mn(e){return Object(o.jsx)(hn.a,{visible:e.visible,footer:[Object(o.jsx)(Q.a,{danger:!0,onClick:e.leaveQueue,children:"Leave Queue"},"leave"),Object(o.jsx)(Q.a,{type:"primary",onClick:e.rejoinQueue,children:"Rejoin Queue"},"rejoin")],closable:!1,title:"You couldn't be found!",children:"A TA tried to help you, but couldn't reach you. Are you still in the queue? If you are, make sure you have Teams open, and rejoin the queue."})}var vn=n("5oqr"),xn=n("d+ro"),On=(Object(u.a)(x.a).withConfig({displayName:"QueueCardSharedComponents__HorizontalTACard",componentId:"sc-3faov6-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;color:#595959;&:hover{cursor:pointer;}"]),Object(u.a)(vn.a).withConfig({displayName:"QueueCardSharedComponents__Photo",componentId:"sc-3faov6-1"})(["margin-right:16px;@media (max-width:992px){display:none;}"]),u.a.div.withConfig({displayName:"QueueCardSharedComponents__Rank",componentId:"sc-3faov6-2"})(["font-size:14px;line-height:22px;font-weight:500;color:#595959;"]),u.a.div.withConfig({displayName:"QueueCardSharedComponents__Text",componentId:"sc-3faov6-3"})(["font-size:14px;line-height:22px;color:#595959;"])),gn=(Object(u.a)(xn.a).withConfig({displayName:"QueueCardSharedComponents__StatusTag",componentId:"sc-3faov6-4"})(["width:96px;text-align:center;float:right;margin-right:0;border:1px solid;box-sizing:border-box;border-radius:4px;"]),Object(u.a)(O.a).withConfig({displayName:"QueueCardSharedComponents__CenterRow",componentId:"sc-3faov6-5"})(["align-items:center;"]));function yn(e,t){return e.length>t?e.substring(0,t-3)+"...":e}var wn=Object(u.a)(x.a).withConfig({displayName:"StudentQueueCard__HorizontalStudentCard",componentId:"sc-1ct7xlx-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;padding-left:8px;padding-right:8px;color:#595959;"]),Cn={backgroundColor:"#F6FFED"};function _n(e){var t=e.question,n=e.rank,i=e.highlighted;return Object(o.jsx)(wn,{style:i?Cn:{},bordered:!i,children:Object(o.jsxs)(gn,{children:[Object(o.jsx)(M.a,{flex:"0 0 64px",children:Object(o.jsx)(On,{children:n})}),Object(o.jsx)(M.a,{flex:"1 1",children:Object(o.jsx)(On,{children:yn(t.text,150)})}),Object(o.jsx)(M.a,{flex:"0 0 80px",children:Object(o.jsx)(On,{children:Object(xe.c)(t)})})]})})}function qn(e){var t;return Object(o.jsx)(hn.a,{visible:(null===(t=e.question)||void 0===t?void 0:t.status)===i.m.TADeleted,footer:[Object(o.jsx)(Q.a,{danger:!0,onClick:e.leaveQueue,children:"Leave Queue"},"leave"),Object(o.jsx)(Q.a,{type:"primary",onClick:e.joinQueue,children:"Rejoin Queue"},"rejoin")],closable:!1,children:"You've been removed from the queue by a TA. If you have any questions, please reach out to the TA. If you'd like to join back into the queue with your previous question, click Rejoin Queue, otherwise click Leave Queue."})}function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In=u.a.div.withConfig({displayName:"StudentQueue__Container",componentId:"sc-1qu48se-0"})(["flex:1;display:flex;flex-direction:column;margin-top:10px;@media (min-width:650px){margin-top:0;flex-direction:row;height:100%;}"]),Qn=u.a.div.withConfig({displayName:"StudentQueue__QueueListContainer",componentId:"sc-1qu48se-1"})(["flex-grow:1;@media (min-width:650px){margin-top:32px;}"]),Sn=Object(u.a)(Ke).withConfig({displayName:"StudentQueue__JoinButton",componentId:"sc-1qu48se-2"})(["background-color:#3684c6;color:white;"]),En=u.a.div.withConfig({displayName:"StudentQueue__VerticalDivider",componentId:"sc-1qu48se-3"})(["@media (min-width:650px){border-right:1px solid #cfd6de;margin:0 16px;}@media (min-width:1000px){margin:0 32px;}"]),Tn=Object(u.a)(x.a).withConfig({displayName:"StudentQueue__StudentHeaderCard",componentId:"sc-1qu48se-4"})(["height:64px;padding-left:8px;padding-right:8px;background:inherit;"]),An=u.a.div.withConfig({displayName:"StudentQueue__HeaderText",componentId:"sc-1qu48se-5"})(["font-size:14px;font-weight:500;line-height:22px;color:#8895a6;font-variant:small-caps;"]),Pn=Object(u.a)(O.a).withConfig({displayName:"StudentQueue__CenterRow",componentId:"sc-1qu48se-6"})(["align-items:center;"]);function zn(e){var t=e.qid,n=e.cid,r=$(t).queue,a=Z(t),u=a.questions,l=a.mutateQuestions,d=te(t),f=d.studentQuestion,b=d.studentQuestionIndex,x=Object(U.a)("isFirstQuestion",!0),O=Object(m.a)(x,2),y=O[0],w=O[1],C=Object(s.useState)(!1),_=C[0],q=C[1],k=function(){var e=Object(U.a)("draftQuestion",null),t=Object(m.a)(e,3),n=t[0],o=t[1],i=t[2];return{draftQuestion:n,setDraftQuestion:o,deleteDraftQuestion:function(){return i()}}}().deleteDraftQuestion,N=Object(s.useState)(u&&f&&(null===f||void 0===f?void 0:f.status)!==i.o.Queued),I=N[0],Q=N[1],S=Object(s.useState)(!1),E=S[0],T=S[1],A=Object(c.useRouter)(),P=Boolean(A.query.edit_question);Object(s.useEffect)((function(){P&&f&&(Object(H.b)("/api/v1/queues/".concat(t,"/questions")),T(!0),A.push("/course/".concat(n,"/queue/").concat(t)))}),[P,t,f]);var z=null===f||void 0===f?void 0:f.id,L=null===f||void 0===f?void 0:f.status,D=Object(s.useCallback)(Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.questions.update(z,{status:i.b.ConfirmedDeleted});case 2:return Q(!1),e.next=5,l();case 5:case"end":return e.stop()}}),e)}))),[l,z]),B=Object(s.useCallback)(Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.questions.update(z,{status:i.o.PriorityQueued});case 2:return e.next=4,l();case 4:case"end":return e.stop()}}),e)}))),[l,z]),R=Object(s.useCallback)(function(){var e=Object(h.a)(j.a.mark((function e(t,n,o){var r,a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={text:t,questionType:n,groupable:o,status:L===i.o.Drafting?i.o.Queued:L},e.next=3,v.a.questions.update(z,a);case 3:c=e.sent,s=null===u||void 0===u||null===(r=u.queue)||void 0===r?void 0:r.map((function(e){return e.id===z?c:e})),l(Nn(Nn({},u),{},{yourQuestion:c,queue:s}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),[L,z,u,l]),M=Object(s.useCallback)(Object(h.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.questions.update(null===f||void 0===f?void 0:f.id,{status:i.b.ConfirmedDeleted});case 2:return e.next=4,l();case 4:return e.next=6,v.a.questions.create({text:f.text,questionType:null===f||void 0===f?void 0:f.questionType,queueId:t,isOnline:null===f||void 0===f?void 0:f.isOnline,location:null===f||void 0===f?void 0:f.location,force:!0,groupable:!1});case 6:return n=e.sent,e.next=9,v.a.questions.update(n.id,{status:i.o.Queued});case 9:return e.next=11,l();case 11:case"end":return e.stop()}}),e)}))),[l,t,f]),Y=Object(s.useCallback)(Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(H.b)("/api/v1/queues/".concat(t,"/questions")),T(!0);case 2:case"end":return e.stop()}}),e)}))),[t]),G=Object(s.useCallback)((function(){T(!1),Q(!1)}),[]),V=Object(s.useCallback)((function(){k(),D(),G()}),[k,D,G]),J=Object(s.useCallback)(function(){var e=Object(h.a)(j.a.mark((function e(n){var o,r,a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.questions.create({queueId:Number(t),text:"",force:n,questionType:null,groupable:!1});case 3:return o=e.sent,r=[].concat(Object(p.a)(null===u||void 0===u?void 0:u.queue),[o]),e.next=7,l(Nn(Nn({},u),{},{queue:r}));case 7:return T(!0),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(0),null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c||null===(s=c.message)||void 0===s||!s.includes(i.f.questionController.createQuestion.oneQuestionAtATime)){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[l,t,u]),K=Object(s.useCallback)((function(e,t,n,o,i){k(),R(e,t,n),G(),y&&g.a.warn({style:{cursor:"pointer"},message:"Enable Notifications",className:"hide-in-percy",description:"Turn on notifications for when it's almost your turn to get help.",placement:"bottomRight",duration:0,onClick:function(){g.a.destroy(),w(!1),o.push("/settings?cid=".concat(i))}})}),[k,R,G,y,w]);return r&&u?r.isOpen?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(In,{children:[Object(o.jsx)(mn,{visible:(null===f||void 0===f?void 0:f.status)===i.m.CantFind,leaveQueue:D,rejoinQueue:B}),Object(o.jsx)(qn,{question:f,leaveQueue:D,joinQueue:M}),Object(o.jsx)(et,{queueId:t,buttons:!f&&Object(o.jsx)(F,{title:"In order to join this queue, you must delete your previous question. Do you want to continue?",onConfirm:function(){return J(!0)},okText:"Yes",cancelText:"No",disabled:!0,visible:_,onVisibleChange:q,children:Object(o.jsx)(Sn,{type:"primary",disabled:!(null!==r&&void 0!==r&&r.allowQuestions),"data-cy":"join-queue-button",onClick:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,J(!1);case 3:return e.t1=!e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),children:"Join Queue"})})}),Object(o.jsx)(En,{}),Object(o.jsxs)(Qn,{children:[f&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(pn,{queueId:t,editQuestion:Y,leaveQueue:D}),Object(o.jsx)("div",{style:{marginTop:"40px"}})]}),Object(o.jsx)(Bn,{questions:null===u||void 0===u?void 0:u.queue,studentQuestion:f})]})]}),Object(o.jsx)(Et,{visible:u&&!f&&I||E,question:f,leaveQueue:V,finishQuestion:K,position:b+1,cancel:G})]}):Object(o.jsx)("h1",{style:{marginTop:"50px"},children:"The Queue is Closed!"}):Object(o.jsx)("div",{})}var Ln=u.a.h2.withConfig({displayName:"StudentQueue__QueueHeader",componentId:"sc-1qu48se-7"})(["font-weight:500;font-size:24px;color:#212934;margin-bottom:0;"]),Dn=u.a.div.withConfig({displayName:"StudentQueue__NoQuestionsText",componentId:"sc-1qu48se-8"})(["font-weight:500;font-size:24px;color:#212934;"]);function Bn(e){var t=e.questions,n=e.studentQuestion;return Object(o.jsxs)("div",{"data-cy":"queueQuestions",children:[0===(null===t||void 0===t?void 0:t.length)?Object(o.jsx)(Dn,{children:"There are no questions in the queue"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ln,{children:"Queue"}),Object(o.jsx)(Tn,{bordered:!1,children:Object(o.jsxs)(Pn,{children:[Object(o.jsx)(M.a,{flex:"0 0 64px",children:Object(o.jsx)(An,{children:"#"})}),Object(o.jsx)(M.a,{flex:"1 1",children:Object(o.jsx)(An,{children:"question"})}),Object(o.jsx)(M.a,{flex:"0 0 80px",children:Object(o.jsx)(An,{children:"wait"})})]})})]}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(o.jsx)(_n,{rank:t+1,question:e,highlighted:n===e},e.id)}))]})}var Rn=n("dppZ"),Fn=n("nXdl");function Mn(e){var t,n,o=Object(ee.a)(),i=$(e).queue,r=Z(e).questions,a=null===r||void 0===r||null===(t=r.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){var t;return(null===(t=e.taHelped)||void 0===t?void 0:t.id)===(null===o||void 0===o?void 0:o.id)})),c=null===r||void 0===r||null===(n=r.groups)||void 0===n?void 0:n.find((function(e){return e.creator.id===o.id}));return{helpingQuestions:a,helpingGroup:c,isHelping:(null===a||void 0===a?void 0:a.length)>0||!!c,isCheckedIn:null===i||void 0===i?void 0:i.staffList.some((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}))}}var Hn=n("Sccn"),Un=n("UL5a"),Yn=n("wb8e"),Gn=n("nsO7");function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn=Object(u.a)(wt.a.TextArea).withConfig({displayName:"EditQueueModal__NotesInput",componentId:"sc-c8x0cn-0"})(["border-radius:6px;border:1px solid #b8c4ce;"]);function Zn(e){var t=e.queueId,n=e.visible,i=e.onClose,r=$(t),a=r.queue,c=r.mutateQueue,s=Un.a.useForm(),u=Object(m.a)(s,1)[0],l=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn(Jn({},a),t),c(n,!1),e.next=4,v.a.queues.update(n.id,Object(Gn.pick)(n,["notes","allowQuestions"]));case 4:c();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(hn.a,{title:"Edit Queue Details",visible:n,onCancel:i,onOk:Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.validateFields();case 2:return t=e.sent,e.next=5,l(t);case 5:i();case 6:case"end":return e.stop()}}),e)}))),children:a&&Object(o.jsxs)(Un.a,{form:u,initialValues:a,children:[Object(o.jsx)(Un.a.Item,{label:"Queue Notes",name:"notes",children:Object(o.jsx)(Kn,{allowClear:!0,placeholder:""})}),Object(o.jsx)(Un.a.Item,{label:"Allow New Questions",name:"allowQuestions",valuePropName:"checked",children:Object(o.jsx)(Yn.a,{"data-cy":"allow-questions-toggle"})})]})})}var Wn=n("LxhF"),Xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},$n=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:Xn}))};$n.displayName="ArrowLeftOutlined";var eo=s.forwardRef($n),to=n("7hYp"),no=n("xq5O"),oo=n("jvFD"),io=n.n(oo),ro=n("KQ9C"),ao=n("Alrg"),co=n("jqOo"),so={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},uo=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:so}))};uo.displayName="QuestionOutlined";var lo=s.forwardRef(uo),po=n("ibId"),fo=u.a.div.withConfig({displayName:"TAQueueListItem__Container",componentId:"sc-1nf4mks-0"})(["display:flex;align-items:center;width:100%;padding-top:16px;padding-bottom:12px;border-bottom:1px solid #cfd6de;background:",";cursor:pointer;&:hover{background:",";}"],(function(e){return e.selected?"#EFF8FF":"white"}),(function(e){return e.selected?"#EFF8FF":"#ECF0F3"})),bo=Object(u.a)(po.a).withConfig({displayName:"TAQueueListItem__StyledCheckbox",componentId:"sc-1nf4mks-1"})(["margin-left:8px;"]),jo=u.a.div.withConfig({displayName:"TAQueueListItem__BodyContainer",componentId:"sc-1nf4mks-2"})(["display:flex;align-items:flex-start;"]),ho=u.a.div.withConfig({displayName:"TAQueueListItem__AvatarContainer",componentId:"sc-1nf4mks-3"})(["margin:10px 12px 0 25px;display:block;"]),mo=u.a.div.withConfig({displayName:"TAQueueListItem__QuestionInfoContainer",componentId:"sc-1nf4mks-4"})([""]),vo=u.a.div.withConfig({displayName:"TAQueueListItem__Name",componentId:"sc-1nf4mks-5"})(["color:#212934;"]),xo=u.a.div.withConfig({displayName:"TAQueueListItem__QuestionText",componentId:"sc-1nf4mks-6"})(["padding-right:8px;color:#595959;"]);function Oo(e){var t=e.index,n=e.selected,r=e.question,a=e.onClick,c=e.showCheckbox,s=r.status===i.o.Drafting,u=[[Object(o.jsx)(co.a,{},"h"),Object(xe.c)(r)]];return s||u.push([Object(o.jsx)(lo,{},"q"),r.questionType]),Object(o.jsxs)(fo,{selected:n,"data-cy":"queue-list-item-".concat(r.id),onClick:a,children:[c&&Object(o.jsx)(bo,{checked:n}),Object(o.jsxs)(jo,{children:[Object(o.jsx)(ho,{children:Object(o.jsx)(Te,{count:t?"#".concat(t):0,style:{backgroundColor:"#3684c6"},offset:[-40,0],children:Object(o.jsx)(Ae.a,{size:40,name:r.creator.name,photoURL:r.creator.photoURL})})}),Object(o.jsxs)(mo,{children:[Object(o.jsx)(vo,{children:r.creator.name}),Object(o.jsx)(xo,{children:s?Object(o.jsx)("i",{children:"Still Drafting..."}):yn(r.text,80)}),Object(o.jsx)(Co,{info:u})]})]})]})}var go=u.a.div.withConfig({displayName:"TAQueueListItem__RowContainer",componentId:"sc-1nf4mks-7"})(["margin-top:8px;display:flex;align-items:center;color:#8895a6;"]),yo=u.a.div.withConfig({displayName:"TAQueueListItem__Divider",componentId:"sc-1nf4mks-8"})(["margin-left:12px;margin-right:8px;"]),wo=u.a.div.withConfig({displayName:"TAQueueListItem__Spacer",componentId:"sc-1nf4mks-9"})(["margin-left:5px;"]);function Co(e){var t=e.info;return Object(o.jsx)(go,{children:t.map((function(e,t){var n=Object(m.a)(e,2),i=n[0],r=n[1];return[t>0&&Object(o.jsx)(yo,{children:"|"},r),i,Object(o.jsx)(wo,{},r+"space"),r]})).flat().filter((function(e){return!!e}))})}var _o=Object(u.a)(fo).withConfig({displayName:"EmptyGroupList__EmptyGroupListContainer",componentId:"sc-uf0t1p-0"})(["display:flex;justify-content:space-between;align-items:center;"]),qo=u.a.div.withConfig({displayName:"EmptyGroupList__EmptyGroupListText",componentId:"sc-uf0t1p-1"})(["font-weight:bold;padding:15px;padding-left:35px;font-size:16px;"]);function ko(e){var t=e.onClick;return Object(o.jsxs)(_o,{onClick:t,selected:!1,"data-cy":"queue-list-item-question-group",children:[Object(o.jsx)(qo,{children:"Add Students"}),Object(o.jsx)(ao.a,{style:{paddingRight:"16px"}})]})}var No={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},Io=function(e,t){return s.createElement(ae.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t,icon:No}))};Io.displayName="PhoneOutlined";var Qo=s.forwardRef(Io);function So(){var e=Object(ee.a)();return e.includeDefaultMessage&&e.defaultMessage||""}var Eo=n("UmCv"),To=n("DuHN"),Ao="This student has been temporarily removed from the queue. They must select to rejoin the queue and will then be placed in the Priority Queue.";function Po(e){var t=e.courseId,n=e.queueId,r=e.question,a=e.hasUnresolvedRephraseAlert,c=So(),u=Z(n).mutateQuestions,l=Object(s.useCallback)(function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.questions.update(r.id,{status:t});case 2:u();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r.id,u]),d=Mn(n),p=d.isCheckedIn,f=d.isHelping,b=function(){var e=Object(h.a)(j.a.mark((function e(){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={queueId:n,questionId:r.id,courseId:t},e.prev=1,e.next=4,v.a.alerts.create({alertType:i.a.REPHRASE_QUESTION,courseId:t,payload:o,targetUserId:r.creator.id});case 4:return e.next=6,u();case 6:To.b.success("Successfully asked student to rephrase their question."),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();if(r.status===i.o.Helping)return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(F,{title:"Are you sure you want to send this student back to the queue?",okText:"Yes",cancelText:"No",onConfirm:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To.b.success(Ao,2),e.next=3,l(i.m.ReQueueing);case 3:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(I.a,{title:"Requeue Student",children:Object(o.jsx)(rn,{icon:Object(o.jsx)(Mt,{}),"data-cy":"requeue-student-button"})})}),Object(o.jsx)(F,{title:"Are you sure you can't find this student?",okText:"Yes",cancelText:"No",onConfirm:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To.b.success(Ao,2),e.next=3,l(i.m.CantFind);case 3:return e.next=5,v.a.questions.notify(r.id);case 5:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(I.a,{title:"Can't Find",children:Object(o.jsx)(on,{shape:"circle",icon:Object(o.jsx)(ot.a,{}),"data-cy":"cant-find-button"})})}),Object(o.jsx)(I.a,{title:"Finish Helping",children:Object(o.jsx)(nn,{icon:Object(o.jsx)(Ht.a,{}),onClick:function(){return l(i.b.Resolved)},"data-cy":"finish-helping-button"})})]});var x=p?f?[!1,"You are already helping a student"]:[!0,"Help Student"]:[!1,"You must check in to help students!"],O=Object(m.a)(x,2),g=O[0],y=O[1],w=p?a?[!1,"The student has already been asked to rephrase their question"]:[!0,"Ask the student to add more detail to their question"]:[!1,"You must check in to ask this student to rephrase their question"],C=Object(m.a)(w,2),_=C[0],q=C[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(F,{title:"Are you sure you want to delete this question from the queue?",disabled:!p,okText:"Yes",cancelText:"No",onConfirm:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(r.status===i.o.Drafting?i.b.DeletedDraft:i.m.TADeleted);case 2:return e.next=4,v.a.questions.notify(r.id);case 4:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(I.a,{title:p?"Remove From Queue":"You must check in to remove students from the queue",children:Object(o.jsx)("span",{children:Object(o.jsx)(en,{shape:"circle",icon:Object(o.jsx)(Eo.a,{}),"data-cy":"remove-from-queue",disabled:!p})})})}),Object(o.jsx)(I.a,{title:q,children:Object(o.jsx)("span",{children:Object(o.jsx)(tn,{shape:"circle",icon:Object(o.jsx)(lo,{}),onClick:b,"data-cy":"request-rephrase-question",disabled:!_})})}),Object(o.jsx)(I.a,{title:y,children:Object(o.jsx)("span",{children:Object(o.jsx)($t,{icon:Object(o.jsx)(Qo,{}),onClick:function(){return l(i.o.Helping),void(r.isOnline&&window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(r.creator.email,"&message=").concat(c)))},disabled:!g,"data-cy":"help-student"})})})]})}var zo=u.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionCardBox",componentId:"sc-6bb15h-0"})(["display:flex;justify-content:space-between;align-items:center;margin:12px;padding:16px;background:#ecf0f3;"]),Lo=u.a.div.withConfig({displayName:"TAQueueDetailQuestion__StillDrafting",componentId:"sc-6bb15h-1"})(["margin:12px 30px;text-align:center;font-size:16px;"]),Do=u.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionHeader",componentId:"sc-6bb15h-2"})(["font-size:18px;color:#595959;margin-bottom:20px;"]),Bo=Object(u.a)(Do).withConfig({displayName:"TAQueueDetailQuestion__QuestionAsker",componentId:"sc-6bb15h-3"})(["font-weight:600;margin-bottom:10px;"]),Ro=u.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionDetails",componentId:"sc-6bb15h-4"})(["font-size:14px;color:#595959;margin-bottom:20px;"]),Fo=u.a.span.withConfig({displayName:"TAQueueDetailQuestion__QuestionTypePill",componentId:"sc-6bb15h-5"})(["color:#264359;background:#abd4f3;padding:3px 8px;border-radius:4px;"]);function Mo(e){var t=e.question,n=e.queueId,r=e.courseId,a=e.showName,c=e.showButtons,s=e.hasUnresolvedRephraseAlert;return t.status===i.o.Drafting?Object(o.jsxs)(Lo,{children:[t.creator.name," is drafting their question..."]}):Object(o.jsxs)(zo,{children:[Object(o.jsx)("div",{children:t.text||t.questionType?Object(o.jsxs)(o.Fragment,{children:[a?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Bo,{children:t.creator.name}),Object(o.jsx)(Ro,{children:t.text})]}):Object(o.jsx)(Do,{children:t.text}),Object(o.jsx)(Fo,{children:t.questionType})]}):Object(o.jsx)("p",{children:"No question details"})}),Object(o.jsx)("div",{children:c&&Object(o.jsx)(Po,{courseId:r,queueId:n,question:t,hasUnresolvedRephraseAlert:s})})]})}var Ho=u.a.div.withConfig({displayName:"TAQueueDetail__Container",componentId:"sc-kj4kru-0"})([""]),Uo=u.a.div.withConfig({displayName:"TAQueueDetail__Header",componentId:"sc-kj4kru-1"})(["display:flex;justify-content:space-between;align-items:center;height:60px;padding:0 12px;background:#e1e7ec;"]),Yo=u.a.div.withConfig({displayName:"TAQueueDetail__Email",componentId:"sc-kj4kru-2"})(["font-size:12px;color:#8895a6;"]);function Go(e){var t=e.courseId,n=e.queueId,i=e.question,r=e.hasUnresolvedRephraseAlert;return Object(o.jsxs)(Ho,{children:[Object(o.jsxs)(Uo,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:i.creator.name}),Object(o.jsx)(Yo,{children:i.creator.email})]}),Object(o.jsx)("div",{children:Object(o.jsx)(Po,{courseId:t,queueId:n,question:i,hasUnresolvedRephraseAlert:r})})]}),Object(o.jsx)(Mo,{courseId:t,question:i,queueId:n,hasUnresolvedRephraseAlert:r})]})}var Vo=u.a.div.withConfig({displayName:"AllQuestionsChecklist__Description",componentId:"sc-1m6wlb4-0"})(["font-size:12px;color:#8895a6;"]),Jo=u.a.div.withConfig({displayName:"AllQuestionsChecklist__SelectAllContainer",componentId:"sc-1m6wlb4-1"})(["padding:3px 8px;border-bottom:1px solid #cfd6de;"]),Ko=u.a.div.withConfig({displayName:"AllQuestionsChecklist__QuestionsList",componentId:"sc-1m6wlb4-2"})(["display:flex;flex-direction:column;"]),Zo=u.a.span.withConfig({displayName:"AllQuestionsChecklist__RedText",componentId:"sc-1m6wlb4-3"})(["color:red;"]);function Wo(e){var t=e.groupCreator,n=e.allQuestions,i=e.hasMissingQuestions,r=e.queueId,a=e.onStartCall,c=Object(s.useState)(new Set),u=c[0],l=c[1],d=Mn(r),p=d.isCheckedIn,f=d.isHelping,b=p?f?[!1,"You are already helping a student"]:[!0,"Create Group & Call"]:[!1,"You must check in to help students!"],j=Object(m.a)(b,2),h=j[0],x=j[1],O=So(),g=n.filter((function(e){return u.has(e.id)})).map((function(e){return e.creator.email})).join(",");return Object(o.jsxs)("div",{children:[Object(o.jsxs)(Uo,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:"".concat(t.name,"'s Group Session")}),Object(o.jsxs)(Vo,{children:["Select Students to Create Group",i?Object(o.jsxs)("div",{children:[Object(o.jsx)(Zo,{children:"Note:"})," some students may not show up, as they did not consent to being grouped"]}):null]})]}),Object(o.jsx)("div",{children:Object(o.jsx)(I.a,{title:x,children:Object(o.jsx)("span",{children:Object(o.jsx)($t,{icon:Object(o.jsx)(Qo,{}),onClick:function(){v.a.questions.group({questionIds:Array.from(u),queueId:r}),a(),window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(g,"&message=").concat(O))},disabled:!h||0===u.size,"data-cy":"help-student"})})})})]}),Object(o.jsx)(Jo,{children:Object(o.jsx)(po.a,{checked:n.length===u.size,indeterminate:u.size&&u.size!==n.length,onChange:function(e){e.target.checked?l(new Set(n.map((function(e){return e.id})))):l(new Set)},children:Object(o.jsx)("span",{style:{paddingLeft:"9px"},children:"Select All"})})}),Object(o.jsx)(Ko,{children:n.map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)(Oo,{question:e,index:t+1,selected:u.has(e.id),onClick:function(){return function(e){u.has(e.id)?(u.delete(e.id),l(new Set(u))):l(new Set(u.add(e.id)))}(e)},showCheckbox:!0})},e.id)}))})]})}function Xo(e){var t=e.group,n=e.queueId,i=e.courseId;return Object(o.jsxs)("div",{children:[Object(o.jsxs)(Uo,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:"".concat(null===t||void 0===t?void 0:t.creator.name,"'s Group Session")}),Object(o.jsx)(Vo,{children:null===t||void 0===t?void 0:t.questions.map((function(e){return e.creator.name})).join(", ")})]}),Object(o.jsx)("div",{children:Object(o.jsx)(I.a,{title:"Finish Helping",children:Object(o.jsx)(nn,{icon:Object(o.jsx)(Ht.a,{}),onClick:function(){return v.a.questions.resolveGroup(null===t||void 0===t?void 0:t.id,n)},"data-cy":"finish-helping-button"})})})]}),null===t||void 0===t?void 0:t.questions.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsx)(Mo,{courseId:i,question:e,queueId:n,showName:!0,showButtons:!0,hasUnresolvedRephraseAlert:!1})},e.id)}))]})}function $o(e){var t=e.groupCreator,n=e.queueId,i=e.courseId,r=Z(n),a=r.questions,c=r.mutateQuestions,s=[].concat(Object(p.a)(a.queue),Object(p.a)(a.priorityQueue)),u=null===a||void 0===a?void 0:a.groups.find((function(e){return e.creator.id===t.id})),l=u?u.questions:[],d=s.filter((function(e){return e.groupable}));return l.length?Object(o.jsx)(Xo,{courseId:i,group:u,queueId:n}):Object(o.jsx)(Wo,{allQuestions:d,hasMissingQuestions:d.length!=s.length,groupCreator:t,queueId:n,onStartCall:function(){c()}})}var ei=n("ERsz"),ti=u.a.div.withConfig({displayName:"TAQueueListSection__OverrideCollapse",componentId:"sc-104de8n-0"})(["& .ant-collapse-header{padding-left:0 !important;padding-right:0 !important;border-bottom:1px solid #cfd6de;}& .ant-collapse-item-disabled > .ant-collapse-header{cursor:initial !important;}& .ant-collapse-content-box{padding:0 !important;}"]),ni=u.a.div.withConfig({displayName:"TAQueueListSection__Title",componentId:"sc-104de8n-1"})(["font-size:16px;color:#212934;margin-left:40px;"]);function oi(e){var t=e.title,n=e.questions,i=e.onClickQuestion,r=e.selectedQuestionId,a=e.showNumbers,c=void 0!==a&&a,s=e.collapsible,u=void 0!==s&&s,l=e.emptyDisplay,d=void 0===l?null:l;return 0!==n.length||d?Object(o.jsx)(ti,{children:Object(o.jsx)(ei.a,{defaultActiveKey:[1],ghost:!0,expandIconPosition:"right",children:Object(o.jsx)(ei.a.Panel,{style:{padding:0},header:Object(o.jsxs)(ni,{children:[t,Object(o.jsx)("span",{children:" (".concat(n.length,")")})]}),showArrow:u,disabled:!u,children:0===n.length?d:Object(o.jsx)("div",{children:n.map((function(e,t){return Object(o.jsx)(Oo,{question:e,index:c&&t+1,selected:r===e.id,onClick:function(){return i(e.id)}},e.id)}))})},1)})}):null}var ii=900,ri=u.a.div.withConfig({displayName:"TAQueueListDetail__Container",componentId:"sc-1mkewun-0"})(["flex:1;background:white;border:1px solid #cfd6de;margin-bottom:30px;@media (min-width:","px){border:none;border-left:1px solid #cfd6de;margin-bottom:0px;display:flex;flex-direction:row;min-height:calc( 100vh - 46px - 67px );// - (height of footer) - (height of navbar)}"],ii),ai=u.a.div.withConfig({displayName:"TAQueueListDetail__List",componentId:"sc-1mkewun-1"})(["@media (min-width:","px){width:320px;overflow-y:scroll;}"],ii),ci=Object(u.a)(Wn.a).withConfig({displayName:"TAQueueListDetail__PriorityQueueQuestionBubble",componentId:"sc-1mkewun-2"})(["margin-right:8px;"]),si=u.a.div.withConfig({displayName:"TAQueueListDetail__Detail",componentId:"sc-1mkewun-3"})(["border-left:1px solid #cfd6de;border-right:1px solid #cfd6de;flex:1;@media (min-width:","px){overflow-y:scroll;}"],ii),ui=u.a.div.withConfig({displayName:"TAQueueListDetail__BackToQueue",componentId:"sc-1mkewun-4"})(["height:40px;display:flex;align-items:center;padding-left:12px;color:#1890ff;cursor:pointer;"]);function li(e){var t,n,i=e.queueId,r=e.courseId,a=Object(ee.a)(),c=Object(s.useState)(null),u=c[0],l=c[1],d=Z(i).questions,f=Object(s.useState)(!1),b=f[0],j=f[1],h=Object(to.a)()>=ii,m=function(e){l(e),j(!1)},v=null===d||void 0===d||null===(t=d.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){return e.taHelped.id===a.id})),x=null===d||void 0===d?void 0:d.groups.find((function(e){return e.creator.id===a.id})),O=x?x.questions:[],g=d?[].concat(Object(p.a)(v),Object(p.a)(d.queue),Object(p.a)(d.priorityQueue),Object(p.a)(d.groups.flatMap((function(e){return e.questions})))):[],y=g.find((function(e){return e.id===u})),w=null===d||void 0===d||null===(n=d.unresolvedAlerts)||void 0===n?void 0:n.map((function(e){return e.questionId})).includes(u);if(u&&!y&&m(null),!u&&v.length&&m(v[0].id),!d)return Object(o.jsx)(no.a,{});if(0===g.length)return Object(o.jsxs)(di,{children:[Object(o.jsx)(pi,{children:"There are no questions in the queue"}),!a.phoneNotifsEnabled&&!a.desktopNotifsEnabled&&Object(o.jsx)(bi,{courseId:r})]});var C=Object(o.jsxs)(ai,{children:[Object(o.jsx)("div",{"data-cy":"list-helping",children:Object(o.jsx)(oi,{title:"Currently Helping",questions:v,onClickQuestion:m,selectedQuestionId:u})}),Object(o.jsx)("div",{"data-cy":"list-group",children:Object(o.jsx)(oi,{title:"Group Students",questions:O,onClickQuestion:function(){j(!0),l(null)},collapsible:!0,emptyDisplay:Object(o.jsx)(ko,{onClick:function(){j(!0),l(null)}})})}),Object(o.jsx)("div",{"data-cy":"list-priority",children:Object(o.jsx)(oi,{title:Object(o.jsxs)("span",{children:[Object(o.jsx)(I.a,{title:"Students in the priority queue were at the top of the queue before for some reason (e.g. they were at the top but AFK, or a TA helped them previously, and then hit 'requeue student.' You should communicate with your fellow staff members to prioritize these students first.",children:Object(o.jsx)(ci,{})}),"Priority Queue"]}),questions:d.priorityQueue,onClickQuestion:m,selectedQuestionId:u,collapsible:!0})}),Object(o.jsx)("div",{"data-cy":"list-queue",children:Object(o.jsx)(oi,{title:"Waiting In Line",questions:d.queue,onClickQuestion:m,selectedQuestionId:u,collapsible:!0,showNumbers:!0})})]}),_=Object(o.jsxs)(si,{children:[y&&Object(o.jsx)(Go,{courseId:r,queueId:i,question:y,hasUnresolvedRephraseAlert:w}),b&&Object(o.jsx)($o,{courseId:r,queueId:i,groupCreator:a})]});return h?Object(o.jsxs)(ri,{children:[C,_]}):u?Object(o.jsxs)(ri,{children:[Object(o.jsx)(ui,{onClick:function(){return m(null)},children:Object(o.jsxs)("span",{children:[Object(o.jsx)(eo,{})," Back To Queue"]})}),_]}):Object(o.jsx)(ri,{children:C})}var di=u.a.div.withConfig({displayName:"TAQueueListDetail__EmptyQueueInfo",componentId:"sc-1mkewun-5"})(["flex:1;display:flex;flex-direction:column;align-items:center;margin-top:30px;"]),pi=u.a.div.withConfig({displayName:"TAQueueListDetail__NoQuestionsText",componentId:"sc-1mkewun-6"})(["font-weight:500;font-size:24px;color:#212934;"]),fi=Object(u.a)(Q.a).withConfig({displayName:"TAQueueListDetail__NotifRemindButton",componentId:"sc-1mkewun-7"})(["margin-top:16px;border-radius:6px;background:#fff;"]);function bi(e){var t=e.courseId;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(io.a,{href:{pathname:"/settings",query:{cid:t,defaultPage:ro.a.NOTIFICATIONS}},children:Object(o.jsx)(fi,{children:"Sign Up for Notifications"})})})}function ji(e){return hi.apply(this,arguments)}function hi(){return(hi=Object(h.a)(j.a.mark((function e(t){var n,o,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.questions.update(t,{status:i.o.Helping});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),401===(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(null===(o=e.t0.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)===i.f.questionController.updateQuestion.otherTAHelping&&g.a.open({message:"Another TA is currently helping the student",description:"This happens when another TA clicks help at the exact same time",type:"error",duration:3,className:"hide-in-percy",style:{width:450}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var mi=u.a.div.withConfig({displayName:"TAQueue__Container",componentId:"sc-173p98z-0"})(["flex:1;display:flex;flex-direction:column;@media (min-width:650px){flex-direction:row;}"]),vi=Object(u.a)(Ke).withConfig({displayName:"TAQueue__HelpNextButton",componentId:"sc-173p98z-1"})(["color:white;background:#2a9187;&:hover,&:focus{color:white;background:#39aca1;}"]),xi=Object(u.a)(Ke).withConfig({displayName:"TAQueue__EditQueueButton",componentId:"sc-173p98z-2"})(["color:#212934;"]),Oi=u.a.div.withConfig({displayName:"TAQueue__MiddleSpacer",componentId:"sc-173p98z-3"})(["margin-left:20px;"]);function gi(e){var t,n=e.qid,r=e.courseId,a=Object(ee.a)(),c=Object(Fn.a)(r),u=$(n).queue,l=Z(n),d=l.questions,p=l.mutateQuestions,f=Mn(n),b=f.isCheckedIn,m=f.isHelping,v=Object(s.useState)(!1),x=v[0],O=v[1],g=Object(Rn.a)(r).course,y=null===g||void 0===g?void 0:g.queues.some((function(e){return e.id!==n&&e.staffList.some((function(e){return e.id===(null===a||void 0===a?void 0:a.id)}))})),w=(null===d||void 0===d?void 0:d.priorityQueue[0])||(null===d||void 0===d||null===(t=d.queue)||void 0===t?void 0:t.find((function(e){return e.status===i.p.Queued}))),C=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(w.id);case 2:p(),t=a.includeDefaultMessage?a.defaultMessage:"",window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(w.creator.email,"&message=").concat(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(mi,{children:[Object(o.jsx)(et,{queueId:n,buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(xi,{"data-cy":"editQueue",onClick:function(){return O(!0)},children:"Edit Queue Details"}),Object(o.jsx)(I.a,{title:!b&&"You must check in to help students!",children:Object(o.jsx)(vi,{onClick:C,disabled:!b||!w||m,"data-cy":"help-next",children:"Help Next"})}),Object(o.jsx)("div",{style:{marginBottom:"12px"},children:Object(o.jsx)(Hn.b,{courseId:r,room:null===u||void 0===u?void 0:u.room,disabled:y||m||u.isProfessorQueue&&c!==i.r.PROFESSOR,state:b?"CheckedIn":"CheckedOut",block:!0})})]})}),Object(o.jsx)(Oi,{}),a&&d&&Object(o.jsx)(li,{queueId:n,courseId:r})]}),Object(o.jsx)(Zn,{queueId:n,visible:x,onClose:function(){return O(!1)}})]}):Object(o.jsx)("div",{})}var yi=u.a.div.withConfig({displayName:"qid__Container",componentId:"sc-xy2cp0-0"})(["flex:1;display:flex;flex-direction:column;"]);function wi(){var e=Object(c.useRouter)().query,t=e.cid,n=e.qid,r=Object(Fn.a)(Number(t)),s=$(Number(n)).queue;return Object(o.jsx)(l.a,{children:Object(o.jsxs)(yi,{children:[Object(o.jsx)(a.a,{children:Object(o.jsxs)("title",{children:[null===s||void 0===s?void 0:s.room," Queue | Khoury Office Hours"]})}),Object(o.jsx)(d.a,{courseId:Number(t)}),i.r.STUDENT===r?Object(o.jsx)(zn,{qid:Number(n),cid:Number(t)}):Object(o.jsx)(gi,{qid:Number(n),courseId:Number(t)})]})})}},w5NM:function(e,t){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=n(1))&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configuration=null!=n?Object.assign({},n):null,this._eventSource=null,this._lastEventId=null,this._timer=null,this._listeners={},this.url=t,this.readyState=0,this.max_retry_time=3e3,null!=this._configuration&&(this._configuration.lastEventId&&(this._lastEventId=this._configuration.lastEventId,delete this._configuration.lastEventId),this._configuration.max_retry_time&&(this.max_retry_time=this._configuration.max_retry_time,delete this._configuration.max_retry_time)),this._onevent_wrapped=function(e){o._onevent(e)},this._start()}return o(e,[{key:"_start",value:function(){var e=this,t=this.url;this._lastEventId&&(-1===t.indexOf("?")?t+="?":t+="&",t+="lastEventId="+encodeURIComponent(this._lastEventId)),this._eventSource=new EventSource(t,this._configuration),this._eventSource.onopen=function(t){e._onopen(t)},this._eventSource.onerror=function(t){e._onerror(t)},this._eventSource.onmessage=function(t){e.onmessage(t)};var n=!0,o=!1,i=void 0;try{for(var r,a=Object.keys(this._listeners)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var c=r.value;this._eventSource.addEventListener(c,this._onevent_wrapped)}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}}},{key:"_onopen",value:function(e){0===this.readyState&&(this.readyState=1,this.onopen(e))}},{key:"_onerror",value:function(e){var t=this;if(1===this.readyState&&(this.readyState=0,this.onerror(e)),this._eventSource&&2===this._eventSource.readyState){this._eventSource.close(),this._eventSource=null;var n=Math.round(this.max_retry_time*Math.random());this._timer=setTimeout((function(){return t._start()}),n)}}},{key:"_onevent",value:function(e){e.lastEventId&&(this._lastEventId=e.lastEventId);var t=this._listeners[e.type];if(null!=t)for(var n=[].concat(i(t)),o=0;o<n.length;o++)(0,n[o])(e);"message"===e.type&&this.onmessage(e)}},{key:"onopen",value:function(e){}},{key:"onerror",value:function(e){}},{key:"onmessage",value:function(e){}},{key:"close",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._eventSource&&(this._eventSource.close(),this._eventSource=null),this.readyState=2}},{key:"addEventListener",value:function(e,t){var n=e.toString();n in this._listeners||(this._listeners[n]=[],this._eventSource&&this._eventSource.addEventListener(n,this._onevent_wrapped));var o=this._listeners[n];o.includes(t)||(this._listeners[n]=[].concat(i(o),[t]))}},{key:"removeEventListener",value:function(e,t){var n=e.toString();if(n in this._listeners){var o=this._listeners[n].filter((function(e){return e!==t}));o.length>0?this._listeners[n]=o:(delete this._listeners[n],this._eventSource&&this._eventSource.removeEventListener(n,this._onevent_wrapped))}}}]),e}();t.default=r}])},xdJY:function(e,t,n){"use strict";var o=n("Czhu"),i=n("ERkP"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},a=n("vspj"),c=function(e,t){return i.createElement(a.a,Object(o.a)(Object(o.a)({},e),{},{ref:t,icon:r}))};c.displayName="EditOutlined";t.a=i.forwardRef(c)}},[["D+6G",1,2,14,18,0,3,4,6,5,7,8,9,10,13,11,12,16,15,17,19,23,20,25]]]);