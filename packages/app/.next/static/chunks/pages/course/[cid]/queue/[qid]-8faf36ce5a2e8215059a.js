_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"D+6G":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[cid]/queue/[qid]",function(){return n("k4G0")}])},k4G0:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return tr}));var o=n("jg1C"),i=n("wPNs"),r=n("vpUC"),a=n.n(r),c=n("Bkb1"),s=n.n(c),u=n("ERkP"),l=n("j/s1"),d=n("NabS"),p=n("s9Vj"),f=n("d7jh"),b=n("LHL8"),h=n("IebI"),j=n.n(h),m=n("O+IG"),v=n("mstN"),x=n("zTld"),O=n("jMRu"),y=n("S7b9"),g=n("Mob5"),w=n("cxan"),C=n("zygG"),_=n("O94r"),q=n.n(_),k=n("MSM+"),N=n("+Gah"),I=n("tmJt"),Q=n("9xBf"),S=n("SCaQ"),E=n("BVSD"),T=n("spb8"),A=n("bu23"),P=n("tb/6"),D=n("jj3b"),L=n("oFrK"),z=n("3O2j"),B=void 0,R=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},F=u.forwardRef((function(e,t){var n=Object(k.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),o=Object(C.a)(n,2),i=o[0],r=o[1],a=function(t,n){var o;r(t),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t,n)},c=function(t){var n;a(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(B,t)},s=function(t){var n;a(!1,t),null===(n=e.onCancel)||void 0===n||n.call(B,t)},l=u.useContext(P.b).getPrefixCls,d=e.prefixCls,p=e.placement,f=e.children,b=e.overlayClassName,h=R(e,["prefixCls","placement","children","overlayClassName"]),j=l("popover",d),m=l("popconfirm",d),v=q()(m,b),x=u.createElement(T.a,{componentName:"Popconfirm",defaultLocale:A.a.Popconfirm},(function(t){return function(t,n){var o=e.okButtonProps,i=e.cancelButtonProps,r=e.title,a=e.cancelText,l=e.okText,d=e.okType,p=e.icon;return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},p,u.createElement("div",{className:"".concat(t,"-message-title")},Object(D.a)(r))),u.createElement("div",{className:"".concat(t,"-buttons")},u.createElement(S.a,Object(w.a)({onClick:s,size:"small"},i),a||n.cancelText),u.createElement(S.a,Object(w.a)({onClick:c},Object(E.a)(d),{size:"small"},o),l||n.okText)))}(j,t)})),O=l();return u.createElement(Q.a,Object(w.a)({},h,{prefixCls:j,placement:p,onVisibleChange:function(t){e.disabled||a(t)},visible:i,overlay:x,overlayClassName:v,ref:t,transitionName:Object(z.b)(O,"zoom-big",e.transitionName)}),Object(L.a)(f,{onKeyDown:function(e){var t,n;u.isValidElement(f)&&(null===(n=null===f||void 0===f?void 0:(t=f.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===I.a.ESC&&i&&a(!1,e)}(e)}}))}));F.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:u.createElement(N.a,null),disabled:!1};var M=F,H=n("VKn7"),U=n("JbCn"),K=n("Xccw");var Y=n("lPv2"),G=n("w5NM"),V=n.n(G),J={},W=function(e,t,n){var o=Object(u.useState)(!1),i=o[0],r=o[1];return Object(u.useEffect)((function(){if(e){var o;e in J?o=J[e]:(o={eventSource:new V.a(e),listeners:{},isLiveSetters:new Set},J[e]=o,o.eventSource.onmessage=function(e){var t=Object.values(o.listeners),n=JSON.parse(e.data);t.forEach((function(e){return e.listener(n)}))},o.eventSource.onopen=function(){return o.isLiveSetters.forEach((function(e){return e(!0)}))},o.eventSource.onerror=function(){return o.isLiveSetters.forEach((function(e){return e(!1)}))}),r(o.eventSource.readyState===EventSource.OPEN),o.isLiveSetters.add(r);var i=o.listeners[t];return o.listeners[t]?i.count++:(i={listener:n,count:1},o.listeners[t]=i),function(){i.count--,o.isLiveSetters.delete(r),0===i.count&&(delete o.listeners[t],0===Object.values(o.listeners).length&&(o.eventSource.close(),delete J[e]))}}}),[e,n,t]),i};function X(e){var t=e&&"/api/v1/queues/".concat(e,"/questions"),n=W(e&&"/api/v1/queues/".concat(e,"/sse"),"question",Object(u.useCallback)((function(e){e.questions&&Object(U.b)(t,Object(Y.plainToClass)(i.n,e.questions),!1)}),[t])),o=Object(U.a)(t,Object(m.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x.a.questions.index(Number(e)));case 1:case"end":return t.stop()}}),t)}))),{refreshInterval:n?0:1e4});return{questions:o.data,questionsError:o.error,mutateQuestions:o.mutate}}var Z={};function $(e){var t=Z[e];t.onUpdates.forEach((function(e){return e(t.lastUpdated)}))}function ee(e,t){var n=e&&"/api/v1/queues/".concat(e);n in Z||(Z[n]={lastUpdated:null,onUpdates:new Set}),Object(u.useEffect)((function(){if(t){var e=Z[n];return e.onUpdates.add(t),t(e.lastUpdated),function(){e.onUpdates.delete(t)}}}),[t,n]);var o=W(e&&"/api/v1/queues/".concat(e,"/sse"),"queue",Object(u.useCallback)((function(e){e.queue&&(Object(U.b)(n,Object(Y.plainToClass)(i.k,e.queue),!1),Z[n].lastUpdated=new Date,$(n))}),[n])),r=Object(U.a)(n,Object(u.useCallback)(Object(m.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x.a.queues.get(Number(e)));case 1:case"end":return t.stop()}}),t)}))),[e]),{refreshInterval:o?0:1e4,onSuccess:function(e,t){Z[t].lastUpdated=new Date,$(t)}});return{queue:r.data,queueError:r.error,mutateQueue:r.mutate,isLive:o}}var te=n("Ogf2");function ne(e){var t=Object(te.a)(),n=X(e),o=n.questions,i=n.questionsError,r=t&&o&&(null===o||void 0===o?void 0:o.yourQuestion),a=r&&o.queue.findIndex((function(e){return r.id===e.id}));return{studentQuestion:r,studentQuestionIndex:a,studentQuestionError:i}}var oe=n("+Hko"),ie=n("PJfV"),re=n("UWkG"),ae=n("Czhu"),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"},se=n("vspj"),ue=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:ce}))};ue.displayName="CloudSyncOutlined";var le=u.forwardRef(ue),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},pe=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:de}))};pe.displayName="FrownOutlined";var fe=u.forwardRef(pe),be=n("/zI6"),he=n("DuHN"),je=n("d+ro"),me=n("uZk3"),ve=n.n(me),xe=n("wgY5"),Oe=n.n(xe);function ye(e){var t=e.render,n=e.interval,i=Object(u.useState)({})[1],r=Object(u.useCallback)((function(){return i({})}),[]);return Object(u.useEffect)((function(){var e=setInterval((function(){r()}),n);return function(){clearInterval(e)}}),[r,n]),Object(o.jsx)(o.Fragment,{children:t()})}var ge=n("zjfJ"),we=n("4wDe"),Ce=n("B5SY");function _e(e){var t,n=e.prefixCls,o=e.value,i=e.current,r=e.offset,a=void 0===r?0:r;return a&&(t={position:"absolute",top:"".concat(a,"00%"),left:0}),u.createElement("span",{style:t,className:q()("".concat(n,"-only-unit"),{current:i})},o)}function qe(e,t,n){for(var o=e,i=0;(o+10)%10!==t;)o+=n,i+=n;return i}function ke(e){var t,n,o=e.prefixCls,i=e.count,r=e.value,a=Number(r),c=Math.abs(i),s=u.useState(a),l=Object(C.a)(s,2),d=l[0],p=l[1],f=u.useState(c),b=Object(C.a)(f,2),h=b[0],j=b[1],m=function(){p(a),j(c)};if(u.useEffect((function(){var e=setTimeout((function(){m()}),1e3);return function(){clearTimeout(e)}}),[a]),d===a||Number.isNaN(a)||Number.isNaN(d))t=[u.createElement(_e,Object(w.a)({},e,{key:a,current:!0}))],n={transition:"none"};else{t=[];for(var v=a+10,x=[],O=a;O<=v;O+=1)x.push(O);var y=x.findIndex((function(e){return e%10===d}));t=x.map((function(t,n){var o=t%10;return u.createElement(_e,Object(w.a)({},e,{key:t,value:o,offset:n-y,current:n===y}))})),n={transform:"translateY(".concat(-qe(d,a,h<c?1:-1),"00%)")}}return u.createElement("span",{className:"".concat(o,"-only"),style:n,onTransitionEnd:m},t)}var Ne=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Ie=function(e){var t=e.prefixCls,n=e.count,o=e.className,i=e.motionClassName,r=e.style,a=e.title,c=e.show,s=e.component,l=void 0===s?"sup":s,d=e.children,p=Ne(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),f=(0,u.useContext(P.b).getPrefixCls)("scroll-number",t),b=Object(w.a)(Object(w.a)({},p),{"data-show":c,style:r,className:q()(f,o,i),title:a}),h=n;if(n&&Number(n)%1===0){var j=String(n).split("");h=j.map((function(e,t){return u.createElement(ke,{prefixCls:f,count:Number(n),value:e,key:j.length-t})}))}return r&&r.borderColor&&(b.style=Object(w.a)(Object(w.a)({},r),{boxShadow:"0 0 0 1px ".concat(r.borderColor," inset")})),d?Object(L.a)(d,(function(e){return{className:q()("".concat(f,"-custom-component"),null===e||void 0===e?void 0:e.className,i)}})):u.createElement(l,b,h)},Qe=n("VhZz");function Se(e){return-1!==Qe.a.indexOf(e)}var Ee=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Te=function(e){var t,n,o=e.prefixCls,i=e.scrollNumberPrefixCls,r=e.children,a=e.status,c=e.text,s=e.color,l=e.count,d=void 0===l?null:l,p=e.overflowCount,f=void 0===p?99:p,b=e.dot,h=void 0!==b&&b,j=e.size,m=void 0===j?"default":j,v=e.title,x=e.offset,O=e.style,y=e.className,g=e.showZero,C=void 0!==g&&g,_=Ee(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),k=u.useContext(P.b),N=k.getPrefixCls,I=k.direction,Q=N("badge",o),S=d>f?"".concat(f,"+"):d,E=null!==a&&void 0!==a||null!==s&&void 0!==s,T="0"===S||0===S,A=h&&!T,D=A?"":S,z=Object(u.useMemo)((function(){return(null===D||void 0===D||""===D||T&&!C)&&!A}),[D,T,C,A]),B=Object(u.useRef)(d);z||(B.current=d);var R=B.current,F=Object(u.useRef)(D);z||(F.current=D);var M=F.current,H=Object(u.useRef)(A);z||(H.current=A);var U=Object(u.useMemo)((function(){if(!x)return Object(w.a)({},O);var e={marginTop:x[1]};return"rtl"===I?e.left=parseInt(x[0],10):e.right=-parseInt(x[0],10),Object(w.a)(Object(w.a)({},e),O)}),[I,x,O]),K=null!==v&&void 0!==v?v:"string"===typeof R||"number"===typeof R?R:void 0,Y=z||!c?null:u.createElement("span",{className:"".concat(Q,"-status-text")},c),G=R&&"object"===Object(we.a)(R)?Object(L.a)(R,(function(e){return{style:Object(w.a)(Object(w.a)({},U),e.style)}})):void 0,V=q()((t={},Object(ge.a)(t,"".concat(Q,"-status-dot"),E),Object(ge.a)(t,"".concat(Q,"-status-").concat(a),!!a),Object(ge.a)(t,"".concat(Q,"-status-").concat(s),Se(s)),t)),J={};s&&!Se(s)&&(J.background=s);var W=q()(Q,(n={},Object(ge.a)(n,"".concat(Q,"-status"),E),Object(ge.a)(n,"".concat(Q,"-not-a-wrapper"),!r),Object(ge.a)(n,"".concat(Q,"-rtl"),"rtl"===I),n),y);if(!r&&E){var X=U.color;return u.createElement("span",Object(w.a)({},_,{className:W,style:U}),u.createElement("span",{className:V,style:J}),u.createElement("span",{style:{color:X},className:"".concat(Q,"-status-text")},c))}return u.createElement("span",Object(w.a)({},_,{className:W}),r,u.createElement(Ce.default,{visible:!z,motionName:"".concat(Q,"-zoom"),motionAppear:!1},(function(e){var t,n=e.className,o=N("scroll-number",i),r=H.current,c=q()((t={},Object(ge.a)(t,"".concat(Q,"-dot"),r),Object(ge.a)(t,"".concat(Q,"-count"),!r),Object(ge.a)(t,"".concat(Q,"-count-sm"),"small"===m),Object(ge.a)(t,"".concat(Q,"-multiple-words"),!r&&M&&M.toString().length>1),Object(ge.a)(t,"".concat(Q,"-status-").concat(a),!!a),Object(ge.a)(t,"".concat(Q,"-status-").concat(s),Se(s)),t)),l=Object(w.a)({},U);return s&&!Se(s)&&((l=l||{}).background=s),u.createElement(Ie,{prefixCls:o,show:!z,motionClassName:n,className:c,count:M,title:K,style:l,key:"scrollNumber"},G)})),Y)};Te.Ribbon=function(e){var t,n=e.className,o=e.prefixCls,i=e.style,r=e.color,a=e.children,c=e.text,s=e.placement,l=void 0===s?"end":s,d=u.useContext(P.b),p=d.getPrefixCls,f=d.direction,b=p("ribbon",o),h=Se(r),j=q()(b,"".concat(b,"-placement-").concat(l),(t={},Object(ge.a)(t,"".concat(b,"-rtl"),"rtl"===f),Object(ge.a)(t,"".concat(b,"-color-").concat(r),h),t),n),m={},v={};return r&&!h&&(m.background=r,v.color=r),u.createElement("div",{className:"".concat(b,"-wrapper")},a,u.createElement("div",{className:j,style:Object(w.a)(Object(w.a)({},m),i)},u.createElement("span",{className:"".concat(b,"-text")},c),u.createElement("div",{className:"".concat(b,"-corner"),style:v})))};var Ae=Te,Pe=n("jPdq"),De=n("FRUG");function Le(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Be(e){var t=e.queueId,n=X(t).questions,i=ee(t).queue.staffList;if(!n)return null;var r,a={},c=i.map((function(e){return e.id})),s=n.questionsGettingHelp,u=n.groups,l=Le(s);try{for(l.s();!(r=l.n()).done;){var d,p=r.value;c.includes(null===(d=p.taHelped)||void 0===d?void 0:d.id)&&(a[p.taHelped.id]=p)}}catch(f){l.e(f)}finally{l.f()}return Object(o.jsx)(H.a,{style:{marginBottom:"16px"},children:i.map((function(e){var t,n,i;return Object(o.jsx)(H.a,{children:Object(o.jsx)(Ue,{taName:e.name,taPhotoURL:e.photoURL,studentName:null===(t=a[e.id])||void 0===t||null===(n=t.creator)||void 0===n?void 0:n.name,helpedAt:null===(i=a[e.id])||void 0===i?void 0:i.helpedAt,grouped:u.some((function(t){return t.creator.id===e.id}))})},e.id)}))})}var Re=l.a.div.withConfig({displayName:"TAStatuses__StyledCard",componentId:"sc-1buidjq-0"})(["background:#ffffff;box-shadow:0px 2px 8px rgba(0,0,0,0.15);border-radius:6px;padding:16px;display:flex;margin-bottom:16px;"]),Fe=l.a.div.withConfig({displayName:"TAStatuses__CardContent",componentId:"sc-1buidjq-1"})(["margin-left:16px;flex-grow:1;"]),Me=l.a.div.withConfig({displayName:"TAStatuses__TAName",componentId:"sc-1buidjq-2"})(["font-weight:bold;color:#212934;"]),He=l.a.div.withConfig({displayName:"TAStatuses__HelpingInfo",componentId:"sc-1buidjq-3"})(["margin-top:5px;font-style:italic;"]);function Ue(e){var t=e.taName,n=e.taPhotoURL,i=e.studentName,r=e.helpedAt,a=e.grouped,c=!!r;return Object(o.jsxs)(Re,{"data-cy":"ta-status-card",children:[Object(o.jsx)(De.a,{size:48,name:t,photoURL:n,style:{flexShrink:0}}),Object(o.jsxs)(Fe,{children:[Object(o.jsxs)(y.a,{justify:"space-between",children:[Object(o.jsx)(Me,{children:t}),Object(o.jsxs)("span",{children:[Object(o.jsx)(Ae,{status:c?"processing":"success"}),c?"Busy":"Available"]})]}),Object(o.jsx)(He,{children:a?"Helping a group":c?Object(o.jsx)(Ye,{studentName:i,helpedAt:r}):"Looking for my next student..."})]})]})}var Ke=l.a.span.withConfig({displayName:"TAStatuses__BlueSpan",componentId:"sc-1buidjq-4"})(["color:#66a3d6;"]);function Ye(e){var t=e.studentName,n=e.helpedAt;return Object(o.jsx)(ye,{render:function(){return Object(o.jsxs)("span",{children:["Helping ",Object(o.jsx)(Ke,{children:null!==t&&void 0!==t?t:"a student"})," for"," ",Object(o.jsx)(Ke,{children:Object(Pe.a)((Date.now()-n.getTime())/6e4)})]})},interval:6e4})}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}l.a.div.withConfig({displayName:"QueueListSharedComponents__Container",componentId:"sc-1abq9vy-0"})(["display:flex;flex-direction:row;align-items:center;"]);var Ve=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueTitle",componentId:"sc-1abq9vy-1"})(["font-weight:500;font-size:24px;color:#212934;"]),Je=(l.a.div.withConfig({displayName:"QueueListSharedComponents__NotesText",componentId:"sc-1abq9vy-2"})(["font-size:16px;color:#5f6b79;"]),l.a.div.withConfig({displayName:"QueueListSharedComponents__InfoColumnContainer",componentId:"sc-1abq9vy-3"})(["flex-shrink:0;padding-bottom:30px;position:relative;display:flex;flex-direction:column;@media (min-width:650px){margin-top:32px;width:290px;}"])),We=Object(l.a)(S.a).withConfig({displayName:"QueueListSharedComponents__QueueInfoColumnButtonStyle",componentId:"sc-1abq9vy-4"})(["font-weight:500;font-size:14px;border:1px solid #cfd6de;border-radius:6px;margin-bottom:12px;"]),Xe=be.a.confirm,Ze=function(e){return Object(o.jsx)(We,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:"large",block:!0},e))},$e=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyRow",componentId:"sc-1abq9vy-5"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:20px;color:#5f6b79;font-size:20px;"]),et=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyText",componentId:"sc-1abq9vy-6"})(["margin-left:12px;font-size:16px;min-width:0;overflow-wrap:break-word;white-space:pre-wrap;"]),tt=l.a.h2.withConfig({displayName:"QueueListSharedComponents__StaffH2",componentId:"sc-1abq9vy-7"})(["margin-top:32px;"]),nt=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueRoomGroup",componentId:"sc-1abq9vy-8"})(["display:flex;flex-direction:row;align-items:center;"]),ot=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueInfo",componentId:"sc-1abq9vy-9"})(["margin-bottom:24px;"]),it=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueText",componentId:"sc-1abq9vy-10"})(["max-height:200px;overflow-y:auto;width:100%;"]),rt=Object(l.a)(Ze).withConfig({displayName:"QueueListSharedComponents__DisableQueueButton",componentId:"sc-1abq9vy-11"})(["color:white;background:#da3236;&:hover,&:focus{color:#da3236;background:#fff;border-color:#da3236;}"]),at=Object(l.a)(Ze).withConfig({displayName:"QueueListSharedComponents__ClearQueueButton",componentId:"sc-1abq9vy-12"})(["color:#d4380d;background:#fff;border-color:#d4380d;&:hover,&:focus{background:#fff;color:#da3236;border-color:#da3236;}"]),ct=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueManagementBox",componentId:"sc-1abq9vy-13"})(["display:flex;flex-direction:column;justify-content:flex-end;color:white;width:100%;height:100%;bottom:0;"]);function st(e){var t=e.queueId,n=e.isStaff,i=e.buttons,r=ee(t),a=r.queue,c=r.mutateQueue,u=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.queues.disable(t);case 2:return e.next=4,c();case 4:return he.b.success("Successfully disabled queue: "+a.room),e.next=7,s.a.push("/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.queues.clean(t);case 2:return e.next=4,c();case 4:he.b.success("Successfully cleaned queue: "+a.room);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(Je,{children:[Object(o.jsxs)(ot,{children:[Object(o.jsxs)(nt,{children:[Object(o.jsxs)(Ve,{"data-cy":"room-title",children:[null===a||void 0===a?void 0:a.room," ",(null===a||void 0===a?void 0:a.isDisabled)&&Object(o.jsx)("b",{children:"(disabled)"})]}),!a.allowQuestions&&Object(o.jsx)(Q.a,{title:"This queue is no longer accepting questions",children:Object(o.jsx)(ie.a,{"data-cy":"stopQuestions",style:{color:"red",fontSize:"24px",marginLeft:"8px"}})})]}),(null===a||void 0===a?void 0:a.isProfessorQueue)&&Object(o.jsx)($e,{children:Object(o.jsx)(je.a,{color:"blue",children:"Professor Queue"})})]}),(null===a||void 0===a?void 0:a.notes)&&Object(o.jsxs)($e,{children:[Object(o.jsx)(re.a,{}),Object(o.jsx)(it,{children:Object(o.jsx)(ve.a,{componentDecorator:function(e,t,n){return Object(o.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e,children:t},n)},children:Object(o.jsx)(et,{children:a.notes})})})]}),Object(o.jsx)(ut,{queueId:t}),i,Object(o.jsx)(tt,{children:"Staff"}),Object(o.jsx)(Be,{queueId:t}),n&&Object(o.jsxs)(ct,{children:[Object(o.jsx)(M,{title:"Are you sure you want to clear all students from the queue?",okText:"Yes",cancelText:"No",placement:"top",arrowPointAtCenter:!0,onConfirm:l,children:Object(o.jsx)(at,{children:"Clear Queue"})}),Object(o.jsx)(rt,{onClick:function(){Xe({title:"Please Confirm!",icon:Object(o.jsx)(oe.a,{}),style:{whiteSpace:"pre-wrap"},content:"Please confirm that you want to disable the queue: ".concat(a.room,".\n\n      This queue will no longer appear in the app, and any students currently in the queue will be removed."),onOk:function(){u()}})},"data-cy":"queue-disable-button",disabled:null===a||void 0===a?void 0:a.isDisabled,children:null!==a&&void 0!==a&&a.isDisabled?"Queue deleted":"Delete Queue"})]})]})}function ut(e){var t=e.queueId,n=Object(u.useState)(null),i=n[0],r=ee(t,n[1]).isLive;return Object(o.jsxs)($e,{className:"hide-in-percy",children:[r||i?Object(o.jsx)(le,{}):Object(o.jsx)(fe,{}),Object(o.jsx)(et,{className:"hide-in-percy",children:r?"Queue up to date":i?Object(o.jsx)(ye,{render:function(){var e=(Date.now()-i.getTime())/1e3;return"Queue updated ".concat(e<60?Math.ceil(e)+"s":Oe()(i).fromNow(!0)," ago")},interval:1e3}):"Queue may be out of date"})]})}var lt=n("Sp6C"),dt=n("5ouU"),pt=n("TyQ8"),ft=n("r8k/"),bt=n("CZO1"),ht=n("dRg2"),jt=n("+RZ0"),mt=n("D28v"),vt=n("9fIP"),xt=n("MMYH"),Ot=n("8K1b"),yt=n("AqVP"),gt=function(e){Object(Ot.a)(n,e);var t=Object(yt.a)(n);function n(){var e;return Object(vt.a)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return Object(xt.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,o=e.children,i=this.state,r=i.error,a=i.info,c=a&&a.componentStack?a.componentStack:null,s="undefined"===typeof t?(r||"").toString():t,l="undefined"===typeof n?c:n;return r?u.createElement(kt,{type:"error",message:s,description:u.createElement("pre",null,l)}):o}}]),n}(u.Component),wt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Ct={success:bt.a,info:ht.a,error:jt.a,warning:N.a},_t={success:dt.a,info:pt.a,error:ft.a,warning:oe.a},qt=function(e){var t,n=e.description,o=e.prefixCls,i=e.message,r=e.banner,a=e.className,c=void 0===a?"":a,s=e.style,l=e.onMouseEnter,d=e.onMouseLeave,p=e.onClick,f=e.afterClose,b=e.showIcon,h=e.closable,j=e.closeText,m=e.action,v=wt(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),x=u.useState(!1),O=Object(C.a)(x,2),y=O[0],g=O[1],_=u.useRef(),k=u.useContext(P.b),N=k.getPrefixCls,I=k.direction,Q=N("alert",o),S=function(e){var t;g(!0),null===(t=v.onClose)||void 0===t||t.call(v,e)},E=!!j||h,T=function(){var e=v.type;return void 0!==e?e:r?"warning":"info"}(),A=!(!r||void 0!==b)||b,D=q()(Q,"".concat(Q,"-").concat(T),(t={},Object(ge.a)(t,"".concat(Q,"-with-description"),!!n),Object(ge.a)(t,"".concat(Q,"-no-icon"),!A),Object(ge.a)(t,"".concat(Q,"-banner"),!!r),Object(ge.a)(t,"".concat(Q,"-rtl"),"rtl"===I),t),c),z=Object(mt.a)(v);return u.createElement(Ce.default,{visible:!y,motionName:"".concat(Q,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:f},(function(e){var t=e.className,o=e.style;return u.createElement("div",Object(w.a)({ref:_,"data-show":!y,className:q()(D,t),style:Object(w.a)(Object(w.a)({},s),o),onMouseEnter:l,onMouseLeave:d,onClick:p,role:"alert"},z),A?function(){var e=v.icon,t=(n?_t:Ct)[T]||null;return e?Object(L.c)(e,u.createElement("span",{className:"".concat(Q,"-icon")},e),(function(){return{className:q()("".concat(Q,"-icon"),Object(ge.a)({},e.props.className,e.props.className))}})):u.createElement(t,{className:"".concat(Q,"-icon")})}():null,u.createElement("div",{className:"".concat(Q,"-content")},u.createElement("div",{className:"".concat(Q,"-message")},i),u.createElement("div",{className:"".concat(Q,"-description")},n)),m?u.createElement("div",{className:"".concat(Q,"-action")},m):null,E?u.createElement("button",{type:"button",onClick:S,className:"".concat(Q,"-close-icon"),tabIndex:0},j?u.createElement("span",{className:"".concat(Q,"-close-text")},j):u.createElement(lt.a,null)):null)}))};qt.ErrorBoundary=gt;var kt=qt,Nt=n("NwOV"),It=n("BmDy");function Qt(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}var St="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function Et(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function Tt(e,t){for(var n=t.slice(0,t.length-1),o=0;o<n.length;o++)n[o]=e[n[o].toLowerCase()];return n}function At(e){"string"!==typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var Pt={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":St?173:189,"=":St?61:187,";":St?59:186,"'":222,"[":219,"]":221,"\\":220},Dt={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Lt={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},zt={16:!1,18:!1,17:!1,91:!1},Bt={},Rt=1;Rt<20;Rt++)Pt["f".concat(Rt)]=111+Rt;var Ft=[],Mt="all",Ht=[],Ut=function(e){return Pt[e.toLowerCase()]||Dt[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function Kt(e){Mt=e||"all"}function Yt(){return Mt||"all"}var Gt=function(e){var t=e.key,n=e.scope,o=e.method,i=e.splitKey,r=void 0===i?"+":i;At(t).forEach((function(e){var t=e.split(r),i=t.length,a=t[i-1],c="*"===a?"*":Ut(a);if(Bt[c]){n||(n=Yt());var s=i>1?Tt(Dt,t):[];Bt[c]=Bt[c].map((function(e){return(!o||e.method===o)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,o=e.length>=t.length?t:e,i=!0,r=0;r<n.length;r++)-1===o.indexOf(n[r])&&(i=!1);return i}(e.mods,s)?{}:e}))}}))};function Vt(e,t,n){var o;if(t.scope===n||"all"===t.scope){for(var i in o=t.mods.length>0,zt)Object.prototype.hasOwnProperty.call(zt,i)&&(!zt[i]&&t.mods.indexOf(+i)>-1||zt[i]&&-1===t.mods.indexOf(+i))&&(o=!1);(0!==t.mods.length||zt[16]||zt[18]||zt[17]||zt[91])&&!o&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function Jt(e){var t=Bt["*"],n=e.keyCode||e.which||e.charCode;if(Wt.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===Ft.indexOf(n)&&229!==n&&Ft.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=Lt[t];e[t]&&-1===Ft.indexOf(n)?Ft.push(n):!e[t]&&Ft.indexOf(n)>-1?Ft.splice(Ft.indexOf(n),1):"metaKey"===t&&e[t]&&3===Ft.length&&(e.ctrlKey||e.shiftKey||e.altKey||(Ft=Ft.slice(Ft.indexOf(n))))})),n in zt){for(var o in zt[n]=!0,Dt)Dt[o]===n&&(Wt[o]=!0);if(!t)return}for(var i in zt)Object.prototype.hasOwnProperty.call(zt,i)&&(zt[i]=e[Lt[i]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===Ft.indexOf(17)&&Ft.push(17),-1===Ft.indexOf(18)&&Ft.push(18),zt[17]=!0,zt[18]=!0);var r=Yt();if(t)for(var a=0;a<t.length;a++)t[a].scope===r&&("keydown"===e.type&&t[a].keydown||"keyup"===e.type&&t[a].keyup)&&Vt(e,t[a],r);if(n in Bt)for(var c=0;c<Bt[n].length;c++)if(("keydown"===e.type&&Bt[n][c].keydown||"keyup"===e.type&&Bt[n][c].keyup)&&Bt[n][c].key){for(var s=Bt[n][c],u=s.splitKey,l=s.key.split(u),d=[],p=0;p<l.length;p++)d.push(Ut(l[p]));d.sort().join("")===Ft.sort().join("")&&Vt(e,s,r)}}}function Wt(e,t,n){Ft=[];var o=At(e),i=[],r="all",a=document,c=0,s=!1,u=!0,l="+";for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(r=t.scope),t.element&&(a=t.element),t.keyup&&(s=t.keyup),void 0!==t.keydown&&(u=t.keydown),"string"===typeof t.splitKey&&(l=t.splitKey)),"string"===typeof t&&(r=t);c<o.length;c++)i=[],(e=o[c].split(l)).length>1&&(i=Tt(Dt,e)),(e="*"===(e=e[e.length-1])?"*":Ut(e))in Bt||(Bt[e]=[]),Bt[e].push({keyup:s,keydown:u,scope:r,mods:i,shortcut:o[c],method:n,key:o[c],splitKey:l});"undefined"!==typeof a&&!function(e){return Ht.indexOf(e)>-1}(a)&&window&&(Ht.push(a),Et(a,"keydown",(function(e){Jt(e)})),Et(window,"focus",(function(){Ft=[]})),Et(a,"keyup",(function(e){Jt(e),function(e){var t=e.keyCode||e.which||e.charCode,n=Ft.indexOf(t);if(n>=0&&Ft.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&Ft.splice(0,Ft.length),93!==t&&224!==t||(t=91),t in zt)for(var o in zt[t]=!1,Dt)Dt[o]===t&&(Wt[o]=!1)}(e)})))}var Xt={setScope:Kt,getScope:Yt,deleteScope:function(e,t){var n,o;for(var i in e||(e=Yt()),Bt)if(Object.prototype.hasOwnProperty.call(Bt,i))for(n=Bt[i],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++;Yt()===e&&Kt(t||"all")},getPressedKeyCodes:function(){return Ft.slice(0)},isPressed:function(e){return"string"===typeof e&&(e=Ut(e)),-1!==Ft.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,o=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(o=!1),o},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&Gt(e)}));else if("object"===typeof e)e.key&&Gt(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=n[0],r=n[1];"function"===typeof i&&(r=i,i=""),Gt({key:e,scope:i,method:r,splitKey:"+"})}}else Object.keys(Bt).forEach((function(e){return delete Bt[e]}))}};for(var Zt in Xt)Object.prototype.hasOwnProperty.call(Xt,Zt)&&(Wt[Zt]=Xt[Zt]);if("undefined"!==typeof window){var $t=window.hotkeys;Wt.noConflict=function(e){return e&&window.hotkeys===Wt&&(window.hotkeys=$t),Wt},window.hotkeys=Wt}var en=Wt;en.filter=function(){return!0};var tn=function(e,t){var n=e.target,o=n&&n.tagName;return Boolean(o&&t&&t.includes(o))};function nn(e,t,n,o){n instanceof Array&&(o=n,n=void 0);var i=n||{},r=i.enableOnTags,a=i.filter,c=i.keyup,s=i.keydown,l=i.filterPreventDefault,d=void 0===l||l,p=i.enabled,f=void 0===p||p,b=i.enableOnContentEditable,h=void 0!==b&&b,j=Object(u.useRef)(null),m=Object(u.useCallback)((function(e,n){var o;return a&&!a(e)?!d:!!(tn(e,["INPUT","TEXTAREA","SELECT"])&&!tn(e,r)||null!=(o=e.target)&&o.isContentEditable&&!h)||(null===j.current||document.activeElement===j.current)&&(t(e,n),!0)}),o?[j,r,a].concat(o):[j,r,a]);return Object(u.useEffect)((function(){if(f)return c&&!0!==s&&(n.keydown=!1),en(e,n||{},m),function(){return en.unbind(e,m)};en.unbind(e,m)}),[m,e,f]),j}en.isPressed;function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=l.a.div.withConfig({displayName:"QuestionForm__Container",componentId:"sc-1wkgpcq-0"})(["max-width:960px;"]),cn=l.a.div.withConfig({displayName:"QuestionForm__QuestionText",componentId:"sc-1wkgpcq-1"})(["font-weight:normal;font-size:14px;line-height:22px;margin-bottom:4px;"]),sn=l.a.div.withConfig({displayName:"QuestionForm__QuestionCaption",componentId:"sc-1wkgpcq-2"})(["font-weight:300;font-size:14px;line-height:22px;color:#8c8c8c;margin-bottom:32px;"]),un=Object(l.a)(S.a).withConfig({displayName:"QuestionForm__FormButton",componentId:"sc-1wkgpcq-3"})(["margin-left:8px;"]),ln=Object(l.a)(S.a).withConfig({displayName:"QuestionForm__SaveChangesButton",componentId:"sc-1wkgpcq-4"})(["margin-left:8px;background:#3684c6;"]);function dn(e){var t=e.visible,n=e.question,r=e.leaveQueue,a=e.finishQuestion,s=e.position,l=e.cancel,d=Object(K.a)("draftQuestion",null),p=Object(v.a)(d,2),f=p[0],b=p[1],h=Object(c.useRouter)(),j=h.query.cid,m=(null===n||void 0===n?void 0:n.status)===i.o.Drafting,x=(null===n||void 0===n?void 0:n.status)===i.o.Helping,O=Object(u.useState)((null===n||void 0===n?void 0:n.questionType)||null),y=O[0],g=O[1],w=Object(u.useState)((null===n||void 0===n?void 0:n.text)||""),C=w[0],_=w[1],q=Object(u.useState)(void 0!==(null===n||void 0===n?void 0:n.groupable)&&(null===n||void 0===n?void 0:n.groupable)),k=q[0],N=q[1];Object(u.useEffect)((function(){n&&!t&&(_(n.text),g(n.questionType))}),[n,t]);var I=function(){y&&C&&""!==C&&a(C,y,k,h,Number(j))};return nn("enter",(function(){return I()}),{enableOnTags:["TEXTAREA"]},[y,C,k,h,j]),Object(o.jsx)(be.a,{visible:t,closable:!0,onCancel:function(){b(n),l()},title:m?"Describe your question":"Edit your question",footer:Object(o.jsxs)("div",{children:[m?Object(o.jsx)(un,{danger:!0,onClick:r,children:"Leave Queue"}):Object(o.jsx)(un,{onClick:l,children:"Cancel"}),Object(o.jsx)(ln,{"data-cy":"finishQuestion",type:"primary",disabled:!y||!C||""===C,onClick:I,children:m?"Finish":"Save Changes"})]}),children:Object(o.jsxs)(an,{children:[m&&Object(o.jsx)(kt,{style:{marginBottom:"32px"},message:"You are currently ".concat(Qt(s)," in queue"),description:"Your spot in queue has been temporarily reserved. Please describe your question to finish joining the queue.",type:"success",showIcon:!0}),x&&Object(o.jsx)(kt,{style:{marginBottom:"32px"},message:"A TA is coming to help you",description:"Please click 'Save Changes' to submit what you've filled out",type:"info",showIcon:!0}),Object(o.jsx)(cn,{children:"What category does your question fall under?"}),Object(o.jsxs)(Nt.a.Group,{value:y,onChange:function(e){g(e.target.value);var t=null!==f&&void 0!==f?f:{};b(rn(rn({id:null===n||void 0===n?void 0:n.id},t),{},{questionType:e.target.value}))},buttonStyle:"solid",style:{marginBottom:48},children:[Object(o.jsx)(Nt.a.Button,{value:i.q.Concept,children:"Concept"}),Object(o.jsx)(Nt.a.Button,{value:i.q.Clarification,children:"Clarification"}),Object(o.jsx)(Nt.a.Button,{value:i.q.Testing,children:"Testing"}),Object(o.jsx)(Nt.a.Button,{value:i.q.Bug,children:"Bug"}),Object(o.jsx)(Nt.a.Button,{value:i.q.Setup,children:"Setup"}),Object(o.jsx)(Nt.a.Button,{value:i.q.Other,children:"Other"})]}),Object(o.jsx)(cn,{children:"What do you need help with?"}),Object(o.jsx)(It.a.TextArea,{"data-cy":"questionText",value:C,placeholder:"I\u2019m having trouble understanding list abstractions, particularly in Assignment 5.",autoSize:{minRows:3,maxRows:6},onChange:function(e){_(e.target.value);var t=null!==f&&void 0!==f?f:{};b(rn(rn({id:null===n||void 0===n?void 0:n.id},t),{},{text:e.target.value}))}}),Object(o.jsx)(sn,{children:"Be as descriptive and specific as possible in your answer. Your name will be hidden to other students, but your question will be visible so don't frame your question in a way that gives away the answer."}),Object(o.jsx)(cn,{children:"Would you like the option of being helped in a group session?"}),Object(o.jsxs)(Nt.a.Group,{value:k,onChange:function(e){N(e.target.value);var t=null!==f&&void 0!==f?f:{};b(rn(rn({id:null===n||void 0===n?void 0:n.id},t),{},{groupable:e.target.value}))},style:{marginBottom:5},children:[Object(o.jsx)(Nt.a,{value:!0,children:"Yes"}),Object(o.jsx)(Nt.a,{value:!1,children:"No"})]}),Object(o.jsx)(sn,{children:"Clicking Yes may result in a shorter wait time if others have the same question as you."})]})})}var pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M819.8 512l102.4-122.9a8.06 8.06 0 00-6.1-13.2h-54.7c-2.4 0-4.6 1.1-6.1 2.9L782 466.7l-73.1-87.8a8.1 8.1 0 00-6.1-2.9H648c-1.9 0-3.7.7-5.1 1.9a7.97 7.97 0 00-1 11.3L744.2 512 641.8 634.9a8.06 8.06 0 006.1 13.2h54.7c2.4 0 4.6-1.1 6.1-2.9l73.1-87.8 73.1 87.8a8.1 8.1 0 006.1 2.9h55c1.9 0 3.7-.7 5.1-1.9 3.4-2.8 3.9-7.9 1-11.3L819.8 512zM536 464H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h416c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-84 204h-60c-3.3 0-6 2.7-6 6v166H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6h292c16.6 0 30-13.4 30-30V674c0-3.3-2.7-6-6-6zM136 184h250v166c0 3.3 2.7 6 6 6h60c3.3 0 6-2.7 6-6V142c0-16.6-13.4-30-30-30H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6z"}}]},name:"delete-row",theme:"outlined"},fn=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:pn}))};fn.displayName="DeleteRowOutlined";var bn=u.forwardRef(fn),hn=n("xdJY"),jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},mn=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:jn}))};mn.displayName="TeamOutlined";var vn=u.forwardRef(mn),xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},On=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:xn}))};On.displayName="UndoOutlined";var yn=u.forwardRef(On),gn=n("Szl1");function wn(){return(wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var _n=l.a.div.withConfig({displayName:"Banner__BannerContainer",componentId:"sc-13za7xs-0"})(["width:100%;"]),qn=l.a.div.withConfig({displayName:"Banner__TitleContainer",componentId:"sc-13za7xs-1"})(["background:",";padding-left:24px;padding-right:16px;min-height:60px;border-radius:6px 6px 0 0;position:relative;box-shadow:0px 2px 8px rgba(0,0,0,0.15);display:flex;align-items:center;justify-content:space-between;"],(function(e){return e.color||"#8895A6"})),kn=l.a.div.withConfig({displayName:"Banner__Title",componentId:"sc-13za7xs-2"})(["font-weight:300;font-size:24px;color:white;"]),Nn=l.a.div.withConfig({displayName:"Banner__ButtonContainer",componentId:"sc-13za7xs-3"})(["display:flex;flex-flow:row wrap;margin-right:10px;"]),In=l.a.div.withConfig({displayName:"Banner__ContentContainer",componentId:"sc-13za7xs-4"})(["background:",";padding:12px 24px;border-radius:0 0 6px 6px;"],(function(e){return e.color||"#CFD6DE"}));function Qn(e){return Object(o.jsxs)(_n,{"data-cy":"banner",children:[Object(o.jsxs)(qn,{color:e.titleColor,children:[Object(o.jsx)(kn,{children:e.title}),Object(o.jsx)(Nn,{children:e.buttons})]}),Object(o.jsx)(In,{color:e.contentColor,children:e.content})]})}var Sn=Object(l.a)((function(e){var t=wn({},e);return Object(o.jsx)(S.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:"large",shape:"circle"},t))})).withConfig({displayName:"Banner__BannerButton",componentId:"sc-13za7xs-5"})(["margin-left:16px;border:0;background:#fff;"]),En=Object(l.a)(Sn).withConfig({displayName:"Banner__BannerPrimaryButton",componentId:"sc-13za7xs-6"})(["",";background:#3684c6;color:#fff;&:hover,&:focus{background:#3c93dd;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),Tn=Object(l.a)(Sn).withConfig({displayName:"Banner__BannerDangerButton",componentId:"sc-13za7xs-7"})(["",";background:#e26567;color:#fff;&:hover,&:focus{background:#fc7f81;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),An=Object(l.a)(Sn).withConfig({displayName:"Banner__BannerOrangeButton",componentId:"sc-13za7xs-8"})(["",";background:#ff8c00;color:#fff;&:hover,&:focus{background:#ffa700;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),Pn=Object(l.a)(Sn).withConfig({displayName:"Banner__FinishHelpingButton",componentId:"sc-13za7xs-9"})(["border:0;background:#66bb6a;color:#fff;&:hover,&:focus{background:#82c985;color:#fff;}"]),Dn=Object(l.a)(Sn).withConfig({displayName:"Banner__CantFindButton",componentId:"sc-13za7xs-10"})(["background:#fff;border:1px solid #e26567;color:#e26567;&:hover,&:focus{background:#fc7f81;color:#fff;}"]),Ln=Object(l.a)(Sn).withConfig({displayName:"Banner__RequeueButton",componentId:"sc-13za7xs-11"})(["background:#ffffff;border:1px solid #f0f0f0;color:#000000;&:hover,&:focus{background:#f0f0f0;color:#000000;}"]),zn=l.a.span.withConfig({displayName:"StudentBanner__BoldNumber",componentId:"sc-znqvhq-0"})(["font-weight:bold;"]),Bn=l.a.div.withConfig({displayName:"StudentBanner__QuestionDetails",componentId:"sc-znqvhq-1"})(["display:flex;"]),Rn=l.a.div.withConfig({displayName:"StudentBanner__InfoHeader",componentId:"sc-znqvhq-2"})(["font-weight:bold;font-size:14px;font-variant:small-caps;"]),Fn=l.a.ul.withConfig({displayName:"StudentBanner__Bullets",componentId:"sc-znqvhq-3"})(["color:#000;"]),Mn=Object(l.a)(H.a).withConfig({displayName:"StudentBanner__ColWithRightMargin",componentId:"sc-znqvhq-4"})(["margin-right:32px;"]),Hn=l.a.span.withConfig({displayName:"StudentBanner__PriorityQueuedBanner",componentId:"sc-znqvhq-5"})(["display:flex;flex-direction:column;margin:12px 0;"]);function Un(e){var t,n=e.queueId,r=e.editQuestion,a=e.leaveQueue,c=ne(n),s=c.studentQuestion,u=c.studentQuestionIndex,l=null===(t=ee(n).queue)||void 0===t?void 0:t.room.startsWith("Online");switch(null===s||void 0===s?void 0:s.status){case"Drafting":return Object(o.jsx)(Qn,{titleColor:"#faad14",contentColor:"#ffd666",title:"Please finish writing your question",content:"Your spot in queue has been temporarily reserved. Please finish describing your question to receive help and finish joining the queue.",buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Q.a,{title:"Delete Draft",children:Object(o.jsx)(Sn,{icon:Object(o.jsx)(bn,{}),onClick:a})}),Object(o.jsx)(Q.a,{title:"Finish Draft",children:Object(o.jsx)(Sn,{"data-cy":"edit-question",icon:Object(o.jsx)(hn.a,{}),onClick:Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))})})]})});case"Queued":return Object(o.jsx)(Qn,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Object(o.jsxs)("span",{children:["You are"," ",Object(o.jsx)(zn,{children:Qt(u+1)})," in queue"]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Kn,{leaveQueue:a}),Object(o.jsx)(Q.a,{title:"Edit Question",children:Object(o.jsx)(Sn,{"data-cy":"edit-question",icon:Object(o.jsx)(hn.a,{}),onClick:r})})]}),content:Object(o.jsx)(Yn,{studentQuestion:s})});case"Helping":return Object(o.jsx)(Qn,{titleColor:"#66BB6A",contentColor:"#82C985",title:Object(o.jsxs)("span",{children:[Object(o.jsx)(zn,{children:s.taHelped.name})," is coming to help you"]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Kn,{leaveQueue:a}),l&&Object(o.jsx)(Q.a,{title:"Open Teams DM",children:Object(o.jsx)(Sn,{icon:Object(o.jsx)(vn,{}),onClick:function(){window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(s.taHelped.email))}})})]}),content:Object(o.jsxs)(Fn,{children:[Object(o.jsx)("li",{children:"Please be dressed appropriately"}),Object(o.jsx)("li",{children:"Be respectful of the TA\u2019s time"}),Object(o.jsx)("li",{children:"Come prepared with your question!"})]})});case"ReQueueing":return Object(o.jsx)(Qn,{titleColor:"#66BB6A",contentColor:"#82C985",title:Object(o.jsx)("span",{children:"Are you ready to re-join the queue?"}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Kn,{leaveQueue:a}),Object(o.jsx)(Q.a,{title:"Rejoin Queue",children:Object(o.jsx)(S.a,{shape:"circle",style:{marginLeft:"16px",border:0},icon:Object(o.jsx)(yn,{}),onClick:Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(s.id,{status:i.o.PriorityQueued});case 2:case"end":return e.stop()}}),e)}))),type:"primary","data-cy":"re-join-queue",size:"large"})})]}),content:Object(o.jsxs)(Fn,{children:[Object(o.jsx)("li",{children:"Have you finished doing what the TA has told you?"}),Object(o.jsx)("li",{children:"Once you hit requeue, you will be placed at the top of the queue"})]})});case"PriorityQueued":return Object(o.jsx)(Qn,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Object(o.jsxs)(Hn,{children:["You are now in a priority queue, you will be helped soon. ",Object(o.jsx)("br",{}),Object(o.jsxs)("span",{style:{fontSize:16},children:["You were last helped by"," ",Object(o.jsx)("span",{style:{fontWeight:"bold"},children:s.taHelped.name}),"."]})]}),buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Kn,{leaveQueue:a}),Object(o.jsx)(Q.a,{title:"Edit Question",children:Object(o.jsx)(Sn,{"data-cy":"edit-question",icon:Object(o.jsx)(hn.a,{}),onClick:r})})]}),content:Object(o.jsx)(Yn,{studentQuestion:s})});default:return Object(o.jsx)("div",{})}}function Kn(e){var t=e.leaveQueue;return Object(o.jsx)(M,{title:"Are you sure you want to leave the queue?",okText:"Yes",cancelText:"No",onConfirm:t,children:Object(o.jsx)(Q.a,{title:"Leave Queue",children:Object(o.jsx)(Tn,{"data-cy":"leave-queue",icon:Object(o.jsx)(bn,{})})})})}function Yn(e){var t=e.studentQuestion;return Object(o.jsxs)(Bn,{children:[Object(o.jsxs)(Mn,{flex:"4 4",children:[Object(o.jsx)(Rn,{children:"question"}),Object(o.jsx)("div",{children:t.text})]}),Object(o.jsxs)(H.a,{flex:"0.5 0.5 95px",children:[Object(o.jsx)(Rn,{children:"type"}),Object(o.jsx)("div",{children:t.questionType})]}),Object(o.jsxs)(H.a,{flex:"0 0 89px",children:[Object(o.jsx)(Rn,{children:"groupable"}),Object(o.jsx)("div",{children:t.groupable?Object(o.jsx)(gn.a,{}):Object(o.jsx)(lt.a,{})})]})]})}var Gn=n("9RnG"),Vn=n.n(Gn);function Jn(e){return Object(o.jsx)(Vn.a,{visible:e.visible,footer:[Object(o.jsx)(S.a,{danger:!0,onClick:e.leaveQueue,children:"Leave Queue"},"leave"),Object(o.jsx)(S.a,{type:"primary",onClick:e.rejoinQueue,children:"Rejoin Queue"},"rejoin")],closable:!1,title:"You couldn't be found!",children:"A TA tried to help you, but couldn't reach you. Are you still in the queue? If you are, make sure you have Teams open, and rejoin the queue."})}var Wn=n("5oqr"),Xn=(Object(l.a)(O.a).withConfig({displayName:"QueueCardSharedComponents__HorizontalTACard",componentId:"sc-3faov6-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;color:#595959;&:hover{cursor:pointer;}"]),Object(l.a)(Wn.a).withConfig({displayName:"QueueCardSharedComponents__Photo",componentId:"sc-3faov6-1"})(["margin-right:16px;@media (max-width:992px){display:none;}"]),l.a.div.withConfig({displayName:"QueueCardSharedComponents__Rank",componentId:"sc-3faov6-2"})(["font-size:14px;line-height:22px;font-weight:500;color:#595959;"]),l.a.div.withConfig({displayName:"QueueCardSharedComponents__Text",componentId:"sc-3faov6-3"})(["font-size:14px;line-height:22px;color:#595959;"])),Zn=(Object(l.a)(je.a).withConfig({displayName:"QueueCardSharedComponents__StatusTag",componentId:"sc-3faov6-4"})(["width:96px;text-align:center;float:right;margin-right:0;border:1px solid;box-sizing:border-box;border-radius:4px;"]),Object(l.a)(y.a).withConfig({displayName:"QueueCardSharedComponents__CenterRow",componentId:"sc-3faov6-5"})(["align-items:center;"]));function $n(e,t){return e.length>t?e.substring(0,t-3)+"...":e}var eo=Object(l.a)(O.a).withConfig({displayName:"StudentQueueCard__HorizontalStudentCard",componentId:"sc-1ct7xlx-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;padding-left:8px;padding-right:8px;color:#595959;"]),to={backgroundColor:"#F6FFED"};function no(e){var t=e.question,n=e.rank,i=e.highlighted;return Object(o.jsx)(eo,{style:i?to:{},bordered:!i,children:Object(o.jsxs)(Zn,{children:[Object(o.jsx)(H.a,{flex:"0 0 64px",children:Object(o.jsx)(Xn,{children:n})}),Object(o.jsx)(H.a,{flex:"1 1",children:Object(o.jsx)(Xn,{children:$n(t.text,150)})}),Object(o.jsx)(H.a,{flex:"0 0 80px",children:Object(o.jsx)(Xn,{children:Object(Pe.b)(t)})})]})})}function oo(e){var t;return Object(o.jsx)(Vn.a,{visible:(null===(t=e.question)||void 0===t?void 0:t.status)===i.m.TADeleted,footer:[Object(o.jsx)(S.a,{danger:!0,onClick:e.leaveQueue,children:"Leave Queue"},"leave"),Object(o.jsx)(S.a,{type:"primary",onClick:e.joinQueue,children:"Rejoin Queue"},"rejoin")],closable:!1,children:"You've been removed from the queue by a TA. If you have any questions, please reach out to the TA. If you'd like to join back into the queue with your previous question, click Rejoin Queue, otherwise click Leave Queue."})}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ao=l.a.div.withConfig({displayName:"StudentQueue__Container",componentId:"sc-1qu48se-0"})(["flex:1;display:flex;flex-direction:column;margin-top:10px;@media (min-width:650px){margin-top:0;flex-direction:row;height:100%;}"]),co=l.a.div.withConfig({displayName:"StudentQueue__QueueListContainer",componentId:"sc-1qu48se-1"})(["flex-grow:1;@media (min-width:650px){margin-top:32px;}"]),so=Object(l.a)(Ze).withConfig({displayName:"StudentQueue__JoinButton",componentId:"sc-1qu48se-2"})(["background-color:#3684c6;color:white;"]),uo=l.a.div.withConfig({displayName:"StudentQueue__VerticalDivider",componentId:"sc-1qu48se-3"})(["@media (min-width:650px){border-right:1px solid #cfd6de;margin:0 16px;}@media (min-width:1000px){margin:0 32px;}"]),lo=Object(l.a)(O.a).withConfig({displayName:"StudentQueue__StudentHeaderCard",componentId:"sc-1qu48se-4"})(["height:64px;padding-left:8px;padding-right:8px;background:inherit;"]),po=l.a.div.withConfig({displayName:"StudentQueue__HeaderText",componentId:"sc-1qu48se-5"})(["font-size:14px;font-weight:500;line-height:22px;color:#8895a6;font-variant:small-caps;"]),fo=l.a.div.withConfig({displayName:"StudentQueue__PopConfirmTitle",componentId:"sc-1qu48se-6"})(["max-width:400px;"]),bo=Object(l.a)(y.a).withConfig({displayName:"StudentQueue__CenterRow",componentId:"sc-1qu48se-7"})(["align-items:center;"]);function ho(e){var t=e.qid,n=e.cid,r=ee(t).queue,a=X(t),s=a.questions,l=a.mutateQuestions,d=ne(t),p=d.studentQuestion,b=d.studentQuestionIndex,h=Object(K.a)("isFirstQuestion",!0),O=Object(v.a)(h,2),y=O[0],w=O[1],C=Object(u.useState)(!1),_=C[0],q=C[1],k=function(){var e=Object(K.a)("draftQuestion",null),t=Object(v.a)(e,3),n=t[0],o=t[1],i=t[2];return{draftQuestion:n,setDraftQuestion:o,deleteDraftQuestion:function(){return i()}}}().deleteDraftQuestion,N=Object(u.useState)(s&&p&&(null===p||void 0===p?void 0:p.status)!==i.o.Queued),I=N[0],Q=N[1],S=Object(u.useState)(!1),E=S[0],T=S[1],A=Object(c.useRouter)(),P=Boolean(A.query.edit_question);Object(u.useEffect)((function(){P&&p&&(Object(U.b)("/api/v1/queues/".concat(t,"/questions")),T(!0),A.push("/course/".concat(n,"/queue/").concat(t)))}),[P,t,p]);var D=null===p||void 0===p?void 0:p.id,L=null===p||void 0===p?void 0:p.status,z=Object(u.useCallback)(Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(D,{status:i.b.ConfirmedDeleted});case 2:return Q(!1),e.next=5,l();case 5:case"end":return e.stop()}}),e)}))),[l,D]),B=Object(u.useCallback)(Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(D,{status:i.o.PriorityQueued});case 2:return e.next=4,l();case 4:case"end":return e.stop()}}),e)}))),[l,D]),R=Object(u.useCallback)(function(){var e=Object(m.a)(j.a.mark((function e(t,n,o){var r,a,c,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={text:t,questionType:n,groupable:o,status:L===i.o.Drafting?i.o.Queued:L},e.next=3,x.a.questions.update(D,a);case 3:c=e.sent,u=null===s||void 0===s||null===(r=s.queue)||void 0===r?void 0:r.map((function(e){return e.id===D?c:e})),l(ro(ro({},s),{},{yourQuestion:c,queue:u}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),[L,D,s,l]),F=Object(u.useCallback)(Object(m.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(null===p||void 0===p?void 0:p.id,{status:i.b.ConfirmedDeleted});case 2:return e.next=4,l();case 4:return e.next=6,x.a.questions.create({text:p.text,questionType:null===p||void 0===p?void 0:p.questionType,queueId:t,location:null===p||void 0===p?void 0:p.location,force:!0,groupable:!1});case 6:return n=e.sent,e.next=9,x.a.questions.update(n.id,{status:i.o.Queued});case 9:return e.next=11,l();case 11:case"end":return e.stop()}}),e)}))),[l,t,p]),H=Object(u.useCallback)(Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(U.b)("/api/v1/queues/".concat(t,"/questions")),T(!0);case 2:case"end":return e.stop()}}),e)}))),[t]),Y=Object(u.useCallback)((function(){T(!1),Q(!1)}),[]),G=Object(u.useCallback)((function(){k(),z(),Y()}),[k,z,Y]),V=Object(u.useCallback)(function(){var e=Object(m.a)(j.a.mark((function e(n){var o,r,a,c,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.questions.create({queueId:Number(t),text:"",force:n,questionType:null,groupable:!1});case 3:return o=e.sent,r=[].concat(Object(f.a)(null===s||void 0===s?void 0:s.queue),[o]),e.next=7,l(ro(ro({},s),{},{queue:r}));case 7:return T(!0),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(0),null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c||null===(u=c.message)||void 0===u||!u.includes(i.f.questionController.createQuestion.oneQuestionAtATime)){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[l,t,s]),J=Object(u.useCallback)((function(e,t,n,o,i){k(),R(e,t,n),Y(),y&&g.a.warn({style:{cursor:"pointer"},message:"Enable Notifications",className:"hide-in-percy",description:"Turn on notifications for when it's almost your turn to get help.",placement:"bottomRight",duration:0,onClick:function(){g.a.destroy(),w(!1),o.push("/settings?cid=".concat(i))}})}),[k,R,Y,y,w]);return nn("shift+e",(function(){p&&H()}),[p]),nn("shift+n",(function(){p||null===r||void 0===r||!r.allowQuestions||null!==r&&void 0!==r&&r.isDisabled||V(!1).then((function(e){return q(!e)}))}),[p,r]),r&&s?r.isOpen?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(ao,{children:[Object(o.jsx)(Jn,{visible:(null===p||void 0===p?void 0:p.status)===i.m.CantFind,leaveQueue:z,rejoinQueue:B}),Object(o.jsx)(oo,{question:p,leaveQueue:z,joinQueue:F}),Object(o.jsx)(st,{queueId:t,isStaff:!1,buttons:!p&&Object(o.jsx)(M,{title:Object(o.jsx)(fo,{children:"You already have a question in a queue for this course, so your previous question will be deleted in order to join this queue. Do you want to continue?"}),onConfirm:function(){return V(!0)},okText:"Yes",cancelText:"No",disabled:!0,visible:_,onVisibleChange:q,children:Object(o.jsx)(so,{type:"primary",disabled:!(null!==r&&void 0!==r&&r.allowQuestions)||(null===r||void 0===r?void 0:r.isDisabled),"data-cy":"join-queue-button",onClick:Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,V(!1);case 3:return e.t1=!e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),children:"Join Queue"})})}),Object(o.jsx)(uo,{}),Object(o.jsxs)(co,{children:[p&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Un,{queueId:t,editQuestion:H,leaveQueue:z}),Object(o.jsx)("div",{style:{marginTop:"40px"}})]}),Object(o.jsx)(vo,{questions:null===s||void 0===s?void 0:s.queue,studentQuestion:p})]})]}),Object(o.jsx)(dn,{visible:s&&!p&&I||E,question:p,leaveQueue:G,finishQuestion:J,position:b+1,cancel:Y})]}):Object(o.jsx)("h1",{style:{marginTop:"50px"},children:"The Queue is Closed!"}):Object(o.jsx)("div",{})}var jo=l.a.h2.withConfig({displayName:"StudentQueue__QueueHeader",componentId:"sc-1qu48se-8"})(["font-weight:500;font-size:24px;color:#212934;margin-bottom:0;"]),mo=l.a.div.withConfig({displayName:"StudentQueue__NoQuestionsText",componentId:"sc-1qu48se-9"})(["font-weight:500;font-size:24px;color:#212934;"]);function vo(e){var t=e.questions,n=e.studentQuestion;return Object(o.jsxs)("div",{"data-cy":"queueQuestions",children:[0===(null===t||void 0===t?void 0:t.length)?Object(o.jsx)(mo,{children:"There are no questions in the queue"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(jo,{children:"Queue"}),Object(o.jsx)(lo,{bordered:!1,children:Object(o.jsxs)(bo,{children:[Object(o.jsx)(H.a,{flex:"0 0 64px",children:Object(o.jsx)(po,{children:"#"})}),Object(o.jsx)(H.a,{flex:"1 1",children:Object(o.jsx)(po,{children:"question"})}),Object(o.jsx)(H.a,{flex:"0 0 80px",children:Object(o.jsx)(po,{children:"wait"})})]})})]}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(o.jsx)(no,{rank:t+1,question:e,highlighted:n===e},e.id)}))]})}var xo=n("dppZ"),Oo=n("nXdl");function yo(e){var t,n,o=Object(te.a)(),i=ee(e).queue,r=X(e).questions,a=null===r||void 0===r||null===(t=r.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){var t;return(null===(t=e.taHelped)||void 0===t?void 0:t.id)===(null===o||void 0===o?void 0:o.id)})),c=null===r||void 0===r||null===(n=r.groups)||void 0===n?void 0:n.find((function(e){return e.creator.id===o.id}));return{helpingQuestions:a,helpingGroup:c,isHelping:(null===a||void 0===a?void 0:a.length)>0||!!c,isCheckedIn:null===i||void 0===i?void 0:i.staffList.some((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}))}}var go=n("Sccn"),wo=n("UL5a"),Co=n("wb8e"),_o=n("nsO7");function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No=Object(l.a)(It.a.TextArea).withConfig({displayName:"EditQueueModal__NotesInput",componentId:"sc-c8x0cn-0"})(["border-radius:6px;border:1px solid #b8c4ce;"]);function Io(e){var t=e.queueId,n=e.visible,i=e.onClose,r=ee(t),a=r.queue,c=r.mutateQueue,s=wo.a.useForm(),u=Object(v.a)(s,1)[0],l=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ko(ko({},a),t),c(n,!1),e.next=4,x.a.queues.update(n.id,Object(_o.pick)(n,["notes","allowQuestions"]));case 4:c();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(Vn.a,{title:"Edit Queue Details",visible:n,onCancel:i,onOk:Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.validateFields();case 2:return t=e.sent,e.next=5,l(t);case 5:i();case 6:case"end":return e.stop()}}),e)}))),children:a&&Object(o.jsxs)(wo.a,{form:u,initialValues:a,children:[Object(o.jsx)(wo.a.Item,{label:"Queue Notes",name:"notes",children:Object(o.jsx)(No,{allowClear:!0,placeholder:""})}),Object(o.jsx)(wo.a.Item,{label:"Allow New Questions",name:"allowQuestions",valuePropName:"checked",children:Object(o.jsx)(Co.a,{"data-cy":"allow-questions-toggle"})})]})})}var Qo=n("LxhF"),So={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},Eo=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:So}))};Eo.displayName="ArrowLeftOutlined";var To=u.forwardRef(Eo),Ao=n("7hYp"),Po=n("xq5O"),Do=n("jvFD"),Lo=n.n(Do),zo=n("KQ9C"),Bo=n("Alrg"),Ro=n("jqOo"),Fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},Mo=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:Fo}))};Mo.displayName="QuestionOutlined";var Ho=u.forwardRef(Mo),Uo=n("ibId"),Ko=l.a.div.withConfig({displayName:"TAQueueListItem__Container",componentId:"sc-1nf4mks-0"})(["display:flex;align-items:center;width:100%;padding-top:16px;padding-bottom:12px;border-bottom:1px solid #cfd6de;background:",";cursor:pointer;&:hover{background:",";}"],(function(e){return e.selected?"#EFF8FF":"white"}),(function(e){return e.selected?"#EFF8FF":"#ECF0F3"})),Yo=Object(l.a)(Uo.a).withConfig({displayName:"TAQueueListItem__StyledCheckbox",componentId:"sc-1nf4mks-1"})(["margin-left:8px;"]),Go=l.a.div.withConfig({displayName:"TAQueueListItem__BodyContainer",componentId:"sc-1nf4mks-2"})(["display:flex;align-items:flex-start;"]),Vo=l.a.div.withConfig({displayName:"TAQueueListItem__AvatarContainer",componentId:"sc-1nf4mks-3"})(["margin:10px 12px 0 25px;display:block;"]),Jo=l.a.div.withConfig({displayName:"TAQueueListItem__QuestionInfoContainer",componentId:"sc-1nf4mks-4"})([""]),Wo=l.a.div.withConfig({displayName:"TAQueueListItem__Name",componentId:"sc-1nf4mks-5"})(["color:#212934;"]),Xo=l.a.div.withConfig({displayName:"TAQueueListItem__QuestionText",componentId:"sc-1nf4mks-6"})(["padding-right:8px;color:#595959;"]);function Zo(e){var t=e.index,n=e.selected,r=e.question,a=e.onClick,c=e.showCheckbox,s=r.status===i.o.Drafting,u=[[Object(o.jsx)(Ro.a,{},"h"),Object(Pe.b)(r)]];return s||u.push([Object(o.jsx)(Ho,{},"q"),r.questionType]),Object(o.jsxs)(Ko,{selected:n,"data-cy":"queue-list-item-".concat(r.id),onClick:a,children:[c&&Object(o.jsx)(Yo,{checked:n}),Object(o.jsxs)(Go,{children:[Object(o.jsx)(Vo,{children:Object(o.jsx)(Ae,{count:t?"#".concat(t):0,style:{backgroundColor:"#3684c6"},offset:[-40,0],children:Object(o.jsx)(De.a,{size:40,name:r.creator.name,photoURL:r.creator.photoURL})})}),Object(o.jsxs)(Jo,{children:[Object(o.jsx)(Wo,{children:r.creator.name}),Object(o.jsx)(Xo,{children:s?Object(o.jsx)("i",{children:"Still Drafting..."}):$n(r.text,80)}),Object(o.jsx)(ni,{info:u})]})]})]})}var $o=l.a.div.withConfig({displayName:"TAQueueListItem__RowContainer",componentId:"sc-1nf4mks-7"})(["margin-top:8px;display:flex;align-items:center;color:#8895a6;"]),ei=l.a.div.withConfig({displayName:"TAQueueListItem__Divider",componentId:"sc-1nf4mks-8"})(["margin-left:12px;margin-right:8px;"]),ti=l.a.div.withConfig({displayName:"TAQueueListItem__Spacer",componentId:"sc-1nf4mks-9"})(["margin-left:5px;"]);function ni(e){var t=e.info;return Object(o.jsx)($o,{children:t.map((function(e,t){var n=Object(v.a)(e,2),i=n[0],r=n[1];return[t>0&&Object(o.jsx)(ei,{children:"|"},r),i,Object(o.jsx)(ti,{},r+"space"),r]})).flat().filter((function(e){return!!e}))})}var oi=Object(l.a)(Ko).withConfig({displayName:"EmptyGroupList__EmptyGroupListContainer",componentId:"sc-uf0t1p-0"})(["display:flex;justify-content:space-between;align-items:center;"]),ii=l.a.div.withConfig({displayName:"EmptyGroupList__EmptyGroupListText",componentId:"sc-uf0t1p-1"})(["font-weight:bold;padding:15px;padding-left:35px;font-size:16px;"]);function ri(e){var t=e.onClick;return Object(o.jsxs)(oi,{onClick:t,selected:!1,"data-cy":"queue-list-item-question-group",children:[Object(o.jsx)(ii,{children:"Add Students"}),Object(o.jsx)(Bo.a,{style:{paddingRight:"16px"}})]})}var ai={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},ci=function(e,t){return u.createElement(se.a,Object(ae.a)(Object(ae.a)({},e),{},{ref:t,icon:ai}))};ci.displayName="PhoneOutlined";var si=u.forwardRef(ci);function ui(){var e=Object(te.a)();return(null===e||void 0===e?void 0:e.includeDefaultMessage)&&(null===e||void 0===e?void 0:e.defaultMessage)||""}var li=n("UmCv");function di(e,t,n){var o,i=null===(o=ee(e).queue)||void 0===o?void 0:o.room.startsWith("Online");return function(){i&&window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(t,"&message=").concat(n))}}var pi="This student has been temporarily removed from the queue. They must select to rejoin the queue and will then be placed in the Priority Queue.";function fi(e){var t=e.courseId,n=e.queueId,r=e.question,a=e.hasUnresolvedRephraseAlert,c=ui(),s=X(n).mutateQuestions,l=Object(u.useCallback)(function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.questions.update(r.id,{status:t});case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r.id,s]),d=yo(n),p=d.isCheckedIn,f=d.isHelping,b=di(n,r.creator.email,c),h=function(){var e=Object(m.a)(j.a.mark((function e(){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={queueId:n,questionId:r.id,courseId:t},e.prev=1,e.next=4,x.a.alerts.create({alertType:i.a.REPHRASE_QUESTION,courseId:t,payload:o,targetUserId:r.creator.id});case 4:return e.next=6,s();case 6:he.b.success("Successfully asked student to rephrase their question."),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(r.status===i.o.Drafting?i.b.DeletedDraft:i.m.TADeleted);case 2:return e.next=4,x.a.questions.notify(r.id);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(nn("shift+d",(function(){p&&O()}),[r]),r.status===i.o.Helping)return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(M,{title:"Are you sure you want to send this student back to the queue?",okText:"Yes",cancelText:"No",onConfirm:Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he.b.success(pi,2),e.next=3,l(i.m.ReQueueing);case 3:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(Q.a,{title:"Requeue Student",children:Object(o.jsx)(Ln,{icon:Object(o.jsx)(yn,{}),"data-cy":"requeue-student-button"})})}),Object(o.jsx)(M,{title:"Are you sure you can't find this student?",okText:"Yes",cancelText:"No",onConfirm:Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he.b.success(pi,2),e.next=3,l(i.m.CantFind);case 3:return e.next=5,x.a.questions.notify(r.id);case 5:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(Q.a,{title:"Can't Find",children:Object(o.jsx)(Dn,{shape:"circle",icon:Object(o.jsx)(lt.a,{}),"data-cy":"cant-find-button"})})}),Object(o.jsx)(Q.a,{title:"Finish Helping",children:Object(o.jsx)(Pn,{icon:Object(o.jsx)(gn.a,{}),onClick:function(){return l(i.b.Resolved)},"data-cy":"finish-helping-button"})})]});var y=p?f?[!1,"You are already helping a student"]:[!0,"Help Student"]:[!1,"You must check in to help students!"],g=Object(v.a)(y,2),w=g[0],C=g[1],_=p?a?[!1,"The student has already been asked to rephrase their question"]:r.status===i.o.Drafting?[!1,"The student must finish drafting before they can be asked to rephrase their question"]:[!0,"Ask the student to add more detail to their question"]:[!1,"You must check in to ask this student to rephrase their question"],q=Object(v.a)(_,2),k=q[0],N=q[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(M,{title:"Are you sure you want to delete this question from the queue?",disabled:!p,okText:"Yes",cancelText:"No",onConfirm:Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)}))),children:Object(o.jsx)(Q.a,{title:p?"Remove From Queue":"You must check in to remove students from the queue",children:Object(o.jsx)("span",{children:Object(o.jsx)(Tn,{shape:"circle",icon:Object(o.jsx)(li.a,{}),"data-cy":"remove-from-queue",disabled:!p})})})}),Object(o.jsx)(Q.a,{title:N,children:Object(o.jsx)("span",{children:Object(o.jsx)(An,{shape:"circle",icon:Object(o.jsx)(Ho,{}),onClick:h,"data-cy":"request-rephrase-question",disabled:!k})})}),Object(o.jsx)(Q.a,{title:C,children:Object(o.jsx)("span",{children:Object(o.jsx)(En,{icon:Object(o.jsx)(si,{}),onClick:function(){return l(i.o.Helping),void b()},disabled:!w,"data-cy":"help-student"})})})]})}var bi=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionCardBox",componentId:"sc-6bb15h-0"})(["display:flex;justify-content:space-between;align-items:center;margin:12px;padding:16px;background:#ecf0f3;"]),hi=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__StillDrafting",componentId:"sc-6bb15h-1"})(["margin:12px 30px;text-align:center;font-size:16px;"]),ji=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionHeader",componentId:"sc-6bb15h-2"})(["font-size:18px;color:#595959;margin-bottom:20px;"]),mi=Object(l.a)(ji).withConfig({displayName:"TAQueueDetailQuestion__QuestionAsker",componentId:"sc-6bb15h-3"})(["font-weight:600;margin-bottom:10px;"]),vi=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionDetails",componentId:"sc-6bb15h-4"})(["font-size:14px;color:#595959;margin-bottom:20px;"]),xi=l.a.span.withConfig({displayName:"TAQueueDetailQuestion__QuestionTypePill",componentId:"sc-6bb15h-5"})(["color:#264359;background:#abd4f3;padding:3px 8px;border-radius:4px;"]);function Oi(e){var t=e.question,n=e.queueId,r=e.courseId,a=e.showName,c=e.showButtons,s=e.hasUnresolvedRephraseAlert;return t.status===i.o.Drafting?Object(o.jsxs)(hi,{children:[t.creator.name," is drafting their question..."]}):Object(o.jsxs)(bi,{children:[Object(o.jsx)("div",{children:t.text||t.questionType?Object(o.jsxs)(o.Fragment,{children:[a?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(mi,{children:t.creator.name}),Object(o.jsx)(vi,{children:t.text})]}):Object(o.jsx)(ji,{children:t.text}),Object(o.jsx)(xi,{children:t.questionType})]}):Object(o.jsx)("p",{children:"No question details"})}),Object(o.jsx)("div",{children:c&&Object(o.jsx)(fi,{courseId:r,queueId:n,question:t,hasUnresolvedRephraseAlert:s})})]})}var yi=l.a.div.withConfig({displayName:"TAQueueDetail__Container",componentId:"sc-kj4kru-0"})([""]),gi=l.a.div.withConfig({displayName:"TAQueueDetail__Header",componentId:"sc-kj4kru-1"})(["display:flex;justify-content:space-between;align-items:center;height:60px;padding:0 12px;background:#e1e7ec;"]),wi=l.a.div.withConfig({displayName:"TAQueueDetail__Email",componentId:"sc-kj4kru-2"})(["font-size:12px;color:#8895a6;"]);function Ci(e){var t=e.courseId,n=e.queueId,i=e.question,r=e.hasUnresolvedRephraseAlert;return Object(o.jsxs)(yi,{children:[Object(o.jsxs)(gi,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:i.creator.name}),Object(o.jsx)(wi,{children:i.creator.email})]}),Object(o.jsx)("div",{children:Object(o.jsx)(fi,{courseId:t,queueId:n,question:i,hasUnresolvedRephraseAlert:r})})]}),Object(o.jsx)(Oi,{courseId:t,question:i,queueId:n,hasUnresolvedRephraseAlert:r})]})}var _i=l.a.div.withConfig({displayName:"AllQuestionsChecklist__Description",componentId:"sc-1m6wlb4-0"})(["font-size:12px;color:#8895a6;"]),qi=l.a.div.withConfig({displayName:"AllQuestionsChecklist__SelectAllContainer",componentId:"sc-1m6wlb4-1"})(["padding:3px 8px;border-bottom:1px solid #cfd6de;"]),ki=l.a.div.withConfig({displayName:"AllQuestionsChecklist__QuestionsList",componentId:"sc-1m6wlb4-2"})(["display:flex;flex-direction:column;"]),Ni=l.a.span.withConfig({displayName:"AllQuestionsChecklist__RedText",componentId:"sc-1m6wlb4-3"})(["color:red;"]);function Ii(e){var t=e.groupCreator,n=e.allQuestions,i=e.hasMissingQuestions,r=e.queueId,a=e.onStartCall,c=Object(u.useState)(new Set),s=c[0],l=c[1],d=yo(r),p=d.isCheckedIn,f=d.isHelping,b=p?f?[!1,"You are already helping a student"]:[!0,"Create Group & Call"]:[!1,"You must check in to help students!"],h=Object(v.a)(b,2),j=h[0],m=h[1],O=ui(),y=n.filter((function(e){return s.has(e.id)})).map((function(e){return e.creator.email})).join(","),g=di(r,y,O);return Object(o.jsxs)("div",{children:[Object(o.jsxs)(gi,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:"".concat(t.name,"'s Group Session")}),Object(o.jsxs)(_i,{children:["Select Students to Create Group",i?Object(o.jsxs)("div",{children:[Object(o.jsx)(Ni,{children:"Note:"})," some students may not show up, as they did not consent to being grouped"]}):null]})]}),Object(o.jsx)("div",{children:Object(o.jsx)(Q.a,{title:m,children:Object(o.jsx)("span",{children:Object(o.jsx)(En,{icon:Object(o.jsx)(si,{}),onClick:function(){x.a.questions.group({questionIds:Array.from(s),queueId:r}),a(),g()},disabled:!j||0===s.size,"data-cy":"help-student"})})})})]}),Object(o.jsx)(qi,{children:Object(o.jsx)(Uo.a,{checked:n.length===s.size,indeterminate:s.size&&s.size!==n.length,onChange:function(e){e.target.checked?l(new Set(n.map((function(e){return e.id})))):l(new Set)},children:Object(o.jsx)("span",{style:{paddingLeft:"9px"},children:"Select All"})})}),Object(o.jsx)(ki,{children:n.map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)(Zo,{question:e,index:t+1,selected:s.has(e.id),onClick:function(){return function(e){s.has(e.id)?(s.delete(e.id),l(new Set(s))):l(new Set(s.add(e.id)))}(e)},showCheckbox:!0})},e.id)}))})]})}function Qi(e){var t=e.group,n=e.queueId,i=e.courseId;return Object(o.jsxs)("div",{children:[Object(o.jsxs)(gi,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:"".concat(null===t||void 0===t?void 0:t.creator.name,"'s Group Session")}),Object(o.jsx)(_i,{children:null===t||void 0===t?void 0:t.questions.map((function(e){return e.creator.name})).join(", ")})]}),Object(o.jsx)("div",{children:Object(o.jsx)(Q.a,{title:"Finish Helping",children:Object(o.jsx)(Pn,{icon:Object(o.jsx)(gn.a,{}),onClick:function(){return x.a.questions.resolveGroup(null===t||void 0===t?void 0:t.id,n)},"data-cy":"finish-helping-button"})})})]}),null===t||void 0===t?void 0:t.questions.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsx)(Oi,{courseId:i,question:e,queueId:n,showName:!0,showButtons:!0,hasUnresolvedRephraseAlert:!1})},e.id)}))]})}function Si(e){var t=e.groupCreator,n=e.queueId,i=e.courseId,r=X(n),a=r.questions,c=r.mutateQuestions,s=[].concat(Object(f.a)(a.queue),Object(f.a)(a.priorityQueue)),u=null===a||void 0===a?void 0:a.groups.find((function(e){return e.creator.id===t.id})),l=u?u.questions:[],d=s.filter((function(e){return e.groupable}));return l.length?Object(o.jsx)(Qi,{courseId:i,group:u,queueId:n}):Object(o.jsx)(Ii,{allQuestions:d,hasMissingQuestions:d.length!=s.length,groupCreator:t,queueId:n,onStartCall:function(){c()}})}var Ei=n("ERsz"),Ti=l.a.div.withConfig({displayName:"TAQueueListSection__OverrideCollapse",componentId:"sc-104de8n-0"})(["& .ant-collapse-header{padding-left:0 !important;padding-right:0 !important;border-bottom:1px solid #cfd6de;}& .ant-collapse-item-disabled > .ant-collapse-header{cursor:initial !important;}& .ant-collapse-content-box{padding:0 !important;}"]),Ai=l.a.div.withConfig({displayName:"TAQueueListSection__Title",componentId:"sc-104de8n-1"})(["font-size:16px;color:#212934;margin-left:40px;"]);function Pi(e){var t=e.title,n=e.questions,i=e.onClickQuestion,r=e.selectedQuestionId,a=e.showNumbers,c=void 0!==a&&a,s=e.collapsible,u=void 0!==s&&s,l=e.emptyDisplay,d=void 0===l?null:l;return 0!==n.length||d?Object(o.jsx)(Ti,{children:Object(o.jsx)(Ei.a,{defaultActiveKey:[1],ghost:!0,expandIconPosition:"right",children:Object(o.jsx)(Ei.a.Panel,{style:{padding:0},header:Object(o.jsxs)(Ai,{children:[t,Object(o.jsx)("span",{children:" (".concat(n.length,")")})]}),showArrow:u,disabled:!u,children:0===n.length?d:Object(o.jsx)("div",{children:n.map((function(e,t){return Object(o.jsx)(Zo,{question:e,index:c&&t+1,selected:r===e.id,onClick:function(){return i(e.id)}},e.id)}))})},1)})}):null}var Di=900,Li=l.a.div.withConfig({displayName:"TAQueueListDetail__Container",componentId:"sc-1mkewun-0"})(["flex:1;background:white;border:1px solid #cfd6de;margin-bottom:30px;@media (min-width:","px){border:none;border-left:1px solid #cfd6de;margin-bottom:0px;display:flex;flex-direction:row;min-height:calc( 100vh - 46px - 67px );// - (height of footer) - (height of navbar)}"],Di),zi=l.a.div.withConfig({displayName:"TAQueueListDetail__List",componentId:"sc-1mkewun-1"})(["@media (min-width:","px){width:320px;overflow-y:scroll;}"],Di),Bi=Object(l.a)(Qo.a).withConfig({displayName:"TAQueueListDetail__PriorityQueueQuestionBubble",componentId:"sc-1mkewun-2"})(["margin-right:8px;"]),Ri=l.a.div.withConfig({displayName:"TAQueueListDetail__Detail",componentId:"sc-1mkewun-3"})(["border-left:1px solid #cfd6de;border-right:1px solid #cfd6de;flex:1;@media (min-width:","px){overflow-y:scroll;}"],Di),Fi=l.a.div.withConfig({displayName:"TAQueueListDetail__BackToQueue",componentId:"sc-1mkewun-4"})(["height:40px;display:flex;align-items:center;padding-left:12px;color:#1890ff;cursor:pointer;"]);function Mi(e){var t,n,i=e.queueId,r=e.courseId,a=Object(te.a)(),c=Object(u.useState)(null),s=c[0],l=c[1],d=X(i).questions,p=Object(u.useState)(!1),b=p[0],h=p[1],j=Object(Ao.a)()>=Di,m=function(e){l(e),h(!1)},v=null===d||void 0===d||null===(t=d.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){return e.taHelped.id===a.id})),x=null===d||void 0===d?void 0:d.groups.find((function(e){return e.creator.id===a.id})),O=x?x.questions:[],y=d?[].concat(Object(f.a)(v),Object(f.a)(d.queue),Object(f.a)(d.priorityQueue),Object(f.a)(d.groups.flatMap((function(e){return e.questions})))):[],g=y.find((function(e){return e.id===s})),w=function(e){var t=[].concat(Object(f.a)(d.priorityQueue),Object(f.a)(d.queue)).map((function(e){return e.id})),n=t.length;n>0&&l((function(o){var i=e?-1:1,r=t.indexOf(o);return t[o?((r+i)%n+n)%n:0]}))};nn("up",(function(){return w(!0)}),[d]),nn("down",(function(){return w(!1)}),[d]);var C=null===d||void 0===d||null===(n=d.unresolvedAlerts)||void 0===n?void 0:n.map((function(e){return e.questionId})).includes(s);if(s&&!g&&m(null),!s&&v.length&&m(v[0].id),!d)return Object(o.jsx)(Po.a,{});if(0===y.length)return Object(o.jsxs)(Hi,{children:[Object(o.jsx)(Ui,{children:"There are no questions in the queue"}),!a.phoneNotifsEnabled&&!a.desktopNotifsEnabled&&Object(o.jsx)(Yi,{courseId:r})]});var _=Object(o.jsxs)(zi,{children:[Object(o.jsx)("div",{"data-cy":"list-helping",children:Object(o.jsx)(Pi,{title:"Currently Helping",questions:v,onClickQuestion:m,selectedQuestionId:s})}),Object(o.jsx)("div",{"data-cy":"list-group",children:Object(o.jsx)(Pi,{title:"Group Students",questions:O,onClickQuestion:function(){h(!0),l(null)},collapsible:!0,emptyDisplay:Object(o.jsx)(ri,{onClick:function(){h(!0),l(null)}})})}),Object(o.jsx)("div",{"data-cy":"list-priority",children:Object(o.jsx)(Pi,{title:Object(o.jsxs)("span",{children:[Object(o.jsx)(Q.a,{title:"Students in the priority queue were at the top of the queue before for some reason (e.g. they were at the top but AFK, or a TA helped them previously, and then hit 'requeue student.' You should communicate with your fellow staff members to prioritize these students first.",children:Object(o.jsx)(Bi,{})}),"Priority Queue"]}),questions:d.priorityQueue,onClickQuestion:m,selectedQuestionId:s,collapsible:!0})}),Object(o.jsx)("div",{"data-cy":"list-queue",children:Object(o.jsx)(Pi,{title:"Waiting In Line",questions:d.queue,onClickQuestion:m,selectedQuestionId:s,collapsible:!0,showNumbers:!0})})]}),q=Object(o.jsxs)(Ri,{children:[g&&Object(o.jsx)(Ci,{courseId:r,queueId:i,question:g,hasUnresolvedRephraseAlert:C}),b&&Object(o.jsx)(Si,{courseId:r,queueId:i,groupCreator:a})]});return j?Object(o.jsxs)(Li,{children:[_,q]}):s?Object(o.jsxs)(Li,{children:[Object(o.jsx)(Fi,{onClick:function(){return m(null)},children:Object(o.jsxs)("span",{children:[Object(o.jsx)(To,{})," Back To Queue"]})}),q]}):Object(o.jsx)(Li,{children:_})}var Hi=l.a.div.withConfig({displayName:"TAQueueListDetail__EmptyQueueInfo",componentId:"sc-1mkewun-5"})(["flex:1;display:flex;flex-direction:column;align-items:center;margin-top:30px;"]),Ui=l.a.div.withConfig({displayName:"TAQueueListDetail__NoQuestionsText",componentId:"sc-1mkewun-6"})(["font-weight:500;font-size:24px;color:#212934;"]),Ki=Object(l.a)(S.a).withConfig({displayName:"TAQueueListDetail__NotifRemindButton",componentId:"sc-1mkewun-7"})(["margin-top:16px;border-radius:6px;background:#fff;"]);function Yi(e){var t=e.courseId;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(Lo.a,{href:{pathname:"/settings",query:{cid:t,defaultPage:zo.a.NOTIFICATIONS}},children:Object(o.jsx)(Ki,{children:"Sign Up for Notifications"})})})}function Gi(e){return Vi.apply(this,arguments)}function Vi(){return(Vi=Object(m.a)(j.a.mark((function e(t){var n,o,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.questions.update(t,{status:i.o.Helping});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),401===(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(null===(o=e.t0.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)===i.f.questionController.updateQuestion.otherTAHelping&&g.a.open({message:"Another TA is currently helping the student",description:"This happens when another TA clicks help at the exact same time",type:"error",duration:3,className:"hide-in-percy",style:{width:450}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var Ji=l.a.div.withConfig({displayName:"TAQueue__Container",componentId:"sc-173p98z-0"})(["flex:1;display:flex;flex-direction:column;@media (min-width:650px){flex-direction:row;}"]),Wi=Object(l.a)(Ze).withConfig({displayName:"TAQueue__HelpNextButton",componentId:"sc-173p98z-1"})(["color:white;background:#2a9187;&:hover,&:focus{color:white;background:#39aca1;}"]),Xi=Object(l.a)(Ze).withConfig({displayName:"TAQueue__EditQueueButton",componentId:"sc-173p98z-2"})(["color:#212934;"]),Zi=l.a.div.withConfig({displayName:"TAQueue__MiddleSpacer",componentId:"sc-173p98z-3"})(["margin-left:20px;"]);function $i(e){var t,n=e.qid,r=e.courseId,a=Object(te.a)(),c=Object(Oo.a)(r),s=ee(n).queue,l=X(n),d=l.questions,p=l.mutateQuestions,f=yo(n),b=f.isCheckedIn,h=f.isHelping,v=Object(u.useState)(!1),x=v[0],O=v[1],y=Object(xo.a)(r).course,g=null===y||void 0===y?void 0:y.queues.some((function(e){return e.id!==n&&e.staffList.some((function(e){return e.id===(null===a||void 0===a?void 0:a.id)}))})),w=(null===d||void 0===d?void 0:d.priorityQueue[0])||(null===d||void 0===d||null===(t=d.queue)||void 0===t?void 0:t.find((function(e){return e.status===i.p.Queued}))),C=ui(),_=di(n,null===w||void 0===w?void 0:w.creator.email,C),q=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(w.id);case 2:p(),_();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return nn("shift+h",(function(){b&&w&&!h&&q()}),[b,w,h,n,C]),s?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(Ji,{children:[Object(o.jsx)(st,{queueId:n,isStaff:!0,buttons:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Xi,{"data-cy":"editQueue",onClick:function(){return O(!0)},children:"Edit Queue Details"}),Object(o.jsx)(Q.a,{title:!b&&"You must check in to help students!",children:Object(o.jsx)(Wi,{onClick:q,disabled:!b||!w||h,"data-cy":"help-next",children:"Help Next"})}),Object(o.jsx)("div",{style:{marginBottom:"12px"},children:Object(o.jsx)(Q.a,{title:s.isDisabled&&"Cannot check into a disabled queue!",children:Object(o.jsx)(go.b,{courseId:r,room:null===s||void 0===s?void 0:s.room,disabled:g||h||s.isProfessorQueue&&c!==i.s.PROFESSOR||s.isDisabled,state:b?"CheckedIn":"CheckedOut",block:!0})})})]})}),Object(o.jsx)(Zi,{}),a&&d&&Object(o.jsx)(Mi,{queueId:n,courseId:r})]}),Object(o.jsx)(Io,{queueId:n,visible:x,onClose:function(){return O(!1)}})]}):Object(o.jsx)("div",{})}var er=l.a.div.withConfig({displayName:"qid__Container",componentId:"sc-xy2cp0-0"})(["flex:1;display:flex;flex-direction:column;"]);function tr(){var e=Object(c.useRouter)().query,t=e.cid,n=e.qid,r=Object(Oo.a)(Number(t)),s=ee(Number(n)).queue;return Object(o.jsx)(d.a,{children:Object(o.jsxs)(er,{children:[Object(o.jsx)(a.a,{children:Object(o.jsxs)("title",{children:[null===s||void 0===s?void 0:s.room," Queue | Khoury Office Hours"]})}),Object(o.jsx)(p.a,{courseId:Number(t)}),i.s.STUDENT===r?Object(o.jsx)(ho,{qid:Number(n),cid:Number(t)}):Object(o.jsx)($i,{qid:Number(n),courseId:Number(t)})]})})}},w5NM:function(e,t){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=n(1))&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configuration=null!=n?Object.assign({},n):null,this._eventSource=null,this._lastEventId=null,this._timer=null,this._listeners={},this.url=t,this.readyState=0,this.max_retry_time=3e3,null!=this._configuration&&(this._configuration.lastEventId&&(this._lastEventId=this._configuration.lastEventId,delete this._configuration.lastEventId),this._configuration.max_retry_time&&(this.max_retry_time=this._configuration.max_retry_time,delete this._configuration.max_retry_time)),this._onevent_wrapped=function(e){o._onevent(e)},this._start()}return o(e,[{key:"_start",value:function(){var e=this,t=this.url;this._lastEventId&&(-1===t.indexOf("?")?t+="?":t+="&",t+="lastEventId="+encodeURIComponent(this._lastEventId)),this._eventSource=new EventSource(t,this._configuration),this._eventSource.onopen=function(t){e._onopen(t)},this._eventSource.onerror=function(t){e._onerror(t)},this._eventSource.onmessage=function(t){e.onmessage(t)};var n=!0,o=!1,i=void 0;try{for(var r,a=Object.keys(this._listeners)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var c=r.value;this._eventSource.addEventListener(c,this._onevent_wrapped)}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}}},{key:"_onopen",value:function(e){0===this.readyState&&(this.readyState=1,this.onopen(e))}},{key:"_onerror",value:function(e){var t=this;if(1===this.readyState&&(this.readyState=0,this.onerror(e)),this._eventSource&&2===this._eventSource.readyState){this._eventSource.close(),this._eventSource=null;var n=Math.round(this.max_retry_time*Math.random());this._timer=setTimeout((function(){return t._start()}),n)}}},{key:"_onevent",value:function(e){e.lastEventId&&(this._lastEventId=e.lastEventId);var t=this._listeners[e.type];if(null!=t)for(var n=[].concat(i(t)),o=0;o<n.length;o++)(0,n[o])(e);"message"===e.type&&this.onmessage(e)}},{key:"onopen",value:function(e){}},{key:"onerror",value:function(e){}},{key:"onmessage",value:function(e){}},{key:"close",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._eventSource&&(this._eventSource.close(),this._eventSource=null),this.readyState=2}},{key:"addEventListener",value:function(e,t){var n=e.toString();n in this._listeners||(this._listeners[n]=[],this._eventSource&&this._eventSource.addEventListener(n,this._onevent_wrapped));var o=this._listeners[n];o.includes(t)||(this._listeners[n]=[].concat(i(o),[t]))}},{key:"removeEventListener",value:function(e,t){var n=e.toString();if(n in this._listeners){var o=this._listeners[n].filter((function(e){return e!==t}));o.length>0?this._listeners[n]=o:(delete this._listeners[n],this._eventSource&&this._eventSource.removeEventListener(n,this._onevent_wrapped))}}}]),e}();t.default=r}])}},[["D+6G",1,2,17,19,0,3,4,6,5,7,8,9,11,10,12,13,14,15,18,16,21,20,27]]]);