(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"D+6G":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[cid]/queue/[qid]",function(){return n("k4G0")}])},"d+ro":function(e,t,n){"use strict";var o=n("KEM+"),a=n.n(o),i=n("97Jx"),r=n.n(i),u=n("ddV6"),s=n.n(u),l=n("ERkP"),c=n("O94r"),d=n.n(c),p=n("MD6U"),f=n("PKRS"),m=n.n(f),v=n("tb/6"),h=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},b=function(e){var t,n=l.useContext(v.b).getPrefixCls,o=e.prefixCls,i=e.className,u=e.checked,s=h(e,["prefixCls","className","checked"]),c=n("tag",o),p=d()(c,(t={},a()(t,"".concat(c,"-checkable"),!0),a()(t,"".concat(c,"-checkable-checked"),u),t),i);return delete s.onChange,l.createElement("span",r()({},s,{className:p,onClick:function(t){var n=e.checked,o=e.onChange,a=e.onClick;o&&o(!n),a&&a(t)}}))},g=n("VhZz"),y=n("gQzm"),x=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},w=new RegExp("^(".concat(g.a.join("|"),")(-inverse)?$")),C=new RegExp("^(".concat(g.b.join("|"),")$")),O=function(e,t){var n,o=e.prefixCls,i=e.className,u=e.style,c=e.children,f=e.icon,h=e.color,b=e.onClose,g=e.closeIcon,O=e.closable,_=void 0!==O&&O,q=x(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),j=l.useContext(v.b),k=j.getPrefixCls,N=j.direction,I=l.useState(!0),Q=s()(I,2),S=Q[0],E=Q[1];l.useEffect((function(){"visible"in q&&E(q.visible)}),[q.visible]);var T=function(){return!!h&&(w.test(h)||C.test(h))},A=r()({backgroundColor:h&&!T()?h:void 0},u),P=T(),z=k("tag",o),L=d()(z,(n={},a()(n,"".concat(z,"-").concat(h),P),a()(n,"".concat(z,"-has-color"),h&&!P),a()(n,"".concat(z,"-hidden"),!S),a()(n,"".concat(z,"-rtl"),"rtl"===N),n),i),B=function(e){e.stopPropagation(),b&&b(e),e.defaultPrevented||"visible"in q||E(!1)},D="onClick"in q||c&&"a"===c.type,M=Object(p.default)(q,["visible"]),R=f||null,F=R?l.createElement(l.Fragment,null,R,l.createElement("span",null,c)):c,H=l.createElement("span",r()({},M,{ref:t,className:L,style:A}),F,_?g?l.createElement("div",{className:"".concat(z,"-close-icon"),onClick:B},g):l.createElement(m.a,{className:"".concat(z,"-close-icon"),onClick:B}):null);return D?l.createElement(y.a,null,H):H},_=l.forwardRef(O);_.displayName="Tag",_.CheckableTag=b;t.a=_},k4G0:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ai}));var o=n("wPNs"),a=n("ysqo"),i=n.n(a),r=n("7xIC"),u=n("ERkP"),s=n.n(u),l=n("j/s1"),c=n("NabS"),d=n("s9Vj"),p=n("fGyu"),f=n("zjfJ"),m=n("VtSi"),v=n.n(m),h=n("QsI/"),b=n("zygG"),g=n("zTld"),y=n("jMRu"),x=n("S7b9"),w=n("Mob5"),C=n("97Jx"),O=n.n(C),_=n("ddV6"),q=n.n(_),j=n("O94r"),k=n.n(j),N=n("g+9h"),I=n.n(N),Q=n("tmJt"),S=n("9xBf"),E=n("SCaQ"),T=n("BVSD"),A=n("spb8"),P=n("bu23"),z=n("tb/6"),L=n("jj3b"),B=n("oFrK"),D=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},M=u.forwardRef((function(e,t){var n=u.useState(e.visible),o=q()(n,2),a=o[0],i=o[1];u.useEffect((function(){"visible"in e&&i(e.visible)}),[e.visible]),u.useEffect((function(){"defaultVisible"in e&&i(e.defaultVisible)}),[e.defaultVisible]);var r=function(t,n){"visible"in e||i(t),e.onVisibleChange&&e.onVisibleChange(t,n)},s=function(t){r(!1,t),e.onConfirm&&e.onConfirm.call(void 0,t)},l=function(t){r(!1,t),e.onCancel&&e.onCancel.call(void 0,t)},c=u.useContext(z.b).getPrefixCls,d=e.prefixCls,p=e.placement,f=e.children,m=e.overlayClassName,v=D(e,["prefixCls","placement","children","overlayClassName"]),h=c("popover",d),b=c("popconfirm",d),g=k()(b,m),y=u.createElement(A.a,{componentName:"Popconfirm",defaultLocale:P.a.Popconfirm},(function(t){return function(t,n){var o=e.okButtonProps,a=e.cancelButtonProps,i=e.title,r=e.cancelText,c=e.okText,d=e.okType,p=e.icon;return(u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},p,u.createElement("div",{className:"".concat(t,"-message-title")},Object(L.a)(i))),u.createElement("div",{className:"".concat(t,"-buttons")},u.createElement(E.a,O()({onClick:l,size:"small"},a),r||n.cancelText),u.createElement(E.a,O()({onClick:s},Object(T.a)(d),{size:"small"},o),c||n.okText))))}(h,t)}));return u.createElement(S.a,O()({},v,{prefixCls:h,placement:p,onVisibleChange:function(t){e.disabled||r(t)},visible:a,overlay:y,overlayClassName:g,ref:t}),Object(B.a)(f,{onKeyDown:function(e){var t,n;null===(n=null===f||void 0===f?void 0:(t=f.props).onKeyDown)||void 0===n||n.call(t,e),function(e){e.keyCode===Q.a.ESC&&a&&r(!1,e)}(e)}}))}));M.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:u.createElement(I.a,null),disabled:!1};var R=M,F=n("VKn7"),H=n("JbCn"),Y=n("Xccw");var G=n("lPv2"),V=n("w5NM"),U=n.n(V),J={},K=function(e,t,n){var o=Object(u.useState)(!1),a=o[0],i=o[1];return Object(u.useEffect)((function(){if(e){var o;e in J?o=J[e]:(o={eventSource:new U.a(e),listeners:{},isLiveSetters:new Set},J[e]=o,o.eventSource.onmessage=function(e){var t=Object.values(o.listeners),n=JSON.parse(e.data);t.forEach((function(e){return e.listener(n)}))},o.eventSource.onopen=function(){return o.isLiveSetters.forEach((function(e){return e(!0)}))},o.eventSource.onerror=function(){return o.isLiveSetters.forEach((function(e){return e(!1)}))}),i(o.eventSource.readyState===EventSource.OPEN),o.isLiveSetters.add(i);var a=o.listeners[t];return o.listeners[t]?a.count++:(a={listener:n,count:1},o.listeners[t]=a),function(){a.count--,o.isLiveSetters.delete(i),0===a.count&&(delete o.listeners[t],0===Object.values(o.listeners).length&&(o.eventSource.close(),delete J[e]))}}}),[e,n,t]),a};function W(e){var t=e&&"/api/v1/queues/".concat(e,"/questions"),n=K(e&&"/api/v1/queues/".concat(e,"/sse"),"question",Object(u.useCallback)((function(e){e.questions&&Object(H.b)(t,Object(G.plainToClass)(o.n,e.questions),!1)}),[t])),a=Object(H.a)(t,Object(h.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",g.a.questions.index(Number(e)));case 1:case"end":return t.stop()}}),t)}))),{refreshInterval:n?0:1e4});return{questions:a.data,questionsError:a.error,mutateQuestions:a.mutate}}var Z={};function X(e){var t=Z[e];t.onUpdates.forEach((function(e){return e(t.lastUpdated)}))}function $(e,t){var n=e&&"/api/v1/queues/".concat(e);n in Z||(Z[n]={lastUpdated:null,onUpdates:new Set}),Object(u.useEffect)((function(){if(t){var e=Z[n];return e.onUpdates.add(t),t(e.lastUpdated),function(){e.onUpdates.delete(t)}}}),[t,n]);var a=K(e&&"/api/v1/queues/".concat(e,"/sse"),"queue",Object(u.useCallback)((function(e){e.queue&&(Object(H.b)(n,Object(G.plainToClass)(o.k,e.queue),!1),Z[n].lastUpdated=new Date,X(n))}),[n])),i=Object(H.a)(n,Object(u.useCallback)(Object(h.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",g.a.queues.get(Number(e)));case 1:case"end":return t.stop()}}),t)}))),[e]),{refreshInterval:a?0:1e4,onSuccess:function(e,t){Z[t].lastUpdated=new Date,X(t)}});return{queue:i.data,queueError:i.error,mutateQueue:i.mutate,isLive:a}}var ee=n("Ogf2");function te(e){var t=Object(ee.a)(),n=W(e),o=n.questions,a=n.questionsError,i=t&&o&&(null===o||void 0===o?void 0:o.yourQuestion),r=i&&o.queue.findIndex((function(e){return i.id===e.id}));return{studentQuestion:i,studentQuestionIndex:r,studentQuestionError:a}}var ne=n("cxan"),oe=n("PJfV"),ae=n("QsUr"),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112c-3.8 0-7.7.7-11.6 2.3L292 345.9H128c-8.8 0-16 7.4-16 16.6v299c0 9.2 7.2 16.6 16 16.6h101.7c-3.7 11.6-5.7 23.9-5.7 36.4 0 65.9 53.8 119.5 120 119.5 55.4 0 102.1-37.6 115.9-88.4l408.6 164.2c3.9 1.5 7.8 2.3 11.6 2.3 16.9 0 32-14.2 32-33.2V145.2C912 126.2 897 112 880 112zM344 762.3c-26.5 0-48-21.4-48-47.8 0-11.2 3.9-21.9 11-30.4l84.9 34.1c-2 24.6-22.7 44.1-47.9 44.1zm496 58.4L318.8 611.3l-12.9-5.2H184V417.9h121.9l12.9-5.2L840 203.3v617.4z"}}]},name:"notification",theme:"outlined"},re=n("vspj"),ue=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:ie}))};ue.displayName="NotificationOutlined";var se=u.forwardRef(ue),le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"},ce=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:le}))};ce.displayName="CloudSyncOutlined";var de=u.forwardRef(ce),pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},fe=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:pe}))};fe.displayName="FrownOutlined";var me=u.forwardRef(fe),ve=n("uZk3"),he=n.n(ve),be=n("wgY5"),ge=n.n(be),ye=n("jPdq"),xe=s.a.createElement;function we(e){var t=e.render,n=e.interval,o=Object(u.useState)({})[1],a=Object(u.useCallback)((function(){return o({})}),[]);return Object(u.useEffect)((function(){var e=setInterval((function(){a()}),n);return function(){clearInterval(e)}}),[a,n]),xe(s.a.Fragment,null,t())}var Ce=n("KEM+"),Oe=n.n(Ce),_e=n("T0aG"),qe=n.n(_e),je=n("rypG"),ke=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};function Ne(e){return e?e.toString().split("").reverse().map((function(e){var t=Number(e);return isNaN(t)?e:t})):[]}var Ie=function(e){var t=e.prefixCls,n=e.count,o=e.className,a=e.style,i=e.title,r=e.component,s=void 0===r?"sup":r,l=e.displayComponent,c=e.onAnimated,d=void 0===c?function(){}:c,p=ke(e,["prefixCls","count","className","style","title","component","displayComponent","onAnimated"]),f=u.useState(!0),m=q()(f,2),v=m[0],h=m[1],b=u.useState(n),g=q()(b,2),y=g[0],x=g[1],w=u.useState(n),C=q()(w,2),_=C[0],j=C[1],N=u.useState(n),I=q()(N,2),Q=I[0],S=I[1],E=(0,u.useContext(z.b).getPrefixCls)("scroll-number",t);_!==n&&(h(!0),j(n)),u.useEffect((function(){var e;return S(y),v&&(e=setTimeout((function(){h(!1),x(n),d()}))),function(){e&&clearTimeout(e)}}),[v,n,d]);var T=function(e,t){if("number"===typeof e){var n=function(e,t){var n=Math.abs(Number(y)),o=Math.abs(Number(Q)),a=Math.abs(Ne(y)[t]),i=Math.abs(Ne(o)[t]);return v?10+e:n>o?a>=i?10+e:20+e:a<=i?10+e:e}(e,t),o=v||void 0===Ne(Q)[t];return u.createElement("span",{className:"".concat(E,"-only"),style:{transition:o?"none":void 0,msTransform:"translateY(".concat(100*-n,"%)"),WebkitTransform:"translateY(".concat(100*-n,"%)"),transform:"translateY(".concat(100*-n,"%)")},key:t},function(e,t){for(var n=[],o=0;o<30;o++)n.push(u.createElement("p",{key:o.toString(),className:k()(t,{current:e===o})},o%10));return n}(n,"".concat(E,"-only-unit")))}return(u.createElement("span",{key:"symbol",className:"".concat(E,"-symbol")},e))},A=O()(O()({},p),{style:a,className:k()(E,o),title:i});return a&&a.borderColor&&(A.style=O()(O()({},a),{boxShadow:"0 0 0 1px ".concat(a.borderColor," inset")})),l?Object(B.a)(l,{className:k()("".concat(E,"-custom-component"),l.props&&l.props.className)}):u.createElement(s,A,y&&Number(y)%1===0?Ne(y).map((function(e,t){return T(e,t)})).reverse():y)},Qe=n("VhZz"),Se=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};function Ee(e){return-1!==Qe.a.indexOf(e)}var Te=function(e){var t,n,o=e.prefixCls,a=e.scrollNumberPrefixCls,i=e.children,r=e.status,s=e.text,l=e.color,c=e.count,d=void 0===c?null:c,p=e.overflowCount,f=void 0===p?99:p,m=e.dot,v=void 0!==m&&m,h=e.title,b=e.offset,g=e.style,y=e.className,x=e.showZero,w=void 0!==x&&x,C=Se(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","title","offset","style","className","showZero"]),_=u.useContext(z.b),q=_.getPrefixCls,j=_.direction,N=q("badge",o),I=function(){return d>f?"".concat(f,"+"):d},Q=function(){return!!r||!!l},S=function(){var e=I();return"0"===e||0===e},E=function(){return v&&!S()||Q()},T=function(){return E()?"":I()},A=function(){return"rtl"===j?b?O()({left:parseInt(b[0],10),marginTop:b[1]},g):g:b?O()({right:-parseInt(b[0],10),marginTop:b[1]},g):g},P=function(){var e=T();return(null===e||void 0===e||""===e||S()&&!w)&&!E()},L=function(){var e=d;if(e&&"object"===qe()(e))return Object(B.a)(e,{style:O()(O()({},A()),e.props&&e.props.style)})},D=k()((t={},Oe()(t,"".concat(N,"-status-dot"),Q()),Oe()(t,"".concat(N,"-status-").concat(r),!!r),Oe()(t,"".concat(N,"-status-").concat(l),Ee(l)),t)),M={};l&&!Ee(l)&&(M.background=l);var R=k()(y,N,(n={},Oe()(n,"".concat(N,"-status"),Q()),Oe()(n,"".concat(N,"-not-a-wrapper"),!i),Oe()(n,"".concat(N,"-rtl"),"rtl"===j),n));if(!i&&Q()){var F=A(),H=F&&F.color;return u.createElement("span",O()({},C,{className:R,style:F}),u.createElement("span",{className:D,style:M}),u.createElement("span",{style:{color:H},className:"".concat(N,"-status-text")},s))}return(u.createElement("span",O()({},C,{className:R}),i,u.createElement(je.a,{component:"",showProp:"data-show",transitionName:i?"".concat(N,"-zoom"):"",transitionAppear:!0},function(){var e,t=q("scroll-number",a),n=T(),o=E(),i=P(),s=k()((e={},Oe()(e,"".concat(N,"-dot"),o),Oe()(e,"".concat(N,"-count"),!o),Oe()(e,"".concat(N,"-multiple-words"),!o&&d&&d.toString&&d.toString().length>1),Oe()(e,"".concat(N,"-status-").concat(r),!!r),Oe()(e,"".concat(N,"-status-").concat(l),Ee(l)),e)),c=A();return l&&!Ee(l)&&((c=c||{}).background=l),i?null:u.createElement(Ie,{prefixCls:t,"data-show":!i,className:s,count:n,displayComponent:L(),title:h||("string"===typeof d||"number"===typeof d?d:void 0),style:c,key:"scrollNumber"})}()),P()||!s?null:u.createElement("span",{className:"".concat(N,"-status-text")},s)))},Ae=n("FRUG"),Pe=s.a.createElement;function ze(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){u=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(u)throw i}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Be(e){var t=e.queueId,n=W(t).questions,o=$(t).queue.staffList;if(!n)return null;var a,i={},r=o.map((function(e){return e.id})),u=n.questionsGettingHelp,s=n.groups,l=ze(u);try{for(l.s();!(a=l.n()).done;){var c,d=a.value;r.includes(null===(c=d.taHelped)||void 0===c?void 0:c.id)&&(i[d.taHelped.id]=d)}}catch(p){l.e(p)}finally{l.f()}return Pe(F.a,null,o.map((function(e){var t,n,o;return Pe(F.a,{key:e.id},Pe(He,{taName:e.name,taPhotoURL:e.photoURL,studentName:null===(t=i[e.id])||void 0===t?void 0:null===(n=t.creator)||void 0===n?void 0:n.name,helpedAt:null===(o=i[e.id])||void 0===o?void 0:o.helpedAt,grouped:s.some((function(t){return t.creator.id===e.id}))}))})))}var De=l.a.div.withConfig({displayName:"TAStatuses__StyledCard",componentId:"sc-1buidjq-0"})(["background:#ffffff;box-shadow:0px 2px 8px rgba(0,0,0,0.15);border-radius:6px;padding:16px;display:flex;margin-bottom:16px;"]),Me=l.a.div.withConfig({displayName:"TAStatuses__CardContent",componentId:"sc-1buidjq-1"})(["margin-left:16px;flex-grow:1;"]),Re=l.a.div.withConfig({displayName:"TAStatuses__TAName",componentId:"sc-1buidjq-2"})(["font-weight:bold;color:#212934;"]),Fe=l.a.div.withConfig({displayName:"TAStatuses__HelpingInfo",componentId:"sc-1buidjq-3"})(["margin-top:5px;font-style:italic;"]);function He(e){var t=e.taName,n=e.taPhotoURL,o=e.studentName,a=e.helpedAt,i=e.grouped,r=!!a;return Pe(De,{"data-cy":"ta-status-card"},Pe(Ae.a,{size:48,name:t,photoURL:n,style:{flexShrink:0}}),Pe(Me,null,Pe(x.a,{justify:"space-between"},Pe(Re,null,t),Pe("span",null,Pe(Te,{status:r?"processing":"success"}),r?"Busy":"Available")),Pe(Fe,null,i?"Helping a group":r?Pe(Ge,{studentName:o,helpedAt:a}):"Looking for my next student...")))}var Ye=l.a.span.withConfig({displayName:"TAStatuses__BlueSpan",componentId:"sc-1buidjq-4"})(["color:#66a3d6;"]);function Ge(e){var t=e.studentName,n=e.helpedAt;return Pe(we,{render:function(){return Pe("span",null,"Helping ",Pe(Ye,null,null!==t&&void 0!==t?t:"a student")," for"," ",Pe(Ye,null,Object(ye.b)((Date.now()-n.getTime())/6e4)))},interval:6e4})}var Ve=s.a.createElement,Ue=(l.a.div.withConfig({displayName:"QueueListSharedComponents__Container",componentId:"sc-1abq9vy-0"})(["display:flex;flex-direction:row;align-items:center;"]),l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueTitle",componentId:"sc-1abq9vy-1"})(["font-weight:500;font-size:24px;color:#212934;"])),Je=(l.a.div.withConfig({displayName:"QueueListSharedComponents__NotesText",componentId:"sc-1abq9vy-2"})(["font-size:16px;color:#5f6b79;"]),l.a.div.withConfig({displayName:"QueueListSharedComponents__InfoColumnContainer",componentId:"sc-1abq9vy-3"})(["flex-shrink:0;padding-bottom:30px;@media (min-width:650px){margin-top:32px;width:290px;}"])),Ke=Object(l.a)(E.a).withConfig({displayName:"QueueListSharedComponents__QueueInfoColumnButtonStyle",componentId:"sc-1abq9vy-4"})(["font-weight:500;font-size:14px;border:1px solid #cfd6de;border-radius:6px;margin-bottom:12px;"]),We=function(e){return Ve(Ke,Object(ne.a)({size:"large",block:!0},e))},Ze=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyRow",componentId:"sc-1abq9vy-5"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:20px;color:#5f6b79;font-size:20px;"]),Xe=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueuePropertyText",componentId:"sc-1abq9vy-6"})(["margin-left:12px;font-size:16px;min-width:0;overflow-wrap:break-word;white-space:pre-wrap;"]),$e=l.a.h2.withConfig({displayName:"QueueListSharedComponents__StaffH2",componentId:"sc-1abq9vy-7"})(["margin-top:32px;"]),et=l.a.div.withConfig({displayName:"QueueListSharedComponents__QueueRoomGroup",componentId:"sc-1abq9vy-8"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:24px;"]);function tt(e){var t=e.queueId,n=e.buttons,o=$(t).queue;return Ve(Je,null,Ve(et,null,Ve(Ue,null,null===o||void 0===o?void 0:o.room),!o.allowQuestions&&Ve(S.a,{title:"This queue is no longer accepting questions"},Ve(oe.a,{"data-cy":"stopQuestions",style:{color:"red",fontSize:"24px",marginLeft:"8px"}}))),o.startTime&&o.endTime&&Ve(Ze,null,Ve(ae.a,null),Ve(Xe,{className:"hide-in-percy"},Object(ye.a)(o))),(null===o||void 0===o?void 0:o.notes)&&Ve(Ze,null,Ve(se,null),Ve(he.a,{componentDecorator:function(e,t,n){return Ve("a",{target:"_blank",rel:"noopener noreferrer",href:e,key:n},t)}},Ve(Xe,null,o.notes))),Ve(nt,{queueId:t}),n,Ve($e,null,"Staff"),Ve(Be,{queueId:t}))}function nt(e){var t=e.queueId,n=Object(u.useState)(null),o=n[0],a=$(t,n[1]).isLive;return Ve(Ze,{className:"hide-in-percy"},Ve(a||o?de:me,null),Ve(Xe,{className:"hide-in-percy"},a?"Queue up to date":o?Ve(we,{render:function(){var e=(Date.now()-o.getTime())/1e3;return"Queue updated ".concat(e<60?Math.ceil(e)+"s":ge()(o).fromNow(!0)," ago")},interval:1e3}):"Queue may be out of date"))}var ot=n("/zI6"),at=n("PKRS"),it=n.n(at),rt=n("/s6T"),ut=n.n(rt),st=n("Lq3g"),lt=n.n(st),ct=n("jfOX"),dt=n.n(ct),pt=n("yBrk"),ft=n.n(pt),mt=n("pKF9"),vt=n.n(mt),ht=n("naMz"),bt=n.n(ht),gt=n("+O3j"),yt=n.n(gt);var xt=n("VrFO"),wt=n.n(xt),Ct=n("Y9Ll"),Ot=n.n(Ct),_t=n("5Yy7"),qt=n.n(_t),jt=n("2VqO"),kt=n.n(jt),Nt=function(e){qt()(n,e);var t=kt()(n);function n(){var e;return wt()(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return Ot()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,o=e.children,a=this.state,i=a.error,r=a.info,s=r&&r.componentStack?r.componentStack:null,l="undefined"===typeof t?(i||"").toString():t,c="undefined"===typeof n?s:n;return i?u.createElement(Tt,{type:"error",message:l,description:u.createElement("pre",null,c)}):o}}]),n}(u.Component),It=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},Qt={success:vt.a,info:bt.a,error:yt.a,warning:I.a},St={success:ut.a,info:dt.a,error:ft.a,warning:lt.a},Et=function(e){var t,n=e.description,o=e.prefixCls,a=e.message,i=e.banner,r=e.className,s=void 0===r?"":r,l=e.style,c=e.onMouseEnter,d=e.onMouseLeave,p=e.onClick,f=e.showIcon,m=e.closable,v=e.closeText,h=It(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","showIcon","closable","closeText"]),b=u.useState(!1),g=q()(b,2),y=g[0],x=g[1],w=u.useState(!1),C=q()(w,2),_=C[0],j=C[1],N=u.useRef(),I=u.useContext(z.b),Q=I.getPrefixCls,S=I.direction,E=Q("alert",o),T=function(e){var t;x(!0),null===(t=h.onClose)||void 0===t||t.call(h,e)},A=!!v||m,P=function(){var e=h.type;return void 0!==e?e:i?"warning":"info"}(),L=!(!i||void 0!==f)||f,D=k()(E,"".concat(E,"-").concat(P),(t={},Oe()(t,"".concat(E,"-closing"),y),Oe()(t,"".concat(E,"-with-description"),!!n),Oe()(t,"".concat(E,"-no-icon"),!L),Oe()(t,"".concat(E,"-banner"),!!i),Oe()(t,"".concat(E,"-closable"),A),Oe()(t,"".concat(E,"-rtl"),"rtl"===S),t),s),M=function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(h);return _?null:u.createElement(je.a,{component:"",showProp:"data-show",transitionName:"".concat(E,"-slide-up"),onEnd:function(){var e;x(!1),j(!0),null===(e=h.afterClose)||void 0===e||e.call(h)}},u.createElement("div",O()({ref:N,"data-show":!y,className:D,style:l,onMouseEnter:c,onMouseLeave:d,onClick:p},M),L?function(){var e=h.icon,t=(n?St:Qt)[P]||null;return e?Object(B.c)(e,u.createElement("span",{className:"".concat(E,"-icon")},e),(function(){return{className:k()("".concat(E,"-icon"),Oe()({},e.props.className,e.props.className))}})):u.createElement(t,{className:"".concat(E,"-icon")})}():null,u.createElement("span",{className:"".concat(E,"-message")},a),u.createElement("span",{className:"".concat(E,"-description")},n),A?u.createElement("button",{type:"button",onClick:T,className:"".concat(E,"-close-icon"),tabIndex:0},v?u.createElement("span",{className:"".concat(E,"-close-text")},v):u.createElement(it.a,null)):null))};Et.ErrorBoundary=Nt;var Tt=Et,At=n("NwOV"),Pt=n("BmDy");function zt(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}var Lt=s.a.createElement;function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=l.a.div.withConfig({displayName:"QuestionForm__Container",componentId:"sc-1wkgpcq-0"})(["max-width:960px;"]),Rt=l.a.div.withConfig({displayName:"QuestionForm__QuestionText",componentId:"sc-1wkgpcq-1"})(["font-weight:normal;font-size:14px;line-height:22px;margin-bottom:4px;"]),Ft=l.a.div.withConfig({displayName:"QuestionForm__QuestionCaption",componentId:"sc-1wkgpcq-2"})(["font-weight:300;font-size:14px;line-height:22px;color:#8c8c8c;margin-bottom:32px;"]),Ht=Object(l.a)(E.a).withConfig({displayName:"QuestionForm__FormButton",componentId:"sc-1wkgpcq-3"})(["margin-left:8px;"]),Yt=Object(l.a)(E.a).withConfig({displayName:"QuestionForm__SaveChangesButton",componentId:"sc-1wkgpcq-4"})(["margin-left:8px;background:#3684c6;"]);function Gt(e){var t=e.visible,n=e.question,a=e.leaveQueue,i=e.finishQuestion,s=e.position,l=e.cancel,c=Object(Y.a)("draftQuestion",null),d=Object(b.a)(c,2),p=d[0],f=d[1],m=Object(r.useRouter)(),v=m.query.cid,h=(null===n||void 0===n?void 0:n.status)===o.o.Drafting,g=(null===n||void 0===n?void 0:n.status)===o.o.Helping,y=Object(u.useState)((null===n||void 0===n?void 0:n.questionType)||null),x=y[0],w=y[1],C=Object(u.useState)((null===n||void 0===n?void 0:n.text)||""),O=C[0],_=C[1],q=Object(u.useState)(void 0!==(null===n||void 0===n?void 0:n.groupable)&&(null===n||void 0===n?void 0:n.groupable)),j=q[0],k=q[1];Object(u.useEffect)((function(){n&&!t&&(_(n.text),w(n.questionType))}),[n,t]);return Lt(ot.a,{visible:t,closable:!0,onCancel:function(){f(n),l()},title:h?"Describe your question":"Edit your question",footer:Lt("div",null,h?Lt(Ht,{danger:!0,onClick:a},"Leave Queue"):Lt(Ht,{onClick:l},"Cancel"),Lt(Yt,{"data-cy":"finishQuestion",type:"primary",disabled:!x||!O||""===O,onClick:function(){x&&O&&""!==O&&i(O,x,j,m,Number(v))}},h?"Finish":"Save Changes"))},Lt(Mt,null,h&&Lt(Tt,{style:{marginBottom:"32px"},message:"You are currently ".concat(zt(s)," in queue"),description:"Your spot in queue has been temporarily reserved. Please describe your question to finish joining the queue.",type:"success",showIcon:!0}),g&&Lt(Tt,{style:{marginBottom:"32px"},message:"A TA is coming to help you",description:"Please click 'Save Changes' to submit what you've filled out",type:"info",showIcon:!0}),Lt(Rt,null,"What category does your question fall under?"),Lt(At.default.Group,{value:x,onChange:function(e){w(e.target.value);var t=null!==p&&void 0!==p?p:{};f(Dt(Dt({id:null===n||void 0===n?void 0:n.id},t),{},{questionType:e.target.value}))},buttonStyle:"solid",style:{marginBottom:48}},Lt(At.default.Button,{value:o.q.Concept},"Concept"),Lt(At.default.Button,{value:o.q.Clarification},"Clarification"),Lt(At.default.Button,{value:o.q.Testing},"Testing"),Lt(At.default.Button,{value:o.q.Bug},"Bug"),Lt(At.default.Button,{value:o.q.Setup},"Setup"),Lt(At.default.Button,{value:o.q.Other},"Other")),Lt(Rt,null,"What do you need help with?"),Lt(Pt.a.TextArea,{"data-cy":"questionText",value:O,placeholder:"I\u2019m having trouble understanding list abstractions, particularly in Assignment 5.",autoSize:{minRows:3,maxRows:6},onChange:function(e){_(e.target.value);var t=null!==p&&void 0!==p?p:{};f(Dt(Dt({id:null===n||void 0===n?void 0:n.id},t),{},{text:e.target.value}))}}),Lt(Ft,null,"Be as descriptive and specific as possible in your answer. Your name will be hidden to other students, but your question will be visible so don't frame your question in a way that gives away the answer."),Lt(Rt,null,"Would you like the option of being helped in a group session?"),Lt(At.default.Group,{value:j,onChange:function(e){k(e.target.value);var t=null!==p&&void 0!==p?p:{};f(Dt(Dt({id:null===n||void 0===n?void 0:n.id},t),{},{groupable:e.target.value}))},style:{marginBottom:5}},Lt(At.default,{value:!0},"Yes"),Lt(At.default,{value:!1},"No")),Lt(Ft,null,"Clicking Yes may result in a shorter wait time if others have the same question as you.")))}var Vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M819.8 512l102.4-122.9a8.06 8.06 0 00-6.1-13.2h-54.7c-2.4 0-4.6 1.1-6.1 2.9L782 466.7l-73.1-87.8a8.1 8.1 0 00-6.1-2.9H648c-1.9 0-3.7.7-5.1 1.9a7.97 7.97 0 00-1 11.3L744.2 512 641.8 634.9a8.06 8.06 0 006.1 13.2h54.7c2.4 0 4.6-1.1 6.1-2.9l73.1-87.8 73.1 87.8a8.1 8.1 0 006.1 2.9h55c1.9 0 3.7-.7 5.1-1.9 3.4-2.8 3.9-7.9 1-11.3L819.8 512zM536 464H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h416c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-84 204h-60c-3.3 0-6 2.7-6 6v166H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6h292c16.6 0 30-13.4 30-30V674c0-3.3-2.7-6-6-6zM136 184h250v166c0 3.3 2.7 6 6 6h60c3.3 0 6-2.7 6-6V142c0-16.6-13.4-30-30-30H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6z"}}]},name:"delete-row",theme:"outlined"},Ut=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:Vt}))};Ut.displayName="DeleteRowOutlined";var Jt=u.forwardRef(Ut),Kt=n("xdJY"),Wt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},Zt=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:Wt}))};Zt.displayName="TeamOutlined";var Xt=u.forwardRef(Zt),$t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},en=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:$t}))};en.displayName="UndoOutlined";var tn=u.forwardRef(en),nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},on=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:nn}))};on.displayName="CheckOutlined";var an=u.forwardRef(on),rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},un=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:rn}))};un.displayName="CloseOutlined";var sn=u.forwardRef(un),ln=s.a.createElement,cn=l.a.div.withConfig({displayName:"Banner__BannerContainer",componentId:"sc-13za7xs-0"})(["width:100%;"]),dn=l.a.div.withConfig({displayName:"Banner__TitleContainer",componentId:"sc-13za7xs-1"})(["background:",";padding-left:24px;padding-right:16px;min-height:60px;border-radius:6px 6px 0 0;position:relative;box-shadow:0px 2px 8px rgba(0,0,0,0.15);display:flex;align-items:center;justify-content:space-between;"],(function(e){return e.color||"#8895A6"})),pn=l.a.div.withConfig({displayName:"Banner__Title",componentId:"sc-13za7xs-2"})(["font-weight:300;font-size:24px;color:white;"]),fn=l.a.div.withConfig({displayName:"Banner__ButtonContainer",componentId:"sc-13za7xs-3"})(["display:flex;flex-flow:row wrap;margin-right:10px;"]),mn=l.a.div.withConfig({displayName:"Banner__ContentContainer",componentId:"sc-13za7xs-4"})(["background:",";padding:12px 24px;border-radius:0 0 6px 6px;"],(function(e){return e.color||"#CFD6DE"}));function vn(e){return ln(cn,{"data-cy":"banner"},ln(dn,{color:e.titleColor},ln(pn,null,e.title),ln(fn,null,e.buttons)),ln(mn,{color:e.contentColor},e.content))}var hn=Object(l.a)((function(e){var t=Object(ne.a)({},e);return ln(E.a,Object(ne.a)({size:"large",shape:"circle"},t))})).withConfig({displayName:"Banner__BannerButton",componentId:"sc-13za7xs-5"})(["margin-left:16px;border:0;background:#fff;"]),bn=Object(l.a)(hn).withConfig({displayName:"Banner__BannerPrimaryButton",componentId:"sc-13za7xs-6"})(["",";background:#3684c6;color:#fff;&:hover,&:focus{background:#3c93dd;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),gn=Object(l.a)(hn).withConfig({displayName:"Banner__BannerDangerButton",componentId:"sc-13za7xs-7"})(["",";background:#e26567;color:#fff;&:hover,&:focus{background:#fc7f81;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),yn=(Object(l.a)(hn).withConfig({displayName:"Banner__BannerOrangeButton",componentId:"sc-13za7xs-8"})(["",";background:#ff8c00;color:#fff;&:hover,&:focus{background:#ffa700;color:#fff;}"],(function(e){return e.disabled&&"pointer-events: none"})),Object(l.a)(hn).withConfig({displayName:"Banner__FinishHelpingButton",componentId:"sc-13za7xs-9"})(["border:0;background:#66bb6a;color:#fff;&:hover,&:focus{background:#82c985;color:#fff;}"])),xn=Object(l.a)(hn).withConfig({displayName:"Banner__CantFindButton",componentId:"sc-13za7xs-10"})(["background:#fff;border:1px solid #e26567;color:#e26567;&:hover,&:focus{background:#fc7f81;color:#fff;}"]),wn=Object(l.a)(hn).withConfig({displayName:"Banner__RequeueButton",componentId:"sc-13za7xs-11"})(["background:#ffffff;border:1px solid #f0f0f0;color:#000000;&:hover,&:focus{background:#f0f0f0;color:#000000;}"]),Cn=s.a.createElement,On=l.a.span.withConfig({displayName:"StudentBanner__BoldNumber",componentId:"znqvhq-0"})(["font-weight:bold;"]),_n=l.a.div.withConfig({displayName:"StudentBanner__QuestionDetails",componentId:"znqvhq-1"})(["display:flex;"]),qn=l.a.div.withConfig({displayName:"StudentBanner__InfoHeader",componentId:"znqvhq-2"})(["font-weight:bold;font-size:14px;font-variant:small-caps;"]),jn=l.a.ul.withConfig({displayName:"StudentBanner__Bullets",componentId:"znqvhq-3"})(["color:#000;"]),kn=Object(l.a)(F.a).withConfig({displayName:"StudentBanner__ColWithRightMargin",componentId:"znqvhq-4"})(["margin-right:32px;"]),Nn=l.a.span.withConfig({displayName:"StudentBanner__PriorityQueuedBanner",componentId:"znqvhq-5"})(["display:flex;flex-direction:column;margin:12px 0;"]);function In(e){var t=e.queueId,n=e.editQuestion,a=e.leaveQueue,i=te(t),r=i.studentQuestion,u=i.studentQuestionIndex;switch(null===r||void 0===r?void 0:r.status){case"Drafting":return Cn(vn,{titleColor:"#faad14",contentColor:"#ffd666",title:"Please finish writing your question",content:"Your spot in queue has been temporarily reserved. Please finish describing your question to receive help and finish joining the queue.",buttons:Cn(s.a.Fragment,null,Cn(S.a,{title:"Delete Draft"},Cn(hn,{icon:Cn(Jt,null),onClick:a})),Cn(S.a,{title:"Finish Draft"},Cn(hn,{"data-cy":"edit-question",icon:Cn(Kt.a,null),onClick:Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))})))});case"Queued":return Cn(vn,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Cn("span",null,"You are"," ",Cn(On,null,zt(u+1))," in queue"),buttons:Cn(s.a.Fragment,null,Cn(Qn,{leaveQueue:a}),Cn(S.a,{title:"Edit Question"},Cn(hn,{"data-cy":"edit-question",icon:Cn(Kt.a,null),onClick:n}))),content:Cn(Sn,{studentQuestion:r})});case"Helping":return Cn(vn,{titleColor:"#66BB6A",contentColor:"#82C985",title:Cn("span",null,Cn(On,null,r.taHelped.name)," is coming to help you"),buttons:Cn(s.a.Fragment,null,Cn(Qn,{leaveQueue:a}),r.isOnline&&Cn(S.a,{title:"Open Teams DM"},Cn(hn,{icon:Cn(Xt,null),onClick:function(){window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(r.taHelped.email))}}))),content:Cn(jn,null,Cn("li",null,"Please be dressed appropriately"),Cn("li",null,"Be respectful of the TA\u2019s time"),Cn("li",null,"Come prepared with your question!"))});case"ReQueueing":return Cn(vn,{titleColor:"#66BB6A",contentColor:"#82C985",title:Cn("span",null,"Are you ready to re-join the queue?"),buttons:Cn(s.a.Fragment,null,Cn(Qn,{leaveQueue:a}),Cn(S.a,{title:"Rejoin Queue"},Cn(E.a,{shape:"circle",style:{marginLeft:"16px",border:0},icon:Cn(tn,null),onClick:Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.questions.update(r.id,{status:o.o.PriorityQueued});case 2:case"end":return e.stop()}}),e)}))),type:"primary","data-cy":"re-join-queue",size:"large"}))),content:Cn(jn,null,Cn("li",null,"Have you finished doing what the TA has told you?"),Cn("li",null,"Once you hit requeue, you will be placed at the top of the queue"))});case"PriorityQueued":return Cn(vn,{titleColor:"#3684C6",contentColor:"#ABD4F3",title:Cn(Nn,null,"You are now in a priority queue, you will be helped soon. ",Cn("br",null),Cn("span",{style:{fontSize:16}},"You were last helped by"," ",Cn("span",{style:{fontWeight:"bold"}},r.taHelped.name),".")),buttons:Cn(s.a.Fragment,null,Cn(Qn,{leaveQueue:a}),Cn(S.a,{title:"Edit Question"},Cn(hn,{"data-cy":"edit-question",icon:Cn(Kt.a,null),onClick:n}))),content:Cn(Sn,{studentQuestion:r})});default:return Cn("div",null)}}function Qn(e){var t=e.leaveQueue;return Cn(R,{title:"Are you sure you want to leave the queue?",okText:"Yes",cancelText:"No",onConfirm:t},Cn(S.a,{title:"Leave Queue"},Cn(gn,{"data-cy":"leave-queue",icon:Cn(Jt,null)})))}function Sn(e){var t=e.studentQuestion;return Cn(_n,null,Cn(kn,{flex:"4 4"},Cn(qn,null,"question"),Cn("div",null,t.text)),Cn(F.a,{flex:"0.5 0.5 95px"},Cn(qn,null,"type"),Cn("div",null,t.questionType)),Cn(F.a,{flex:"0 0 89px"},Cn(qn,null,"groupable"),Cn("div",null,t.groupable?Cn(an,null):Cn(sn,null))))}var En=n("9RnG"),Tn=n.n(En),An=s.a.createElement;function Pn(e){return An(Tn.a,{visible:e.visible,footer:[An(E.a,{key:"leave",danger:!0,onClick:e.leaveQueue},"Leave Queue"),An(E.a,{type:"primary",key:"rejoin",onClick:e.rejoinQueue},"Rejoin Queue")],closable:!1,title:"You couldn't be found!"},"A TA tried to help you, but couldn't reach you. Are you still in the queue? If you are, make sure you have Teams open, and rejoin the queue.")}var zn=n("5oqr"),Ln=n("d+ro"),Bn=(Object(l.a)(y.a).withConfig({displayName:"QueueCardSharedComponents__HorizontalTACard",componentId:"sc-3faov6-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;color:#595959;&:hover{cursor:pointer;}"]),Object(l.a)(zn.a).withConfig({displayName:"QueueCardSharedComponents__Photo",componentId:"sc-3faov6-1"})(["margin-right:16px;@media (max-width:992px){display:none;}"]),l.a.div.withConfig({displayName:"QueueCardSharedComponents__Rank",componentId:"sc-3faov6-2"})(["font-size:14px;line-height:22px;font-weight:500;color:#595959;"]),l.a.div.withConfig({displayName:"QueueCardSharedComponents__Text",componentId:"sc-3faov6-3"})(["font-size:14px;line-height:22px;color:#595959;"])),Dn=(Object(l.a)(Ln.a).withConfig({displayName:"QueueCardSharedComponents__StatusTag",componentId:"sc-3faov6-4"})(["width:96px;text-align:center;float:right;margin-right:0;border:1px solid;box-sizing:border-box;border-radius:4px;"]),Object(l.a)(x.a).withConfig({displayName:"QueueCardSharedComponents__CenterRow",componentId:"sc-3faov6-5"})(["align-items:center;"]));var Mn=s.a.createElement,Rn=Object(l.a)(y.a).withConfig({displayName:"StudentQueueCard__HorizontalStudentCard",componentId:"sc-1ct7xlx-0"})(["margin-bottom:8px;box-shadow:0px 2px 8px rgba(0,0,0,0.15);background:#ffffff;border-radius:6px;padding-left:8px;padding-right:8px;color:#595959;"]),Fn={backgroundColor:"#F6FFED"};function Hn(e){var t=e.question,n=e.rank,o=e.highlighted;return Mn(Rn,{style:o?Fn:{},bordered:!o},Mn(Dn,null,Mn(F.a,{flex:"0 0 64px"},Mn(Bn,null,n)),Mn(F.a,{flex:"1 1"},Mn(Bn,null,t.text)),Mn(F.a,{flex:"0 0 80px"},Mn(Bn,null,Object(ye.c)(t)))))}var Yn=s.a.createElement;function Gn(e){var t;return Yn(Tn.a,{visible:(null===(t=e.question)||void 0===t?void 0:t.status)===o.m.TADeleted,footer:[Yn(E.a,{key:"leave",danger:!0,onClick:e.leaveQueue},"Leave Queue"),Yn(E.a,{type:"primary",key:"rejoin",onClick:e.joinQueue},"Rejoin Queue")],closable:!1},"You've been removed from the queue by a TA. If you have any questions, please reach out to the TA. If you'd like to join back into the queue with your previous question, click Rejoin Queue, otherwise click Leave Queue.")}var Vn=s.a.createElement;function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn=l.a.div.withConfig({displayName:"StudentQueue__Container",componentId:"sc-1qu48se-0"})(["flex:1;display:flex;flex-direction:column;margin-top:10px;@media (min-width:650px){margin-top:0;flex-direction:row;height:100%;}"]),Wn=l.a.div.withConfig({displayName:"StudentQueue__QueueListContainer",componentId:"sc-1qu48se-1"})(["flex-grow:1;@media (min-width:650px){margin-top:32px;}"]),Zn=Object(l.a)(We).withConfig({displayName:"StudentQueue__JoinButton",componentId:"sc-1qu48se-2"})(["background-color:#3684c6;color:white;"]),Xn=l.a.div.withConfig({displayName:"StudentQueue__VerticalDivider",componentId:"sc-1qu48se-3"})(["@media (min-width:650px){border-right:1px solid #cfd6de;margin:0 16px;}@media (min-width:1000px){margin:0 32px;}"]),$n=Object(l.a)(y.a).withConfig({displayName:"StudentQueue__StudentHeaderCard",componentId:"sc-1qu48se-4"})(["height:64px;padding-left:8px;padding-right:8px;background:inherit;"]),eo=l.a.div.withConfig({displayName:"StudentQueue__HeaderText",componentId:"sc-1qu48se-5"})(["font-size:14px;font-weight:500;line-height:22px;color:#8895a6;font-variant:small-caps;"]),to=Object(l.a)(x.a).withConfig({displayName:"StudentQueue__CenterRow",componentId:"sc-1qu48se-6"})(["align-items:center;"]);function no(e){var t=e.qid,n=$(t).queue,a=W(t),i=a.questions,l=a.mutateQuestions,c=te(t),d=c.studentQuestion,f=c.studentQuestionIndex,m=Object(Y.a)("isFirstQuestion",!0),y=Object(b.a)(m,2),x=y[0],C=y[1],O=Object(u.useState)(!1),_=O[0],q=O[1],j=function(){var e=Object(Y.a)("draftQuestion",null),t=Object(b.a)(e,3),n=t[0],o=t[1],a=t[2];return{draftQuestion:n,setDraftQuestion:o,deleteDraftQuestion:function(){return a()}}}().deleteDraftQuestion,k=Object(u.useState)(i&&d&&(null===d||void 0===d?void 0:d.status)!==o.o.Queued),N=k[0],I=k[1],Q=Object(u.useState)(!1),S=Q[0],E=Q[1],T=Object(r.useRouter)(),A=Boolean(T.query.edit_question),P=Object(u.useState)(!0),z=P[0],L=P[1];Object(u.useEffect)((function(){A&&z&&d&&(Object(H.b)("/api/v1/queues/".concat(t,"/questions")),E(!0),L(!1))}),[A,t,d,z]);var B=null===d||void 0===d?void 0:d.id,D=null===d||void 0===d?void 0:d.status,M=Object(u.useCallback)(Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.questions.update(B,{status:o.b.ConfirmedDeleted});case 2:return I(!1),e.next=5,l();case 5:case"end":return e.stop()}}),e)}))),[l,B]),F=Object(u.useCallback)(Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.questions.update(B,{status:o.o.PriorityQueued});case 2:return e.next=4,l();case 4:case"end":return e.stop()}}),e)}))),[l,B]),G=Object(u.useCallback)(function(){var e=Object(h.a)(v.a.mark((function e(t,n,a){var r,u,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={text:t,questionType:n,groupable:a,status:D===o.o.Drafting?o.o.Queued:D},e.next=3,g.a.questions.update(B,u);case 3:s=e.sent,c=null===i||void 0===i?void 0:null===(r=i.queue)||void 0===r?void 0:r.map((function(e){return e.id===B?s:e})),l(Jn(Jn({},i),{},{yourQuestion:s,queue:c}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),[D,B,i,l]),V=Object(u.useCallback)(Object(h.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.questions.update(null===d||void 0===d?void 0:d.id,{status:o.b.ConfirmedDeleted});case 2:return e.next=4,l();case 4:return e.next=6,g.a.questions.create({text:d.text,questionType:null===d||void 0===d?void 0:d.questionType,queueId:t,isOnline:null===d||void 0===d?void 0:d.isOnline,location:null===d||void 0===d?void 0:d.location,force:!0,groupable:!1});case 6:return n=e.sent,e.next=9,g.a.questions.update(n.id,{status:o.o.Queued});case 9:return e.next=11,l();case 11:case"end":return e.stop()}}),e)}))),[l,t,d]),U=Object(u.useCallback)(Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(H.b)("/api/v1/queues/".concat(t,"/questions")),E(!0);case 2:case"end":return e.stop()}}),e)}))),[t]),J=Object(u.useCallback)((function(){E(!1),I(!1)}),[]),K=Object(u.useCallback)((function(){j(),M(),J()}),[j,M,J]),Z=Object(u.useCallback)(function(){var e=Object(h.a)(v.a.mark((function e(n){var a,r,u,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.questions.create({queueId:Number(t),text:"",force:n,questionType:null,groupable:!1});case 3:return a=e.sent,r=[].concat(Object(p.a)(null===i||void 0===i?void 0:i.queue),[a]),e.next=7,l(Jn(Jn({},i),{},{queue:r}));case 7:return E(!0),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(0),!(null===(u=e.t0.response)||void 0===u?void 0:null===(s=u.data)||void 0===s?void 0:null===(c=s.message)||void 0===c?void 0:c.includes(o.f.questionController.createQuestion.oneQuestionAtATime))){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[l,t,i]),X=Object(u.useCallback)((function(e,t,n,o,a){j(),G(e,t,n),J(),x&&w.a.warn({style:{cursor:"pointer"},message:"Enable Notifications",className:"hide-in-percy",description:"Turn on notifications for when it's almost your turn to get help.",placement:"bottomRight",duration:0,onClick:function(){w.a.destroy(),C(!1),o.push("/settings?cid=".concat(a))}})}),[j,G,J,x,C]);return n&&i?n.isOpen?Vn(s.a.Fragment,null,Vn(Kn,null,Vn(Pn,{visible:(null===d||void 0===d?void 0:d.status)===o.m.CantFind,leaveQueue:M,rejoinQueue:F}),Vn(Gn,{question:d,leaveQueue:M,joinQueue:V}),Vn(tt,{queueId:t,buttons:!d&&Vn(R,{title:"In order to join this queue, you must delete your previous question. Do you want to continue?",onConfirm:function(){return Z(!0)},okText:"Yes",cancelText:"No",disabled:!0,visible:_,onVisibleChange:q},Vn(Zn,{type:"primary",disabled:!(null===n||void 0===n?void 0:n.allowQuestions),"data-cy":"join-queue-button",onClick:Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,Z(!1);case 3:return e.t1=!e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))},"Join Queue"))}),Vn(Xn,null),Vn(Wn,null,d&&Vn(s.a.Fragment,null,Vn(In,{queueId:t,editQuestion:U,leaveQueue:M}),Vn("div",{style:{marginTop:"40px"}})),Vn(io,{questions:null===i||void 0===i?void 0:i.queue,studentQuestion:d}))),Vn(Gt,{visible:i&&!d&&N||S,question:d,leaveQueue:K,finishQuestion:X,position:f+1,cancel:J})):Vn("h1",{style:{marginTop:"50px"}},"The Queue is Closed!"):Vn("div",null)}var oo=l.a.h2.withConfig({displayName:"StudentQueue__QueueHeader",componentId:"sc-1qu48se-7"})(["font-weight:500;font-size:24px;color:#212934;margin-bottom:0;"]),ao=l.a.div.withConfig({displayName:"StudentQueue__NoQuestionsText",componentId:"sc-1qu48se-8"})(["font-weight:500;font-size:24px;color:#212934;"]);function io(e){var t=e.questions,n=e.studentQuestion;return Vn("div",{"data-cy":"queueQuestions"},0===(null===t||void 0===t?void 0:t.length)?Vn(ao,null,"There are no questions in the queue"):Vn(s.a.Fragment,null,Vn(oo,null,"Queue"),Vn($n,{bordered:!1},Vn(to,null,Vn(F.a,{flex:"0 0 64px"},Vn(eo,null,"#")),Vn(F.a,{flex:"1 1"},Vn(eo,null,"question")),Vn(F.a,{flex:"0 0 80px"},Vn(eo,null,"wait"))))),null===t||void 0===t?void 0:t.map((function(e,t){return Vn(Hn,{key:e.id,rank:t+1,question:e,highlighted:n===e})})))}var ro=n("dppZ"),uo=n("nXdl");function so(e){var t,n,o=Object(ee.a)(),a=$(e).queue,i=W(e).questions,r=null===i||void 0===i?void 0:null===(t=i.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){var t;return(null===(t=e.taHelped)||void 0===t?void 0:t.id)===(null===o||void 0===o?void 0:o.id)})),u=null===i||void 0===i?void 0:null===(n=i.groups)||void 0===n?void 0:n.find((function(e){return e.creator.id===o.id}));return{helpingQuestions:r,helpingGroup:u,isHelping:(null===r||void 0===r?void 0:r.length)>0||!!u,isCheckedIn:null===a||void 0===a?void 0:a.staffList.some((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}))}}var lo=n("Sccn"),co=n("UL5a"),po=n("wb8e"),fo=n("nsO7"),mo=s.a.createElement;function vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bo=Object(l.a)(Pt.a.TextArea).withConfig({displayName:"EditQueueModal__NotesInput",componentId:"c8x0cn-0"})(["border-radius:6px;border:1px solid #b8c4ce;"]);function go(e){var t=e.queueId,n=e.visible,o=e.onClose,a=$(t),i=a.queue,r=a.mutateQueue,u=co.a.useForm(),s=Object(b.a)(u,1)[0],l=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ho(ho({},i),t),r(n,!1),e.next=4,g.a.queues.update(n.id,Object(fo.pick)(n,["notes","allowQuestions"]));case 4:r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return mo(Tn.a,{title:"Edit Queue Details",visible:n,onCancel:o,onOk:Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:return t=e.sent,e.next=5,l(t);case 5:o();case 6:case"end":return e.stop()}}),e)})))},i&&mo(co.a,{form:s,initialValues:i},mo(co.a.Item,{label:"Queue Notes",name:"notes"},mo(bo,{allowClear:!0,placeholder:""})),mo(co.a.Item,{label:"Allow New Questions",name:"allowQuestions",valuePropName:"checked"},mo(po.a,{"data-cy":"allow-questions-toggle"}))))}var yo=n("LxhF"),xo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},wo=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:xo}))};wo.displayName="ArrowLeftOutlined";var Co=u.forwardRef(wo),Oo=n("7hYp"),_o=n("xq5O"),qo=n("jvFD"),jo=n.n(qo),ko=n("KQ9C"),No={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Io=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:No}))};Io.displayName="PlusOutlined";var Qo=u.forwardRef(Io),So=n("jqOo"),Eo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},To=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:Eo}))};To.displayName="QuestionOutlined";var Ao=u.forwardRef(To),Po=n("ibId"),zo=s.a.createElement;var Lo=l.a.div.withConfig({displayName:"TAQueueListItem__Container",componentId:"sc-1nf4mks-0"})(["display:flex;align-items:center;width:100%;padding-top:16px;padding-bottom:12px;border-bottom:1px solid #cfd6de;background:",";cursor:pointer;&:hover{background:",";}"],(function(e){return e.selected?"#EFF8FF":"white"}),(function(e){return e.selected?"#EFF8FF":"#ECF0F3"})),Bo=Object(l.a)(Po.a).withConfig({displayName:"TAQueueListItem__StyledCheckbox",componentId:"sc-1nf4mks-1"})(["margin-left:8px;"]),Do=l.a.div.withConfig({displayName:"TAQueueListItem__BodyContainer",componentId:"sc-1nf4mks-2"})(["display:flex;align-items:flex-start;"]),Mo=l.a.div.withConfig({displayName:"TAQueueListItem__AvatarContainer",componentId:"sc-1nf4mks-3"})(["margin:10px 12px 0 25px;display:block;"]),Ro=l.a.div.withConfig({displayName:"TAQueueListItem__QuestionInfoContainer",componentId:"sc-1nf4mks-4"})([""]),Fo=l.a.div.withConfig({displayName:"TAQueueListItem__Name",componentId:"sc-1nf4mks-5"})(["color:#212934;"]),Ho=l.a.div.withConfig({displayName:"TAQueueListItem__QuestionText",componentId:"sc-1nf4mks-6"})(["padding-right:8px;color:#595959;"]);function Yo(e){var t,n,a=e.index,i=e.selected,r=e.question,u=e.onClick,s=e.showCheckbox,l=r.status===o.o.Drafting,c=[[zo(So.a,{key:"h"}),Object(ye.c)(r)]];return l||c.push([zo(Ao,{key:"q"}),r.questionType]),zo(Lo,{selected:i,"data-cy":"queue-list-item-".concat(r.id),onClick:u},s&&zo(Bo,{checked:i}),zo(Do,null,zo(Mo,null,zo(Te,{count:a?"#".concat(a):0,style:{backgroundColor:"#3684c6"},offset:[-40,0]},zo(Ae.a,{size:40,name:r.creator.name,photoURL:r.creator.photoURL}))),zo(Ro,null,zo(Fo,null,r.creator.name),zo(Ho,null,l?zo("i",null,"Still Drafting..."):(t=r.text,n=80,t.length>n?t.substring(0,n-3)+"...":t)),zo(Jo,{info:c}))))}var Go=l.a.div.withConfig({displayName:"TAQueueListItem__RowContainer",componentId:"sc-1nf4mks-7"})(["margin-top:8px;display:flex;align-items:center;color:#8895a6;"]),Vo=l.a.div.withConfig({displayName:"TAQueueListItem__Divider",componentId:"sc-1nf4mks-8"})(["margin-left:12px;margin-right:8px;"]),Uo=l.a.div.withConfig({displayName:"TAQueueListItem__Spacer",componentId:"sc-1nf4mks-9"})(["margin-left:5px;"]);function Jo(e){var t=e.info;return zo(Go,null,t.map((function(e,t){var n=Object(b.a)(e,2),o=n[0],a=n[1];return[t>0&&zo(Vo,{key:a},"|"),o,zo(Uo,{key:a+"space"}),a]})).flat().filter((function(e){return!!e})))}var Ko=s.a.createElement,Wo=Object(l.a)(Lo).withConfig({displayName:"EmptyGroupList__EmptyGroupListContainer",componentId:"uf0t1p-0"})(["display:flex;justify-content:space-between;align-items:center;"]),Zo=l.a.div.withConfig({displayName:"EmptyGroupList__EmptyGroupListText",componentId:"uf0t1p-1"})(["font-weight:bold;padding:15px;padding-left:35px;font-size:16px;"]);function Xo(e){var t=e.onClick;return Ko(Wo,{onClick:t,selected:!1,"data-cy":"queue-list-item-question-group"},Ko(Zo,null,"Add Students"),Ko(Qo,{style:{paddingRight:"16px"}}))}var $o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},ea=function(e,t){return u.createElement(re.a,Object.assign({},e,{ref:t,icon:$o}))};ea.displayName="PhoneOutlined";var ta=u.forwardRef(ea);function na(){var e=Object(ee.a)();return e.includeDefaultMessage&&e.defaultMessage||""}var oa=n("UmCv"),aa=n("DuHN"),ia=s.a.createElement,ra="This student has been temporarily removed from the queue. They must select to rejoin the queue and will then be placed in the Priority Queue.";function ua(e){e.courseId;var t=e.queueId,n=e.question,a=na(),i=W(t).mutateQuestions,r=Object(u.useCallback)(function(){var e=Object(h.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.questions.update(n.id,{status:t});case 2:i();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n.id,i]),l=so(t),c=l.isCheckedIn,d=l.isHelping;if(n.status===o.o.Helping)return ia(s.a.Fragment,null,ia(R,{title:"Are you sure you want to send this student back to the queue?",okText:"Yes",cancelText:"No",onConfirm:Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa.a.success(ra,2),e.next=3,r(o.m.ReQueueing);case 3:case"end":return e.stop()}}),e)})))},ia(S.a,{title:"Requeue Student"},ia(wn,{icon:ia(tn,null),"data-cy":"requeue-student-button"}))),ia(R,{title:"Are you sure you can't find this student?",okText:"Yes",cancelText:"No",onConfirm:Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa.a.success(ra,2),e.next=3,r(o.m.CantFind);case 3:return e.next=5,g.a.questions.notify(n.id);case 5:case"end":return e.stop()}}),e)})))},ia(S.a,{title:"Can't Find"},ia(xn,{shape:"circle",icon:ia(sn,null),"data-cy":"cant-find-button"}))),ia(S.a,{title:"Finish Helping"},ia(yn,{icon:ia(an,null),onClick:function(){return r(o.b.Resolved)},"data-cy":"finish-helping-button"})));var p=c?d?[!1,"You are already helping a student"]:[!0,"Help Student"]:[!1,"You must check in to help students!"],f=Object(b.a)(p,2),m=f[0],y=f[1];return ia(s.a.Fragment,null,ia(R,{title:"Are you sure you want to delete this question from the queue?",disabled:!c,okText:"Yes",cancelText:"No",onConfirm:Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n.status===o.o.Drafting?o.b.DeletedDraft:o.m.TADeleted);case 2:return e.next=4,g.a.questions.notify(n.id);case 4:case"end":return e.stop()}}),e)})))},ia(S.a,{title:c?"Remove From Queue":"You must check in to remove students from the queue"},ia("span",null,ia(gn,{shape:"circle",icon:ia(oa.a,null),"data-cy":"remove-from-queue",disabled:!c})))),ia(S.a,{title:y},ia("span",null,ia(bn,{icon:ia(ta,null),onClick:function(){return r(o.o.Helping),void(n.isOnline&&window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(n.creator.email,"&message=").concat(a)))},disabled:!m,"data-cy":"help-student"}))))}var sa=s.a.createElement,la=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionCardBox",componentId:"sc-6bb15h-0"})(["display:flex;justify-content:space-between;align-items:center;margin:12px;padding:16px;background:#ecf0f3;"]),ca=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__StillDrafting",componentId:"sc-6bb15h-1"})(["margin:12px 30px;text-align:center;font-size:16px;"]),da=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionHeader",componentId:"sc-6bb15h-2"})(["font-size:18px;color:#595959;margin-bottom:20px;"]),pa=Object(l.a)(da).withConfig({displayName:"TAQueueDetailQuestion__QuestionAsker",componentId:"sc-6bb15h-3"})(["font-weight:600;margin-bottom:10px;"]),fa=l.a.div.withConfig({displayName:"TAQueueDetailQuestion__QuestionDetails",componentId:"sc-6bb15h-4"})(["font-size:14px;color:#595959;margin-bottom:20px;"]),ma=l.a.span.withConfig({displayName:"TAQueueDetailQuestion__QuestionTypePill",componentId:"sc-6bb15h-5"})(["color:#264359;background:#abd4f3;padding:3px 8px;border-radius:4px;"]);function va(e){var t=e.question,n=e.queueId,a=e.courseId,i=e.showName,r=e.showButtons;return t.status===o.o.Drafting?sa(ca,null,t.creator.name," is drafting their question..."):sa(la,null,sa("div",null,t.text||t.questionType?sa(s.a.Fragment,null,i?sa(s.a.Fragment,null,sa(pa,null,t.creator.name),sa(fa,null,t.text)):sa(da,null,t.text),sa(ma,null,t.questionType)):sa("p",null,"No question details")),sa("div",null,r&&sa(ua,{courseId:a,queueId:n,question:t})))}var ha=s.a.createElement,ba=l.a.div.withConfig({displayName:"TAQueueDetail__Container",componentId:"kj4kru-0"})([""]),ga=l.a.div.withConfig({displayName:"TAQueueDetail__Header",componentId:"kj4kru-1"})(["display:flex;justify-content:space-between;align-items:center;height:60px;padding:0 12px;background:#e1e7ec;"]),ya=l.a.div.withConfig({displayName:"TAQueueDetail__Email",componentId:"kj4kru-2"})(["font-size:12px;color:#8895a6;"]);function xa(e){var t=e.courseId,n=e.queueId,o=e.question;return ha(ba,null,ha(ga,null,ha("div",null,ha("strong",null,o.creator.name),ha(ya,null,o.creator.email)),ha("div",null,ha(ua,{courseId:t,queueId:n,question:o}))),ha(va,{courseId:t,question:o,queueId:n}))}var wa=s.a.createElement,Ca=l.a.div.withConfig({displayName:"AllQuestionsChecklist__Description",componentId:"sc-1m6wlb4-0"})(["font-size:12px;color:#8895a6;"]),Oa=l.a.div.withConfig({displayName:"AllQuestionsChecklist__SelectAllContainer",componentId:"sc-1m6wlb4-1"})(["padding:3px 8px;border-bottom:1px solid #cfd6de;"]),_a=l.a.div.withConfig({displayName:"AllQuestionsChecklist__QuestionsList",componentId:"sc-1m6wlb4-2"})(["display:flex;flex-direction:column;"]),qa=l.a.span.withConfig({displayName:"AllQuestionsChecklist__RedText",componentId:"sc-1m6wlb4-3"})(["color:red;"]);function ja(e){var t=e.groupCreator,n=e.allQuestions,o=e.hasMissingQuestions,a=e.queueId,i=e.onStartCall,r=Object(u.useState)(new Set),s=r[0],l=r[1],c=so(a),d=c.isCheckedIn,p=c.isHelping,f=d?p?[!1,"You are already helping a student"]:[!0,"Create Group & Call"]:[!1,"You must check in to help students!"],m=Object(b.a)(f,2),v=m[0],h=m[1],y=na(),x=n.filter((function(e){return s.has(e.id)})).map((function(e){return e.creator.email})).join(",");return wa("div",null,wa(ga,null,wa("div",null,wa("strong",null,"".concat(t.name,"'s Group Session")),wa(Ca,null,"Select Students to Create Group",o?wa("div",null,wa(qa,null,"Note:")," some students may not show up, as they did not consent to being grouped"):null)),wa("div",null,wa(S.a,{title:h},wa("span",null,wa(bn,{icon:wa(ta,null),onClick:function(){g.a.questions.group({questionIds:Array.from(s),queueId:a}),i(),window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(x,"&message=").concat(y))},disabled:!v||0===s.size,"data-cy":"help-student"}))))),wa(Oa,null,wa(Po.a,{checked:n.length===s.size,indeterminate:s.size&&s.size!==n.length,onChange:function(e){e.target.checked?l(new Set(n.map((function(e){return e.id})))):l(new Set)}},wa("span",{style:{paddingLeft:"9px"}},"Select All"))),wa(_a,null,n.map((function(e,t){return wa("div",{key:e.id},wa(Yo,{question:e,index:t+1,selected:s.has(e.id),onClick:function(){return function(e){s.has(e.id)?(s.delete(e.id),l(new Set(s))):l(new Set(s.add(e.id)))}(e)},showCheckbox:!0}))}))))}var ka=s.a.createElement;function Na(e){var t=e.group,n=e.queueId,o=e.courseId;return ka("div",null,ka(ga,null,ka("div",null,ka("strong",null,"".concat(null===t||void 0===t?void 0:t.creator.name,"'s Group Session")),ka(Ca,null,null===t||void 0===t?void 0:t.questions.map((function(e){return e.creator.name})).join(", "))),ka("div",null,ka(S.a,{title:"Finish Helping"},ka(yn,{icon:ka(an,null),onClick:function(){return g.a.questions.resolveGroup(null===t||void 0===t?void 0:t.id,n)},"data-cy":"finish-helping-button"})))),null===t||void 0===t?void 0:t.questions.map((function(e){return ka("div",{key:e.id},ka(va,{courseId:o,question:e,queueId:n,showName:!0,showButtons:!0}))})))}var Ia=s.a.createElement;function Qa(e){var t=e.groupCreator,n=e.queueId,o=e.courseId,a=W(n),i=a.questions,r=a.mutateQuestions,u=[].concat(Object(p.a)(i.queue),Object(p.a)(i.priorityQueue)),s=null===i||void 0===i?void 0:i.groups.find((function(e){return e.creator.id===t.id})),l=s?s.questions:[],c=u.filter((function(e){return e.groupable}));return l.length?Ia(Na,{courseId:o,group:s,queueId:n}):Ia(ja,{allQuestions:c,hasMissingQuestions:c.length!=u.length,groupCreator:t,queueId:n,onStartCall:function(){r()}})}var Sa=n("ERsz"),Ea=s.a.createElement,Ta=l.a.div.withConfig({displayName:"TAQueueListSection__OverrideCollapse",componentId:"sc-104de8n-0"})(["& .ant-collapse-header{padding-left:0 !important;padding-right:0 !important;border-bottom:1px solid #cfd6de;}& .ant-collapse-item-disabled > .ant-collapse-header{cursor:initial !important;}& .ant-collapse-content-box{padding:0 !important;}"]),Aa=l.a.div.withConfig({displayName:"TAQueueListSection__Title",componentId:"sc-104de8n-1"})(["font-size:16px;color:#212934;margin-left:40px;"]);function Pa(e){var t=e.title,n=e.questions,o=e.onClickQuestion,a=e.selectedQuestionId,i=e.showNumbers,r=void 0!==i&&i,u=e.collapsible,s=void 0!==u&&u,l=e.emptyDisplay,c=void 0===l?null:l;return 0!==n.length||c?Ea(Ta,null,Ea(Sa.a,{defaultActiveKey:[1],ghost:!0,expandIconPosition:"right"},Ea(Sa.a.Panel,{style:{padding:0},key:1,header:Ea(Aa,null,t,Ea("span",null," (".concat(n.length,")"))),showArrow:s,disabled:!s},0===n.length?c:Ea("div",null,n.map((function(e,t){return Ea(Yo,{key:e.id,question:e,index:r&&t+1,selected:a===e.id,onClick:function(){return o(e.id)}})})))))):null}var za=s.a.createElement,La=900,Ba=l.a.div.withConfig({displayName:"TAQueueListDetail__Container",componentId:"sc-1mkewun-0"})(["flex:1;background:white;border:1px solid #cfd6de;margin-bottom:30px;@media (min-width:","px){border:none;border-left:1px solid #cfd6de;margin-bottom:0px;display:flex;flex-direction:row;min-height:calc( 100vh - 46px - 67px );// - (height of footer) - (height of navbar)}"],La),Da=l.a.div.withConfig({displayName:"TAQueueListDetail__List",componentId:"sc-1mkewun-1"})(["@media (min-width:","px){width:320px;overflow-y:scroll;}"],La),Ma=Object(l.a)(yo.a).withConfig({displayName:"TAQueueListDetail__PriorityQueueQuestionBubble",componentId:"sc-1mkewun-2"})(["margin-right:8px;"]),Ra=l.a.div.withConfig({displayName:"TAQueueListDetail__Detail",componentId:"sc-1mkewun-3"})(["border-left:1px solid #cfd6de;border-right:1px solid #cfd6de;flex:1;@media (min-width:","px){overflow-y:scroll;}"],La),Fa=l.a.div.withConfig({displayName:"TAQueueListDetail__BackToQueue",componentId:"sc-1mkewun-4"})(["height:40px;display:flex;align-items:center;padding-left:12px;color:#1890ff;cursor:pointer;"]);function Ha(e){var t,n=e.queueId,o=e.courseId,a=Object(ee.a)(),i=Object(u.useState)(null),r=i[0],s=i[1],l=W(n).questions,c=Object(u.useState)(!1),d=c[0],f=c[1],m=Object(Oo.a)()>=La,v=function(e){s(e),f(!1)},h=null===l||void 0===l?void 0:null===(t=l.questionsGettingHelp)||void 0===t?void 0:t.filter((function(e){return e.taHelped.id===a.id})),b=null===l||void 0===l?void 0:l.groups.find((function(e){return e.creator.id===a.id})),g=b?b.questions:[],y=l?[].concat(Object(p.a)(h),Object(p.a)(l.queue),Object(p.a)(l.priorityQueue),Object(p.a)(l.groups.flatMap((function(e){return e.questions})))):[],x=y.find((function(e){return e.id===r}));if(r&&!x&&v(null),!r&&h.length&&v(h[0].id),!l)return za(_o.a,null);if(0===y.length)return za(Ya,null,za(Ga,null,"There are no questions in the queue"),!a.phoneNotifsEnabled&&!a.desktopNotifsEnabled&&za(Ua,{courseId:o}));var w=za(Da,null,za("div",{"data-cy":"list-helping"},za(Pa,{title:"Currently Helping",questions:h,onClickQuestion:v,selectedQuestionId:r})),za("div",{"data-cy":"list-group"},za(Pa,{title:"Group Students",questions:g,onClickQuestion:function(){f(!0),s(null)},collapsible:!0,emptyDisplay:za(Xo,{onClick:function(){f(!0),s(null)}})})),za("div",{"data-cy":"list-priority"},za(Pa,{title:za("span",null,za(S.a,{title:"Students in the priority queue were at the top of the queue before for some reason (e.g. they were at the top but AFK, or a TA helped them previously, and then hit 'requeue student.' You should communicate with your fellow staff members to prioritize these students first."},za(Ma,null)),"Priority Queue"),questions:l.priorityQueue,onClickQuestion:v,selectedQuestionId:r,collapsible:!0})),za("div",{"data-cy":"list-queue"},za(Pa,{title:"Waiting In Line",questions:l.queue,onClickQuestion:v,selectedQuestionId:r,collapsible:!0,showNumbers:!0}))),C=za(Ra,null,x&&za(xa,{courseId:o,queueId:n,question:x}),d&&za(Qa,{courseId:o,queueId:n,groupCreator:a}));return m?za(Ba,null,w,C):r?za(Ba,null,za(Fa,{onClick:function(){return v(null)}},za("span",null,za(Co,null)," Back To Queue")),C):za(Ba,null,w)}var Ya=l.a.div.withConfig({displayName:"TAQueueListDetail__EmptyQueueInfo",componentId:"sc-1mkewun-5"})(["flex:1;display:flex;flex-direction:column;align-items:center;margin-top:30px;"]),Ga=l.a.div.withConfig({displayName:"TAQueueListDetail__NoQuestionsText",componentId:"sc-1mkewun-6"})(["font-weight:500;font-size:24px;color:#212934;"]),Va=Object(l.a)(E.a).withConfig({displayName:"TAQueueListDetail__NotifRemindButton",componentId:"sc-1mkewun-7"})(["margin-top:16px;border-radius:6px;background:#fff;"]);function Ua(e){var t=e.courseId;return za(s.a.Fragment,null,za(jo.a,{href:{pathname:"/settings",query:{cid:t,defaultPage:ko.a.NOTIFICATIONS}}},za(Va,null,"Sign Up for Notifications")))}var Ja=s.a.createElement;function Ka(e){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(h.a)(v.a.mark((function e(t){var n,a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.questions.update(t,{status:o.o.Helping});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),401===(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(null===(a=e.t0.response)||void 0===a?void 0:null===(i=a.data)||void 0===i?void 0:i.message)===o.f.questionController.updateQuestion.otherTAHelping&&w.a.open({message:"Another TA is currently helping the student",description:"This happens when another TA clicks help at the exact same time",type:"error",duration:3,className:"hide-in-percy",style:{width:450}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var Za=l.a.div.withConfig({displayName:"TAQueue__Container",componentId:"sc-173p98z-0"})(["flex:1;display:flex;flex-direction:column;@media (min-width:650px){flex-direction:row;}"]),Xa=Object(l.a)(We).withConfig({displayName:"TAQueue__HelpNextButton",componentId:"sc-173p98z-1"})(["color:white;background:#2a9187;&:hover,&:focus{color:white;background:#39aca1;}"]),$a=Object(l.a)(We).withConfig({displayName:"TAQueue__EditQueueButton",componentId:"sc-173p98z-2"})(["color:#212934;"]),ei=l.a.div.withConfig({displayName:"TAQueue__MiddleSpacer",componentId:"sc-173p98z-3"})(["margin-left:20px;"]);function ti(e){var t,n=e.qid,a=e.courseId,i=Object(ee.a)(),r=Object(uo.a)(a),l=$(n).queue,c=W(n),d=c.questions,p=c.mutateQuestions,f=so(n),m=f.isCheckedIn,b=f.isHelping,g=Object(u.useState)(!1),y=g[0],x=g[1],w=Object(ro.a)(a).course,C=null===w||void 0===w?void 0:w.queues.some((function(e){return e.id!==n&&e.staffList.some((function(e){return e.id===(null===i||void 0===i?void 0:i.id)}))})),O=(null===d||void 0===d?void 0:d.priorityQueue[0])||(null===d||void 0===d?void 0:null===(t=d.queue)||void 0===t?void 0:t.find((function(e){return e.status===o.p.Queued}))),_=function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(O.id);case 2:p(),t=i.includeDefaultMessage?i.defaultMessage:"",window.open("https://teams.microsoft.com/l/chat/0/0?users=".concat(O.creator.email,"&message=").concat(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?Ja(s.a.Fragment,null,Ja(Za,null,Ja(tt,{queueId:n,buttons:Ja(s.a.Fragment,null,Ja($a,{"data-cy":"editQueue",onClick:function(){return x(!0)}},"Edit Queue Details"),Ja(S.a,{title:!m&&"You must check in to help students!"},Ja(Xa,{onClick:_,disabled:!m||!O||b,"data-cy":"help-next"},"Help Next")),Ja("div",{style:{marginBottom:"12px"}},Ja(lo.b,{courseId:a,room:null===l||void 0===l?void 0:l.room,disabled:C||b||l.isProfessorQueue&&r!==o.r.PROFESSOR,state:m?"CheckedIn":"CheckedOut",block:!0})))}),Ja(ei,null),i&&d&&Ja(Ha,{queueId:n,courseId:a})),Ja(go,{queueId:n,visible:y,onClose:function(){return x(!1)}})):Ja("div",null)}var ni=s.a.createElement,oi=l.a.div.withConfig({displayName:"qid__Container",componentId:"xy2cp0-0"})(["flex:1;display:flex;flex-direction:column;"]);function ai(){var e=Object(r.useRouter)().query,t=e.cid,n=e.qid,a=Object(uo.a)(Number(t)),u=$(Number(n)).queue;return ni(c.a,null,ni(oi,null,ni(i.a,null,ni("title",null,null===u||void 0===u?void 0:u.room," Queue | Khoury Office Hours")),ni(d.a,{courseId:Number(t)}),o.r.STUDENT===a?ni(no,{qid:Number(n)}):ni(ti,{qid:Number(n),courseId:Number(t)})))}},w5NM:function(e,t){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),i=(o=a)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configuration=null!=n?Object.assign({},n):null,this._eventSource=null,this._lastEventId=null,this._timer=null,this._listeners={},this.url=t,this.readyState=0,this.max_retry_time=3e3,null!=this._configuration&&(this._configuration.lastEventId&&(this._lastEventId=this._configuration.lastEventId,delete this._configuration.lastEventId),this._configuration.max_retry_time&&(this.max_retry_time=this._configuration.max_retry_time,delete this._configuration.max_retry_time)),this._onevent_wrapped=function(e){o._onevent(e)},this._start()}return o(e,[{key:"_start",value:function(){var e=this,t=this.url;this._lastEventId&&(-1===t.indexOf("?")?t+="?":t+="&",t+="lastEventId="+encodeURIComponent(this._lastEventId)),this._eventSource=new EventSource(t,this._configuration),this._eventSource.onopen=function(t){e._onopen(t)},this._eventSource.onerror=function(t){e._onerror(t)},this._eventSource.onmessage=function(t){e.onmessage(t)};var n=!0,o=!1,a=void 0;try{for(var i,r=Object.keys(this._listeners)[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var u=i.value;this._eventSource.addEventListener(u,this._onevent_wrapped)}}catch(s){o=!0,a=s}finally{try{!n&&r.return&&r.return()}finally{if(o)throw a}}}},{key:"_onopen",value:function(e){0===this.readyState&&(this.readyState=1,this.onopen(e))}},{key:"_onerror",value:function(e){var t=this;if(1===this.readyState&&(this.readyState=0,this.onerror(e)),this._eventSource&&2===this._eventSource.readyState){this._eventSource.close(),this._eventSource=null;var n=Math.round(this.max_retry_time*Math.random());this._timer=setTimeout((function(){return t._start()}),n)}}},{key:"_onevent",value:function(e){e.lastEventId&&(this._lastEventId=e.lastEventId);var t=this._listeners[e.type];if(null!=t)for(var n=[].concat(a(t)),o=0;o<n.length;o++){(0,n[o])(e)}"message"===e.type&&this.onmessage(e)}},{key:"onopen",value:function(e){}},{key:"onerror",value:function(e){}},{key:"onmessage",value:function(e){}},{key:"close",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._eventSource&&(this._eventSource.close(),this._eventSource=null),this.readyState=2}},{key:"addEventListener",value:function(e,t){var n=e.toString();n in this._listeners||(this._listeners[n]=[],this._eventSource&&this._eventSource.addEventListener(n,this._onevent_wrapped));var o=this._listeners[n];o.includes(t)||(this._listeners[n]=[].concat(a(o),[t]))}},{key:"removeEventListener",value:function(e,t){var n=e.toString();if(n in this._listeners){var o=this._listeners[n].filter((function(e){return e!==t}));o.length>0?this._listeners[n]=o:(delete this._listeners[n],this._eventSource&&this._eventSource.removeEventListener(n,this._onevent_wrapped))}}}]),e}();t.default=i}])},xdJY:function(e,t,n){"use strict";var o=n("ERkP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=n("vspj"),r=function(e,t){return o.createElement(i.a,Object.assign({},e,{ref:t,icon:a}))};r.displayName="EditOutlined";t.a=o.forwardRef(r)}},[["D+6G",1,2,16,18,0,3,5,4,8,7,6,9,10,11,14,12,13,15,17,20,19,24,23,26]]]);
//# sourceMappingURL=[qid].js.map