(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{HS5m:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apply",function(){return t("X1EG")}])},X1EG:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return $}));var r=t("ysqo"),o=t.n(r),a=t("ERkP"),i=t.n(a),l=t("NabS"),c=t("zjfJ"),s=t("fGyu"),u=t("VtSi"),p=t.n(u),d=t("QsI/"),f=t("cUST"),m=t("vVVv"),y=t("SCaQ"),h=t("zygG"),b=t("x2dm"),v=t("UL5a"),g=t("BmDy"),O=i.a.createElement,C={"America/New_York":"Boston / Charlotte","America/Los_Angeles":"San Francisco / Seattle","America/Toronto":"Toronto","America/Vancouver":"Vancouver"},x=b.a.Option;function w(e){var n=e.courseInfo,t=e.onSubmitCourse,r=e.onBack,o=v.a.useForm(),i=Object(h.a)(o,1)[0],l=M(n);Object(a.useEffect)((function(){i.resetFields()}),[n]);return O("div",null,O("h3",{style:{marginBottom:"1.5em"}},"Please fill out the following course information for"," ",O(X,null,l)),O(v.a,{form:i,layout:"vertical",initialValues:n},O(v.a.Item,{name:"displayName",label:"Course Display Name",tooltip:"This is the course name that will be displayed within the app",rules:[{required:!0,message:"Please input a display name."}]},O(g.a,{placeholder:"ex: CS 2500",maxLength:20})),O(v.a.Item,{name:"timezone",label:"Campus",rules:[{required:!0,message:"Please select a Northeastern campus (for purpose of timezone)."}]},O(b.a,null,Object.entries(C).map((function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];return O(x,{value:t,key:t},r)})))),O(v.a.Item,{name:"coordinator_email",label:"Coordinator Email",rules:[{required:!0,type:"email",message:"Please input your email."}]},O(g.a,{placeholder:"example@northeastern.edu"})),O(v.a.Item,{label:"Office Hours Calendar URL",tooltip:O("div",null,"See"," ",O("a",{target:"_blank",rel:"noreferrer",href:"https://info.khouryofficehours.com/coordinators-manual"},"here")," ","to create your office hours calendar"),name:"iCalURL",rules:[{required:!0,type:"url",message:"Please input your office hours calendar URL."}]},O(g.a,{placeholder:"https://calendar.google.com/calendar/ical/.../basic.ics"}))),O(m.a,null,O(y.a,{onClick:r},"Back"),O(y.a,{onClick:function(){i.validateFields().then((function(e){return t(e)})).catch((function(){}))},type:"primary"},"Next")))}var k=i.a.createElement,j=function(e){var n=e.label,t=e.info;return k("p",{style:{margin:"0.5em"}},k("b",null,k("i",null,n)),t)},P=function(e){var n=e.course;return k("div",{style:{padding:"0.2em 0"}},k("h3",null,k(X,null,M(n))),k(j,{label:"Course Display Name: ",info:n.displayName}),k(j,{label:"Campus: ",info:C[n.timezone]}),k(j,{label:"Coordinator Email: ",info:n.coordinator_email}),k(j,{label:"Office Hours Calendar URL: ",info:n.iCalURL}))};function E(e){var n=e.courses,t=e.onSubmit,r=e.onBack;return k("div",null,0===n.length?k("h3",null,"Continue without registering new courses?"):k(i.a.Fragment,null,k("h3",null,"Please confirm all the information is correct before submitting:"),n.map((function(e,n){return k("div",{key:e.name},n>0&&k(f.a,{style:{backgroundColor:"#d9d9d9"}}),k(P,{course:e}))}))),k(m.a,{style:{marginTop:"1.5em"}},k(y.a,{onClick:r},"Back"),k(y.a,{onClick:t,type:"primary"},"Submit")))}var S=t("j/s1"),N=t("d+ro"),_=t("Ogf2"),I=i.a.createElement,R=S.a.span.withConfig({displayName:"SelectCourses__Italics",componentId:"sc-1947xxr-0"})(["font-weight:normal;font-size:16px;font-style:italic;"]),z=S.a.div.withConfig({displayName:"SelectCourses__FormSection",componentId:"sc-1947xxr-1"})(["margin-top:20px;"]),T=S.a.div.withConfig({displayName:"SelectCourses__CoursesBlock",componentId:"sc-1947xxr-2"})(["background-color:#fff;border:1px solid #d9d9d9;border-radius:2px;padding:5px;display:flex;align-items:center;"]),B=Object(S.a)(N.a).withConfig({displayName:"SelectCourses__LargeTag",componentId:"sc-1947xxr-3"})(["font-size:14px;padding:2px 6px;"]);function L(e){var n,t=e.onSubmit,r=e.initialValues,o=Object(a.useState)([]),i=o[0],l=o[1],c=Object(_.a)();Object(a.useEffect)((function(){var e,n=null===c||void 0===c?void 0:null===(e=c.pendingCourses)||void 0===e?void 0:e.reduce((function(e,n,t){return r.find((function(e){return e===n.name}))?(e.push(t),e):e}),[]);l(n||[])}),[]);return I("div",null,I("div",null,"It looks like this is your first time using the app for this semester. Please pick out all the courses you want to use Khoury Office Hours for."),I(z,null,I("h3",null,"Courses"," ",I(R,null,"(Select all the courses you are applying for)")),I(b.a,{mode:"multiple",placeholder:"Please select your courses",onChange:function(e){l(e)},style:{width:"100%"},value:i},null===c||void 0===c?void 0:null===(n=c.pendingCourses)||void 0===n?void 0:n.map((function(e,n){return I(b.a.Option,{key:e.name,value:n},M(e))})))),I(z,null,I("h3",null,"The following courses have already registered for the app:"),I(T,null,null===c||void 0===c?void 0:c.courses.map((function(e){var n,t;return I(B,{key:null===(n=e.course)||void 0===n?void 0:n.id},null===(t=e.course)||void 0===t?void 0:t.name)})))),I(y.a,{onClick:function(){return t(i.map((function(e){return null===c||void 0===c?void 0:c.pendingCourses[e]})))},type:"primary",style:{marginTop:"30px"}},"Next"))}var U=t("5EZz"),A=t("DuHN"),V=t("zTld"),D=t("JbCn"),H=t("7xIC"),F=t.n(H),J=i.a.createElement;function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){Object(c.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var G=Object(S.a)(U.a).withConfig({displayName:"ApplyPage__ProgressBar",componentId:"dtpg8c-0"})(["padding-bottom:2.5em;& .ant-progress-inner{border:1px solid #d9d9d9;}"]);function M(e){var n=e.name,t=e.crns;return"".concat(n," (CRNs: ").concat(t.join(", "),")")}var X=S.a.span.withConfig({displayName:"ApplyPage__Highlight",componentId:"dtpg8c-1"})(["color:#1890ff;"]);function Q(){var e=Object(a.useState)([]),n=e[0],t=e[1],r=Object(a.useState)(-1),o=r[0],i=r[1],l=Object(D.a)("api/v1/profile",Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.a.profile.index());case 1:case"end":return e.stop()}}),e)})))),c=l.data,u=l.mutate,f=function(){var e=Object(d.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.a.course.registerCourses(n.map((function(e){return{name:e.displayName,sectionGroupName:e.name,iCalURL:e.iCalURL,coordinator_email:e.coordinator_email,timezone:e.timezone}})));case 3:return A.a.success("Successfully registered courses. Redirecting you to the app..."),e.next=6,u();case 6:F.a.push("/course/[cid]/today","/course/".concat(c.courses[0].course.id,"/today")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),A.a.error(null===(t=e.t0.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return J("div",{style:{padding:"3% 12%"}},J("h1",null,"Apply for Khoury Office Hours"),J(G,{percent:Math.round(100*(o+1)/n.length),strokeColor:"#408FEA",trailColor:"white",strokeWidth:12}),o<0?J(L,{onSubmit:function(e){t(e.map((function(e){return{name:e.name,crns:e.crns}}))),i(o+1)},initialValues:n.map((function(e){return e.name}))}):o<n.length?J(w,{courseInfo:n[o],onSubmitCourse:function(e){var r=Object(s.a)(n);r[o]=q(q({},n[o]),e),t(r),i(o+1)},onBack:function(){return i(o-1)}}):J(E,{courses:n,onSubmit:f,onBack:function(){return i(o-1)}}))}var Z=i.a.createElement;function $(){return Z(l.a,null,Z(o.a,null,Z("title",null,"Apply | Khoury Office Hours")),Z(Q,null))}},cUST:function(e,n,t){"use strict";var r=t("97Jx"),o=t.n(r),a=t("KEM+"),i=t.n(a),l=t("ERkP"),c=t("O94r"),s=t.n(c),u=t("tb/6"),p=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};n.a=function(e){return l.createElement(u.a,null,(function(n){var t,r=n.getPrefixCls,a=n.direction,c=e.prefixCls,u=e.type,d=void 0===u?"horizontal":u,f=e.orientation,m=void 0===f?"center":f,y=e.className,h=e.children,b=e.dashed,v=e.plain,g=p(e,["prefixCls","type","orientation","className","children","dashed","plain"]),O=r("divider",c),C=m.length>0?"-".concat(m):m,x=!!h,w=s()(y,O,"".concat(O,"-").concat(d),(t={},i()(t,"".concat(O,"-with-text"),x),i()(t,"".concat(O,"-with-text").concat(C),x),i()(t,"".concat(O,"-dashed"),!!b),i()(t,"".concat(O,"-plain"),!!v),i()(t,"".concat(O,"-rtl"),"rtl"===a),t));return l.createElement("div",o()({className:w},g,{role:"separator"}),h&&l.createElement("span",{className:"".concat(O,"-inner-text")},h))}))}},"d+ro":function(e,n,t){"use strict";var r=t("KEM+"),o=t.n(r),a=t("97Jx"),i=t.n(a),l=t("ddV6"),c=t.n(l),s=t("ERkP"),u=t("O94r"),p=t.n(u),d=t("MD6U"),f=t("PKRS"),m=t.n(f),y=t("tb/6"),h=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},b=function(e){var n,t=s.useContext(y.b).getPrefixCls,r=e.prefixCls,a=e.className,l=e.checked,c=h(e,["prefixCls","className","checked"]),u=t("tag",r),d=p()(u,(n={},o()(n,"".concat(u,"-checkable"),!0),o()(n,"".concat(u,"-checkable-checked"),l),n),a);return delete c.onChange,s.createElement("span",i()({},c,{className:d,onClick:function(n){var t=e.checked,r=e.onChange,o=e.onClick;r&&r(!t),o&&o(n)}}))},v=t("VhZz"),g=t("gQzm"),O=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},C=new RegExp("^(".concat(v.a.join("|"),")(-inverse)?$")),x=new RegExp("^(".concat(v.b.join("|"),")$")),w=function(e,n){var t,r=e.prefixCls,a=e.className,l=e.style,u=e.children,f=e.icon,h=e.color,b=e.onClose,v=e.closeIcon,w=e.closable,k=void 0!==w&&w,j=O(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),P=s.useContext(y.b),E=P.getPrefixCls,S=P.direction,N=s.useState(!0),_=c()(N,2),I=_[0],R=_[1];s.useEffect((function(){"visible"in j&&R(j.visible)}),[j.visible]);var z=function(){return!!h&&(C.test(h)||x.test(h))},T=i()({backgroundColor:h&&!z()?h:void 0},l),B=z(),L=E("tag",r),U=p()(L,(t={},o()(t,"".concat(L,"-").concat(h),B),o()(t,"".concat(L,"-has-color"),h&&!B),o()(t,"".concat(L,"-hidden"),!I),o()(t,"".concat(L,"-rtl"),"rtl"===S),t),a),A=function(e){e.stopPropagation(),b&&b(e),e.defaultPrevented||"visible"in j||R(!1)},V="onClick"in j||u&&"a"===u.type,D=Object(d.default)(j,["visible"]),H=f||null,F=H?s.createElement(s.Fragment,null,H,s.createElement("span",null,u)):u,J=s.createElement("span",i()({},D,{ref:n,className:U,style:T}),F,k?v?s.createElement("div",{className:"".concat(L,"-close-icon"),onClick:A},v):s.createElement(m.a,{className:"".concat(L,"-close-icon"),onClick:A}):null);return V?s.createElement(g.a,null,J):J},k=s.forwardRef(w);k.displayName="Tag",k.CheckableTag=b;n.a=k}},[["HS5m",1,2,0,3,5,4,8,7,6,9,11,14,12,20]]]);
//# sourceMappingURL=apply.js.map