{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/var/www/source/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/source/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { API } from \"@koh/api-client\";\nimport { Button, message } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport styled from \"styled-components\";\nimport { useCourse } from \"../../hooks/useCourse\";\nexport var CheckinButton = styled(Button).withConfig({\n  displayName: \"TACheckinButton__CheckinButton\",\n  componentId: \"sc-oiahss-0\"\n})([\"background:#1890ff;border-radius:6px;color:white;font-weight:500;font-size:14px;\"]);\nexport var CheckOutButton = styled(Button).withConfig({\n  displayName: \"TACheckinButton__CheckOutButton\",\n  componentId: \"sc-oiahss-1\"\n})([\"color:#da3236;font-weight:500;font-size:14px;border-radius:6px;\"]);\nexport default function TACheckinButton(_ref) {\n  var courseId = _ref.courseId,\n      room = _ref.room,\n      state = _ref.state,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$block = _ref.block,\n      block = _ref$block === void 0 ? false : _ref$block;\n  var router = useRouter();\n\n  var _useCourse = useCourse(courseId),\n      course = _useCourse.course,\n      mutateCourse = _useCourse.mutateCourse;\n\n  function checkInTA() {\n    return _checkInTA.apply(this, arguments);\n  }\n\n  function _checkInTA() {\n    _checkInTA = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var redirectID, _err$response, _err$response$data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return API.taStatus.checkIn(courseId, room);\n\n            case 3:\n              redirectID = _context2.sent;\n              mutateCourse();\n              router.push(\"/course/[cid]/queue/[qid]\", \"/course/\".concat(courseId, \"/queue/\").concat(redirectID.id));\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              message.error((_err$response = _context2.t0.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 8]]);\n    }));\n    return _checkInTA.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [state === \"CheckedIn\" && /*#__PURE__*/_jsx(CheckOutButton, {\n      type: \"default\",\n      size: \"large\",\n      disabled: disabled,\n      block: block,\n      \"data-cy\": \"check-out-button\",\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return API.taStatus.checkOut(courseId, room);\n\n              case 2:\n                mutateCourse();\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })),\n      children: \"Check Out\"\n    }), state === \"CheckedOut\" && /*#__PURE__*/_jsx(CheckinButton, {\n      type: \"default\",\n      size: \"large\",\n      block: block,\n      onClick: function onClick() {\n        return checkInTA();\n      },\n      disabled: disabled || !course,\n      \"data-cy\": \"check-in-button\",\n      children: \"Check In\"\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}