{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { FileTextOutlined, LogoutOutlined, MacCommandOutlined, QuestionCircleOutlined, ReadOutlined, SettingOutlined } from \"@ant-design/icons\";\nimport { Menu, Modal, Popover, Typography, Space } from \"antd\";\nimport Link from \"next/link\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport SelfAvatar from \"../common/SelfAvatar\";\nimport { useRoleInCourse } from \"../../hooks/useRoleInCourse\";\nimport { Role } from \"@koh/common\";\nconst {\n  Text\n} = Typography;\n\nconst StyleablePopover = (_ref) => {\n  let {\n    className\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"className\"]);\n\n  return /*#__PURE__*/_jsx(Popover, _objectSpread(_objectSpread({}, props), {}, {\n    overlayClassName: className\n  }));\n};\n\nconst NoPaddingPopover = styled(StyleablePopover).withConfig({\n  displayName: \"ProfileDrawer__NoPaddingPopover\",\n  componentId: \"sc-4orw83-0\"\n})([\"& .ant-popover-inner-content{padding:0px;}\"]);\nconst AvatarButton = styled.div.withConfig({\n  displayName: \"ProfileDrawer__AvatarButton\",\n  componentId: \"sc-4orw83-1\"\n})([\"cursor:pointer;\"]);\n\nfunction shortcutInfoContent(role) {\n  if (role === Role.STUDENT) {\n    return /*#__PURE__*/_jsxs(Space, {\n      direction: \"vertical\",\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxs(Space, {\n        children: [/*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"shift\"\n        }), /*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"n\"\n        }), \"Create a new question\"]\n      }), /*#__PURE__*/_jsxs(Space, {\n        children: [/*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"shift\"\n        }), /*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"e\"\n        }), \"Edit question\"]\n      }), /*#__PURE__*/_jsxs(Space, {\n        size: 40,\n        children: [/*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"enter\"\n        }), \"Finish writing question\"]\n      })]\n    });\n  } else {\n    return /*#__PURE__*/_jsxs(Space, {\n      direction: \"vertical\",\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxs(Space, {\n        children: [/*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"shift\"\n        }), /*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"h\"\n        }), \"Help the next student\"]\n      }), /*#__PURE__*/_jsxs(Space, {\n        children: [/*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"shift\"\n        }), /*#__PURE__*/_jsx(Text, {\n          keyboard: true,\n          children: \"d\"\n        }), \"Delete the currently selected student's question\"]\n      }), /*#__PURE__*/_jsxs(Space, {\n        children: [/*#__PURE__*/_jsxs(Space, {\n          size: 1,\n          children: [/*#__PURE__*/_jsx(Text, {\n            keyboard: true,\n            children: \"up\"\n          }), \"/\", /*#__PURE__*/_jsx(Text, {\n            keyboard: true,\n            children: \"down\"\n          })]\n        }), \"Navigate through students\"]\n      })]\n    });\n  }\n}\n\nexport default function ProfileDrawer({\n  courseId\n}) {\n  const {\n    0: isPopoverOpen,\n    1: setIsPopoverOpen\n  } = useState(false);\n  const role = useRoleInCourse(courseId);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(NoPaddingPopover, {\n      content: isPopoverOpen && /*#__PURE__*/_jsxs(Menu, {\n        mode: \"inline\",\n        children: [/*#__PURE__*/_jsx(Menu.Item, {\n          icon: /*#__PURE__*/_jsx(SettingOutlined, {}),\n          children: /*#__PURE__*/_jsx(Link, {\n            href: {\n              pathname: \"/settings\",\n              query: {\n                cid: courseId\n              }\n            },\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: \"Settings\"\n            })\n          })\n        }), /*#__PURE__*/_jsx(Menu.Item, {\n          icon: /*#__PURE__*/_jsx(MacCommandOutlined, {}),\n          onClick: () => {\n            Modal.info({\n              title: \"Queue Page Keyboard Shortcuts\",\n              content: shortcutInfoContent(role)\n            });\n            setIsPopoverOpen(false);\n          },\n          children: \"Keyboard Shortcuts\"\n        }), /*#__PURE__*/_jsx(Menu.Item, {\n          icon: /*#__PURE__*/_jsx(QuestionCircleOutlined, {}),\n          onClick: () => {\n            window.open(\"https://info.khouryofficehours.com/help\");\n            setIsPopoverOpen(false);\n          },\n          children: \"Help Guide\"\n        }, \"1\"), /*#__PURE__*/_jsx(Menu.Item, {\n          icon: /*#__PURE__*/_jsx(FileTextOutlined, {}),\n          onClick: () => {\n            window.open(\"https://info.khouryofficehours.com/release-notes-archive\");\n            setIsPopoverOpen(false);\n          },\n          children: \"Release Notes\"\n        }, \"2\"), /*#__PURE__*/_jsx(Menu.Item, {\n          icon: /*#__PURE__*/_jsx(ReadOutlined, {}),\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/about\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: \"About Us\"\n            })\n          })\n        }, \"3\"), /*#__PURE__*/_jsx(Menu.Item, {\n          icon: /*#__PURE__*/_jsx(LogoutOutlined, {}),\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/api/v1/logout\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              \"data-cy\": \"logout-button\",\n              children: \"Logout\"\n            })\n          })\n        }, \"4\")]\n      }),\n      placement: \"bottomRight\",\n      trigger: \"click\",\n      visible: isPopoverOpen,\n      onVisibleChange: setIsPopoverOpen,\n      children: /*#__PURE__*/_jsx(AvatarButton, {\n        children: /*#__PURE__*/_jsx(SelfAvatar, {\n          size: 40\n        })\n      })\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}