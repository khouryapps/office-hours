{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/var/www/source/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { Role } from \"@koh/common\";\nimport { Modal, Form, Switch, Radio, Input } from \"antd\";\nimport TextArea from \"antd/lib/input/TextArea\";\nimport { useState } from \"react\";\nexport default function QueueCreateModal(_ref) {\n  var visible = _ref.visible,\n      onSubmit = _ref.onSubmit,\n      onCancel = _ref.onCancel,\n      role = _ref.role,\n      lastName = _ref.lastName;\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState(!form.getFieldValue(\"isOnline\")),\n      locEditable = _useState[0],\n      setLocEditable = _useState[1];\n\n  var onIsOnlineUpdate = function onIsOnlineUpdate(isOnline) {\n    setLocEditable(!isOnline);\n\n    if (!isOnline) {\n      form.setFieldsValue({\n        officeHourName: \"\"\n      });\n    } else {\n      updateRoomName();\n    }\n  };\n\n  var updateRoomName = function updateRoomName() {\n    var online = form.getFieldValue(\"isOnline\");\n    var allowTA = form.getFieldValue(\"allowTA\");\n\n    if (online) {\n      form.setFieldsValue({\n        officeHourName: allowTA ? \"Online\" : \"Online - Professor \".concat(lastName, \"'s Office Hours\")\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsx(Modal, {\n    title: \"Create a new queue\",\n    visible: visible,\n    onCancel: onCancel,\n    okText: \"Create\",\n    onOk: function onOk() {\n      return onSubmit(form);\n    },\n    children: /*#__PURE__*/_jsxs(Form, {\n      form: form,\n      layout: \"vertical\",\n      children: [/*#__PURE__*/_jsx(Form.Item, {\n        label: /*#__PURE__*/_jsx(\"strong\", {\n          children: \"Online?\"\n        }),\n        name: \"isOnline\",\n        initialValue: false,\n        valuePropName: \"checked\",\n        tooltip: \"Online queues automatically open a Teams chat when helping a student\",\n        children: /*#__PURE__*/_jsx(Switch, {\n          \"data-cy\": \"qc-isonline\",\n          onChange: onIsOnlineUpdate\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        hidden: role === Role.TA,\n        label: /*#__PURE__*/_jsx(\"strong\", {\n          children: \"Configure Queue Permissions\"\n        }),\n        name: \"allowTA\",\n        initialValue: true,\n        children: /*#__PURE__*/_jsxs(Radio.Group, {\n          onChange: updateRoomName,\n          \"data-cy\": \"qc-allowTA\",\n          children: [/*#__PURE__*/_jsx(Radio, {\n            \"data-cy\": \"qc-allowTA-unchecked\",\n            value: false,\n            children: \"Allow professors only\"\n          }), /*#__PURE__*/_jsx(Radio, {\n            \"data-cy\": \"qc-allowTA-checked\",\n            value: true,\n            children: \"Allow TAs to check in\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        label: /*#__PURE__*/_jsx(\"strong\", {\n          children: \"Queue Location\"\n        }),\n        name: \"officeHourName\",\n        rules: [{\n          required: true,\n          message: \"Please give this room a name.\"\n        }],\n        children: /*#__PURE__*/_jsx(Input, {\n          \"data-cy\": \"qc-location\",\n          placeholder: \"Ex: ISEC 102\",\n          disabled: !locEditable,\n          style: {\n            width: 350\n          }\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        label: /*#__PURE__*/_jsx(\"strong\", {\n          children: \"Additional Notes (optional)\"\n        }),\n        name: \"notes\",\n        style: {\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsx(TextArea, {\n          \"data-cy\": \"qc-notes\",\n          rows: 4,\n          placeholder: \"Notes\"\n        })\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}