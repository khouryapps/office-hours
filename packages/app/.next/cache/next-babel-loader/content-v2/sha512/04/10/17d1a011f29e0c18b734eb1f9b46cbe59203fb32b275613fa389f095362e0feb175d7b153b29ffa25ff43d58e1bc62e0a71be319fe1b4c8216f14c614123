{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { API } from \"@koh/api-client\";\nimport { Button, message } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport styled from \"styled-components\";\nimport { useCourse } from \"../../hooks/useCourse\";\nexport const CheckinButton = styled(Button).withConfig({\n  displayName: \"TACheckinButton__CheckinButton\",\n  componentId: \"sc-oiahss-0\"\n})([\"background:#1890ff;border-radius:6px;color:white;font-weight:500;font-size:14px;\"]);\nexport const CheckOutButton = styled(Button).withConfig({\n  displayName: \"TACheckinButton__CheckOutButton\",\n  componentId: \"sc-oiahss-1\"\n})([\"color:#da3236;font-weight:500;font-size:14px;border-radius:6px;\"]);\nexport default function TACheckinButton({\n  courseId,\n  room,\n  state,\n  disabled = false,\n  block = false\n}) {\n  const router = useRouter();\n  const {\n    course,\n    mutateCourse\n  } = useCourse(courseId);\n\n  async function checkInTA() {\n    // to see old check in in person functionality look at commit b4768bbfb0f36444c80961703bdbba01ff4a5596\n    //trying to limit changes to the frontend, all queues will have the room online\n    try {\n      const redirectID = await API.taStatus.checkIn(courseId, room);\n      mutateCourse();\n      router.push(\"/course/[cid]/queue/[qid]\", `/course/${courseId}/queue/${redirectID.id}`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n\n      message.error((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message);\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [state === \"CheckedIn\" && /*#__PURE__*/_jsx(CheckOutButton, {\n      type: \"default\",\n      size: \"large\",\n      disabled: disabled,\n      block: block,\n      \"data-cy\": \"check-out-button\",\n      onClick: async () => {\n        await API.taStatus.checkOut(courseId, room);\n        mutateCourse();\n      },\n      children: \"Check Out\"\n    }), state === \"CheckedOut\" && /*#__PURE__*/_jsx(CheckinButton, {\n      type: \"default\",\n      size: \"large\",\n      block: block,\n      onClick: () => checkInTA(),\n      disabled: disabled || !course,\n      \"data-cy\": \"check-in-button\",\n      children: \"Check In\"\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}