{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/var/www/source/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/source/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { API } from \"@koh/api-client\";\nimport { Role } from \"@koh/common\";\nimport { Button, Input, message, Select } from \"antd\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nvar OverrideInput = styled.div.withConfig({\n  displayName: \"AddOverrideInput__OverrideInput\",\n  componentId: \"sc-wmncc1-0\"\n})([\"display:flex;margin-bottom:20px;\"]);\nexport default function AddOverrideInput(_ref) {\n  var courseId = _ref.courseId,\n      onAddOverride = _ref.onAddOverride;\n\n  var _useState = useState(\"\"),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(Role.STUDENT),\n      role = _useState2[0],\n      setRole = _useState2[1];\n\n  var addOverride = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var resp, _e$response, _e$response$data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return API.course.addOverride(courseId, {\n                email: email,\n                role: role\n              });\n\n            case 3:\n              resp = _context.sent;\n              onAddOverride(resp);\n              setEmail(\"\");\n              message.success(\"Successfully added an override for \" + resp.name);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              message.error((_e$response = _context.t0.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function addOverride() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsxs(OverrideInput, {\n      children: [/*#__PURE__*/_jsx(Input, {\n        placeholder: \"Email\",\n        style: {\n          marginRight: 10\n        },\n        value: email,\n        onChange: function onChange(e) {\n          return setEmail(e.target.value);\n        }\n      }), /*#__PURE__*/_jsxs(Select, {\n        style: {\n          width: 120,\n          marginRight: 10\n        },\n        value: role,\n        onChange: function onChange(e) {\n          return setRole(e);\n        },\n        children: [/*#__PURE__*/_jsx(Select.Option, {\n          value: Role.STUDENT,\n          children: \"Student\"\n        }), /*#__PURE__*/_jsx(Select.Option, {\n          value: Role.TA,\n          children: \"TA\"\n        }), /*#__PURE__*/_jsx(Select.Option, {\n          value: Role.PROFESSOR,\n          children: \"Professor\"\n        })]\n      }), /*#__PURE__*/_jsx(Button, {\n        type: \"primary\",\n        onClick: addOverride,\n        children: \"Add Override\"\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}