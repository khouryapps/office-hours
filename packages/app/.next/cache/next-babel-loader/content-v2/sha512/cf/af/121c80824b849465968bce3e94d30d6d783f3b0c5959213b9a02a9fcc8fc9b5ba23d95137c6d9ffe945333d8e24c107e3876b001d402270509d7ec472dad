{"ast":null,"code":"import Router from \"next/router\";\nimport { useLocalStorage } from \"./useLocalStorage\";\nimport { useProfile } from \"./useProfile\";\n/**\n * Redirect user to the course apply page if they are a prof with pending courses,\n * or to the today page for their default course.\n */\n\nexport function useHomePageRedirect() {\n  const profile = useProfile();\n  const [defaultCourse] = useLocalStorage(\"defaultCourse\", null);\n\n  if (profile && profile.pendingCourses && profile.pendingCourses.length > 0) {\n    Router.push(\"/apply\");\n    return true;\n  }\n\n  if (profile && profile.courses.length > 0) {\n    /// defaultCourse can get out-of-sync with the user's actual registered course (dropped class etc)\n    const isUserInDefaultCourse = !!defaultCourse && profile.courses.some(c => c.course.id === (defaultCourse === null || defaultCourse === void 0 ? void 0 : defaultCourse.id));\n    Router.push(\"/course/[cid]/today\", `/course/${isUserInDefaultCourse ? defaultCourse.id : profile.courses[0].course.id}/today`);\n    return true;\n  }\n\n  return false;\n}","map":null,"metadata":{},"sourceType":"module"}